<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>《诗经》学习</title>
      <link href="/posts/26ee132.html"/>
      <url>/posts/26ee132.html</url>
      
        <content type="html"><![CDATA[<h1>0 导言</h1><p>学习书籍<a href="https://pan.baidu.com/s/11WNDy58JWwgGJXycZZB9vw?pwd=Ning">《诗经注析》</a></p><p>再研究《诗经》不是叠林架屋的工作，而是过去的研究多基于儒学，将其赋予“经夫妇、成孝敬、厚人伦、移风俗”的金科玉律和辅成王道的谏书。如今思想开化，应当抛弃这些固有观念的束缚，从本来面目去解读。</p><p>以“就诗论诗”的原则去解读，它就是一首颂德的歌、祭祀、宴饮、慈爱、送别、讽刺等。</p><p>赋比兴，（朱熹）兴者，先言他物以引起所咏之词也，（宋 李仲蒙）触物以起情谓之兴，物动情也。</p><h1>1 十五国风</h1><p>二南，即周南、召（音同绍）南，共25篇，周南11篇，是西周末、东周初（周王室东迁前）的作品。周南：周以南之地也。二南反映的是妇女们的劳动、恋爱、归宁、思夫、拒暴等生活和思想感情的诗居多，还有一些贺新婚、祝多子等主题。</p><h2 id="1-1-关雎">1.1 关雎</h2><p>贵族青年的恋歌，君子（当时指对贵族男子的称呼）</p><p>关雎</p><p>关关雎鸠，在河之洲。窈窕淑女，君子好逑。</p><p>参差荇菜，左右流之，窈窕淑女，寤寐求之。</p><p>求之不得，寤寐思服。悠哉悠哉，辗转反侧。</p><p>参差荇菜，左右采之。窈窕淑女，琴瑟友之。</p><p>参差荇菜，左右芼之。窈窕淑女，钟鼓乐之。</p><h2 id="1-2-葛覃">1.2 葛覃</h2><p>女子归宁（回家探望双亲的诗），文家用逆 之 至奇者也（由归宁想到洗衣服，由洗衣服想到制衣，由制衣想到割葛草，由葛草想到山谷藤蔓丛生黄鸟鸣叫）。</p><p>葛之覃兮，施（yi）于中谷，维叶萋萋。黄鸟于飞，集于灌木，其鸣喈喈(<strong>jiē</strong>)</p><p>葛之覃兮，施（yi）于中谷，维叶莫莫。是刈是濩，为絺为綌，服之无斁(异)。<br>言告师氏，言告言归。薄污（wu）我私，薄(bo)浣我衣。害（何）浣（缓）害否（fou）？归宁父母。</p><h2 id="1-3-卷耳">1.3 卷耳</h2><p>妇女想念远行丈夫。</p><p><ruby>采 <rt>cǎi</rt> 采 <rt>cǎi</rt> 卷 <rt>juǎn</rt> 耳 <rt>ěr</rt>，<rt class="symbol"></rt> 不 <rt>bù</rt> 盈 <rt>yíng</rt> 顷 <rt>qǐng</rt> 筐 <rt>kuāng</rt>。<rt class="symbol"></rt> 嗟 <rt>jiē</rt> 我 <rt>wǒ</rt> 怀 <rt>huái</rt> 人 <rt>rén</rt>，<rt class="symbol"></rt> 寘 <rt>zhì</rt> 彼 <rt>bǐ</rt> 周 <rt>zhōu</rt> 行 <rt>háng</rt>。<rt class="symbol"></rt></ruby></p><p><ruby> 　 <rt></rt> 　 <rt></rt> 陟 <rt>zhì</rt> 彼 <rt>bǐ</rt> 崔 <rt>cuī</rt> 嵬 <rt>wéi</rt>，<rt class="symbol"></rt> 我 <rt>wǒ</rt> 马 <rt>mǎ</rt> 虺 <rt>huī</rt> 隤 <rt>tuí</rt>。<rt class="symbol"></rt> 我 <rt>wǒ</rt> 姑 <rt>gū</rt> 酌 <rt>zhuó</rt> 彼 <rt>bǐ</rt> 金 <rt>jīn</rt> 罍 <rt>léi</rt>，<rt class="symbol"></rt> 维 <rt>wéi</rt> 以 <rt>yǐ</rt> 不 <rt>bù</rt> 永 <rt>yǒng</rt> 怀 <rt>huái</rt>。<rt class="symbol"></rt></ruby></p><p><ruby> 　 <rt></rt> 　 <rt></rt> 陟 <rt>zhì</rt> 彼 <rt>bǐ</rt> 高 <rt>gāo</rt> 冈 <rt>gāng</rt>，<rt class="symbol"></rt> 我 <rt>wǒ</rt> 马 <rt>mǎ</rt> 玄 <rt>xuán</rt> 黄 <rt>huáng</rt>。<rt class="symbol"></rt> 我 <rt>wǒ</rt> 姑 <rt>gū</rt> 酌 <rt>zhuó</rt> 彼 <rt>bǐ</rt> 兕 <rt>sì</rt> 觥 <rt>gōng</rt>，<rt class="symbol"></rt> 维 <rt>wéi</rt> 以 <rt>yǐ</rt> 不 <rt>bù</rt> 永 <rt>yǒng</rt> 伤 <rt>shāng</rt>。<rt class="symbol"></rt></ruby></p><p><ruby> 　 <rt></rt> 　 <rt></rt> 陟 <rt>zhì</rt> 彼 <rt>bǐ</rt> 砠 <rt>jū</rt> 矣 <rt>yǐ</rt>，<rt class="symbol"></rt> 我 <rt>wǒ</rt> 马 <rt>mǎ</rt> 瘏 <rt>tú</rt> 矣 <rt>yǐ</rt>，<rt class="symbol"></rt> 我 <rt>wǒ</rt> 仆 <rt>pú</rt> 痡 <rt>pū</rt> 矣 <rt>yǐ</rt>，<rt class="symbol"></rt> 云 <rt>yún</rt> 何 <rt>hé</rt> 吁 <rt>xū</rt> 矣 <rt>yǐ</rt></ruby></p><h2 id="1-4">1.4</h2>]]></content>
      
      
      <categories>
          
          <category> 生活 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 诗经 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>变革 | 机器人行业</title>
      <link href="/posts/6188b60a.html"/>
      <url>/posts/6188b60a.html</url>
      
        <content type="html"><![CDATA[<h1>0 信息源搭建</h1><p>首先，信息员渠道的整合优先采用RSS，安装一个RSS阅读器，选择了免费开源的Fluent Reader。</p><p>下载地址为：<a href="https://github.com/yang991178/fluent-reader/releases">Releases · yang991178/fluent-reader · GitHub</a></p><p>刚进入后，点击右上角的齿轮图标，可以用于导入其他阅读器上的RSS源——导入OPML file。</p><p>主流网站创建RSS——RSSHub，使用插件<a href="https://chromewebstore.google.com/detail/rsshub-radar/kefjpfngnndepjbopdmoebkipbgkggaa?pli=1">RSSHub Radar</a></p><p>1 机器人行业调研</p><p>大模型与机器人的文献综述 <a href="https://github.com/robotics-survey/Awesome-Robotics-Foundation-Models?tab=readme-ov-file">GitHub - robotics-survey/Awesome-Robotics-Foundation-Models</a></p><p>工业机器人被誉为“制造业皇冠上的明珠”。</p><p>2023年1月工信部发布《机器人+ 应用行动实施方案》，机器人政策导向：2025年我国制造业机器人密度实现翻番。</p><p>《东吴证券》2023年6月12日</p><p>工业机器人国产化提速，大六轴、焊接等低国产化率环节</p><p>2022年，我国工业机器人国产化率仅35%，国产化仍有较大提升空间。</p><p>行业阿尔法</p><p>大六轴、汽车3C、锂电与汽车融合、光伏行业、焊接机器人</p><p>下一个风口：AI自然语言及具身智能。</p><p>工业机器人市场痛点在于开发交付门槛较高，需要专业工程师手动编写代码，反复调试后才能匹配产线特有的任务需求。</p><p>AI大模型趋势下，工程师可通过大模型自动生成代码指令完成机器人功能的开发调试、日常对话来指挥机器人。2023年谷歌推出的视觉语言模型PaLM-E运用到工业机器人上，无需任何人类引导。2023年阿里巴巴将千问大模型接入工业机器人，成功用对话操控机器人工作。</p><p>机器人与人类直接对话，加速应用实现潜在应用领域渗透率飞跃。</p><p>机器人+产业链：核心零部件：控制器、伺服电机、减速器；其他零部件：摄像头、智能芯片、传感器；核心技术模块：环境感知、AI视觉、路径规划、运动控制、人机交互、操作系统。</p><p>中游：工业机器人、服务机器人、特种机器人、人形机器人</p><p>阻碍机器人大规模应用的因素：机器人可用性差、没用——机器人硬件能力低、软件无法发挥硬件能力（机器人应用软件少、不会用不好用）、贵</p><p>大模型能做什么？大模型定义是具有大量参数和较高计算资源需求，用于处理复杂任务并取得优异性能的机器学习模型。</p><p>大模型当前的应用：在自然语言处理方面，ChatGPT能与人流畅聊天】编写代码、理解段落和分析。在办公领域，微软的Copilot可以提高工作效率。</p><p>在图像生成领域，Midjourney、DALL-E为代表的文生图大模型，根据输入文字创建插图、设计产品以及产生新的业务创意图。</p><p>在教育领域，每个人都可以拥有一个存储了大量知识的智能助理，教育模式向着创新、沟通、推理能力的方向发展。</p><p>大模型并不适合做底层精确的控制，更适合做相对模糊的任务级规划，通过大模型直接生成机器人应用级代码是目前看来技术储备最多，最有可能快速落地的方向。</p><p>机器人是AI与物理世界的锚点。AI系统生成的指令，凡是需要与外界环境进行物理交互时，都需要机器人来完成具体的动作，机器人是AI系统落地物理世界的最佳载体。</p><p>目前包含AI和机器人的泛机器人产业圈，会依次经历分化的两类公司（以机器人核心零部件、精密控制为核心的机器人公司，提供功能强大、高度开放、成本可控的机器人产品）（以行业大模型应用技术解决某些细分场景行业的机器人应用产品公司，提供基础模型+所在行业的Know-how，提供行业的整体应用解决方案）——评价指标转变（之前机器人更关注精度、速度、振动抑制等，未来更关注感知能力、安全性、操作简易化水平、环境交互能力、接口开放程度等）</p><p>将人从工作、事务性中解除，而进入全身心的生存需求、精神体验、人文创作中。</p><p>有用的机器人不等于完美机器人。</p><p>人们会高估机器人的能力上限，同时低估机器人下限能带来的市场空间。</p><p>替代部分人工的机器人仍然是个大市场。</p><p>真正的进步来自于工作岗位的消灭——《经济学原理》</p><p>机器人+AGI会代替一大部分初中级内容生产者和低技能要求的工作者。</p><p>新技术在消灭一部分岗位的同时，通常会带来新的工作岗位。但是信息技术的进步会带来更多的岗位类型，岗位绝对数量是直接下降的。</p><p>劳动节约型技术</p><p>最后机器人国有化，成为类似自然资源、土地资源一样的状态，因为机器人代表了生产力，成为与土地类似的资源价值。在成为这一条件之前，必将经历机器人主 的时代，类似于奴隶主、地主、房地产主。</p><p>如果抬头看星星的几分钟内发现了一颗宝石，那么其后所谓的整个人类文明，不过是弯腰去捡它罢了。</p><p>——————</p><p>预训练基础模型（Pretrained foundation models）</p><p>当前的劣势在于缺乏机器人相关的训练数据、安全保证和不稳定质量、实时操作系统。</p><p>致力于探讨基础模型如何提高机器人的能力</p>]]></content>
      
      
      <categories>
          
          <category> 机器人 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 机器人行业 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>经济学入门</title>
      <link href="/posts/b1c2c426.html"/>
      <url>/posts/b1c2c426.html</url>
      
        <content type="html"><![CDATA[<h1>0 引言</h1><p>近期在公司群里经常看到CEO在分享一些行业、经济周期、裁员、工资之类的信息，从这些文章里弥漫的是一种不景气、人人自危的气息。但是没有研究过经济学的话，就只能被一些人的营销、吐槽或者偏见牵着鼻子走，把别人随口一句的吐槽当作是至上理论来看，那就太闹笑话了。</p><p>故而开启经济学方面的入门学习，旨在输出一篇有价值有思想深度的经济观。</p><h1>1 经济学入门笔记</h1><p>本文阅读自张建武的《经济学原理与应用》。</p><h2 id="1-1-导论">1.1 导论</h2><p>导论谈论了经济学的作用、发展历史、研究对象与基本内容、经济学理论体系、中国经济范式。</p><h3 id="1-1-1经济学的作用">1.1.1经济学的作用</h3><p>研究经济学不会使你脱离领接济食物的穷人队伍，但是至少会使你了解你为什么会站在那个队伍中。</p><h3 id="1-1-2-经济学的发展历史">1.1.2 经济学的发展历史</h3><p><strong>（1）古典经济学之前</strong></p><ul><li><p>重商主义（Mercantilism）：15世纪末到16世纪，欧洲商人海外扩张，认为对外贸易的多卖少买是获得财富的源泉。</p></li><li><p>重农主义（Physiocracy）：18世纪中，法国经济学家认为经济价值来源于土地和农民的劳动；财富的形成依赖于生产、流通、分配和消费的系统运作。</p></li></ul><p><strong>（2）古典经济学阶段（Classical Economics）</strong></p><ul><li><p>亚当·斯密（Adam Smith）与《国富论》：看不见的受理论——个人在经济生活中只考虑自己利益，通过分工和市场能自发进行个人利益、劳动分工和自由交易——劳动、资本和土地</p></li><li><p>大卫·李嘉图（David Ricardo）与《政治经济学及赋税原理》：劳动价值论——工资、利润和地租的对立关系——报酬递减法和差额地租理论——国际分工的比较优势理论、赋税原理和原则。</p></li><li><p>萨伊定律（Say’s Law）与三分法：19世纪初，法国经济学家萨伊在《政治经济学概论》中提出三位一体的公式——工资、利息和地租源于劳动、资本和土地；还提出萨伊定律——[供给能够自动创造需求]，以供给和需求变动而变动价格</p></li><li><p>詹姆斯·穆勒（James Mill）与四分法：《政治经济学要义》中提出四分法——经济学分为生产、分配、交换和消费</p></li></ul><p><strong>（3）新古典经济学阶段（Neoclassical Economics）</strong></p><ul><li><p>边际革命（Marginal Revolution）</p><p>——戈森定律（边际效用价值轮）：德国经济学家戈森：人类行为目的是追求最大化享乐，受边际效用递减规律和边际效用相等规律。</p><p>——边际生产力理论：美国克拉克从存量分析到增量分析。</p></li><li><p>马歇尔（Alfred Marshall）与新古典经济学：英国学家马谢尔在1890年出版的《经济学原理》中以均衡价格理论提出系统的微观经济理论——厂商群体构成供给力量，基础是边际成本；消费者群体构成需求力量，基础是边际效用。供给与需求、边际成本与边际效用共同决定市场的均衡价格。</p></li><li><p>不完全竞争理论：不理性的个人</p></li><li><p>垄断竞争理论：</p></li><li><p>博弈论：各种企业行为</p></li></ul><p><strong>（4）现代西方主流经济学</strong></p><ul><li><p>凯恩斯革命与宏观经济学：1936年，凯恩斯（Keynesian）在《就业、利息和货币通论》中提出国民收入决定理论和政府干预经济思想。</p></li><li><p>后凯恩斯主义（Post Keynesianism）</p><p>——新古典综合学派：1948年美国萨缪尔森《经济学》融合了宏观和微观经济学，以经济增长为宏观政策的主要目标，对工资、物价进行管制</p><p>——新剑桥学派：价值理论、经济增长理论和收入分配理论，认为经济危机的根源是收入分配失调。</p></li><li><p>新自由主义经济学：信奉自由市场理念，反对政府干预主义。</p></li><li><p>新凯恩斯主义经济学：将微观供求概念运用于经济增长与发展、国际贸易、公平与效率问题的探讨方面</p></li></ul><h3 id="1-1-3-研究对象与基本内容">1.1.3 研究对象与基本内容</h3><p><strong>（1）研究对象</strong></p><p>人类行为与具有各种不同用途的稀缺资源之间的关系</p><p><strong>（2）基本问题</strong></p><ul><li><p>资源配置：生产什么、生产多少、如何生产、为谁生产</p></li><li><p>资源利用：失业现象（资源未充分利用）、经济波动（产量不稳定）、通货膨胀/紧缩（货币购买力不稳定）</p></li></ul><p><strong>（3）基本假设</strong></p><ul><li><p>稀缺性假设：相对于人类欲望资源是有限的</p></li><li><p>经济理论假定：经济理性</p></li><li><p>理性选择和机会成本：资源中选择最优的一项</p></li></ul><p><strong>（4）经济体制</strong></p><p>经济体制是指不同的资源配置方式。</p><ul><li><p>市场经济体制（Market Economy）：市场机制决定谁生产、生产什么、如何生产</p></li><li><p>计划经济体制（Planned Economy）：政府对资源进行分配</p></li><li><p>混合经济体制（Mixed Economy）：市场和计划相结合的资源配置方式</p></li></ul><h3 id="1-1-4-经济学理论体系">1.1.4 经济学理论体系</h3><ul><li><p>微观经济学（Microeconomics）</p><p>——研究对象：单个经济主体，包括消费者（个人或家庭）、生产者（厂商）、生产要素所有者</p><p>——核心内容：价格机制，即市场交换中供需行为及影响</p><p>——研究要素：研究经济个体利益最大化的行为，解决社会资源的最优配置问题</p></li><li><p>宏观经济学（Macroeconomics）</p><p>——研究对象：整体经济活动，如一个国家、一个联盟、全球经济等</p><p>——核心内容：国民收入决定理论</p><p>——研究要素：研究现有资源未能充分利用的原因、达到充分利用的途径，以及如何实现增长等问题。</p></li></ul><h3 id="1-1-5-中国经济范式">1.1.5 中国经济范式</h3><ul><li><p>制度前提：社会主义市场经济，目标是共同富裕</p></li><li><p>问题导向的经济学：针对现状提出问题进行建立理论体系</p></li><li><p>开放的经济学</p></li></ul><h2 id="1-2-微观经济学">1.2 微观经济学</h2><h3 id="1-2-1-价格理论">1.2.1 价格理论</h3><p>市场价格是如何形成的？</p><p><strong>（1）需求理论</strong>（Demand）</p><p>需求：在其他因素不变的条件下，消费者在一定时期内在各种可能的价格下愿意并且能够购买该商品的数量。</p><p><img src="%E5%9B%BE%E7%89%87%5C%E5%8D%9A%E5%AE%A2%5Clife%5CEco1.png" alt=""></p><p><strong>（2）供给理论（Supply）</strong></p><p>供给：在其他因素不变的条件下，供给者在一定时期内在各种可能的价格下愿意并且能够提供该商品的数量。</p><p><img src="%5C%E5%9B%BE%E7%89%87%5C%E5%8D%9A%E5%AE%A2%5Clife%5CEco1.png" alt=""></p><p><strong>（3）均衡价格（Equilibrium Price）</strong></p><p>一种商品的市场需求量和市场供给量相等时的价格，为该商品的均衡价格。</p><p><img src="%5C%E5%9B%BE%E7%89%87%5C%E5%8D%9A%E5%AE%A2%5Clife%5CEco3.png" alt=""></p><p><strong>（4）弹性理论（Elasticity）</strong></p><p>弹性：当价格在某一范围波动时，需求量和供给量的变化程度</p><p><img src="%5C%E5%9B%BE%E7%89%87%5C%E5%8D%9A%E5%AE%A2%5Clife%5CEco4.png" alt=""></p><h3 id="1-2-2-消费理论">1.2.2 消费理论</h3><p>经济体的每个个体作为消费者如何选择产品。</p><p>边际效用递减规律是基数效用论推到消费者需求曲线的基础。</p><p><strong>（1）基数效用</strong></p><p>基数效用者论指出：消费者对商品愿意支付的最高价格应该取决于商品的边际效用，当某种商品的边际效用越大，消费者购买这一商品所愿意支付的最高价格就越高。</p><p>消费者剩余：随着消费者对某种商品消费数量的不断增加，该商品的边际效用是递减的，对每一单位该商品的支付意愿也是递减的。但是消费者购买商品时是按照市场价格支付的，因此在市场价格和消费者愿意支付的最高价格之间就产生了一个差额，叫做消费者剩余。</p><p><strong>（2）序数效用</strong></p><p>效用无法衡量，只能用顺序或等级来表示消费者的偏好。</p><p>无差异曲线是用来描述消费者偏好相同的两种商品的各种不同组合的轨迹。对于Y的需求增加，对于X的需求就会减少，由于边际替代率递减，所以曲线凸向原点。</p><p><img src="%5C%E5%9B%BE%E7%89%87%5C%E5%8D%9A%E5%AE%A2%5Clife%5CEco5.png" alt=""></p><h3 id="1-2-3-生产者理论">1.2.3 生产者理论</h3><p>经济体的每个企业如何提供产品的供给。</p><p>经济学把人力抽象为劳动，把物力抽象为资本。如果工人的工资为W，产品的市场价格为p，则如果W/P比较大，工人则会被解雇。MP叫做劳动的边际产量，pXMP为劳动的边际产值。</p><p>生产要素的最佳组合、规模经济与成本分析、短期成本与长期成本。</p><h3 id="1-2-4-市场理论">1.2.4 市场理论</h3><p>市场结构包括市场概念、完全竞争市场和非完全竞争市场三个部分。在不同的市场结构中，厂商面对不同条件的均衡状况理解厂商的最优决策，并推导短期和长期内厂商及行业的供给曲线。</p><p><strong>（1）市场</strong></p><p>市场是从事物品交易的场所或地点。厂商是根据一定目标为市场提供商品和劳务的独立经营单位，行业是指为同一商品市场生产和提供商品的所有厂商的总体。</p><p><strong>（2）市场结构</strong></p><p>市场结构主要基于市场的竞争或垄断程度，厂商数量越少，规模越大、产品的差异化程度、单个厂商对价格的控制影响力、厂商进入或退出行业的难易程度。</p><p>如何界定行业是垄断还是竞争的？商标定义，每个厂商都是垄断的；以功能定义，不存在垄断。目前并没有决定是否为垄断的依据。</p><p><strong>（3）市场中厂商的决策</strong></p><p>厂商的市场决策应基于利润最大化原则——销售收益减去经济成本之后的经济利润。</p><p><strong>（4）完全竞争市场的均衡</strong></p><p>完全竞争是一种理想模型，需要产品无差别、厂商无差别、行业无壁垒、信息无断差。只有这种情况下才可以完全由供求决定。在现实中，这种情况不可能存在，但是完全竞争有助于建立资源配置效率的标准。</p><p>完全竞争市场中，无论厂商如何改变常量，都不影响它面对的市场价格，收益曲线是按照销量的增加而增加。生产持续的方式是存在生产者剩余。</p><p>短期内如果单个厂商有生产者剩余，行业的生产者剩余可以通过将行业内所有厂商的生产者剩余加总而得到。</p><p><strong>（5）完全垄断市场的均衡</strong></p><p>垄断一般指一家厂商完全控制整个市场的商品供给——厂商商品不可替代、阻止其他厂商进入、控制核心技术等。</p><p>也存在竞争的结果，即优胜劣汰，只留下效率最高的厂商。</p><p>也存在政府干预的结果。</p><p>完全垄断厂商作为市场价格的制定者，可以根据市场情况选取不同策略确定市场价格，即差别定价策略。垄断厂商在统一定价的情况下，厂商只能在量少高价、量多低价之间选择；差别定价让厂商在维持产品价格的同时又不失去市场销量。</p><p>对垄断市场的批评主要有：垄断厂商追求利润结果而使市场价格更高、产量更低。生产者对资源利用率较低，没有在长期平均成本的最低点生产，存在对消费者福利的剥夺。</p><p><strong>（6）垄断竞争市场（Monopolistic Competition Market）</strong></p><p>垄断竞争市场是既垄断又竞争，既不完全垄断，又不完全竞争的市场：差别化的产品、数量较多的厂商、进出行业比较容易。其中，差别化的产品是垄断竞争与完全竞争之间最主要的区别。</p><p>产品差异是客观的，也可能是消费者主观感受的差异，无论主观和客观差异，都需要厂商进行宣传和广告来扩大影响，频繁的广告宣传是垄断竞争市场的一大特点。</p><p>垄断竞争市场如果存在超额利润，新厂商会进入，导致价格下降；如果亏损，则有厂商退出，从长期均衡条件来看，是所有厂商均获得正常利润。</p><p>优点：品质竞争和差异化竞争有利于推动企业创新、垄断竞争的市场能够为消费者提供多样化的产品和服务，比完全竞争市场更接近现实社会。</p><p><strong>（7）寡头垄断市场（Oligopoly Market）</strong></p><p>罐头市场是少数几家厂商控制整个市场产品生产和销售的市场组织，介于垄断竞争与垄断之间。厂商之间存在紧密联系，既相互竞争又互相合作。</p><p>产量决定式：厂商之间不进行价格竞争，而是在维持价格稳定的前提下进行产量分配。</p><p>价格决定式：有实力进行价格战，通过签订协议来控制产量、分享市场和维持价格。</p><h3 id="1-2-5-生产要素收入分配理论">1.2.5 生产要素收入分配理论</h3><p>经济体的每个个体作为生产要素供给者如何做出选择。</p><p><strong>（1）生产要素的需求和供给</strong></p><ul><li><p>生产要素组成：劳动、资本、土地和企业家才能</p></li><li><p>生产要素价格：工资、利息、地租和利润。</p></li><li><p>生产要素的需求：企业（原则是利润最大化）</p></li><li><p>生产要素供给者：原始的是消费者，中间的是厂商</p></li></ul><p><strong>（2）生产要素的需求特征</strong></p><p>派生需求：产品市场需求取决于消费者的直接需求，生产要素的需求是派生需求。</p><p><strong>（3）要素的边际效益产品和要素的边际产品价值</strong></p><p>要素价格决定理论是分配理论的重要组成部分，边际生产力理论是要素价格决定的主要理论基础。</p><p><strong>（4）工资理论</strong></p><p>工资，即劳动力的价格，是由劳动力的需求和劳动力的供给同时决定的。</p><p>劳动力需求不仅跟劳动力本身的市场结构有关，还跟该劳动力生产的产品所获得的收益有关。</p><ul><li><p>完全竞争市场：产品市场和要素市场皆为完全竞争市场的称为完全竞争市场</p></li><li><p>卖方垄断市场：产品市场为不完全竞争市场，而要素市场为完全竞争的市场称之为卖方垄断市场；</p></li><li><p>买方垄断市场：产品市场为完全竞争市场，而要素市场为不完全竞争的市场称为买方垄断市场。</p></li><li><p>双边垄断市场：产品市场和要素市场皆为不完全竞争市场。</p></li></ul><p><strong>（5）利息、地租和利润理论</strong></p><p>资本所有者提供了资本就要得到报酬，这种报酬就是利息。</p><p>消费者的决策遵循消费者行为分析的效用最大化。消费者之所以愿意储蓄，提供资本的供给，其目的是增加未来的效用，从而增加消费者当前和未来两个时期的总的效用。</p><p>地租：为使用土地而支付的价格，是由土地的供给和需求决定的。土地泛指一切自然资源。土地是自然赐予，除了供人使用外别无他用。土地从总量上看，供给是给定的，</p><p><strong>（6）社会收入分配与分配政策</strong></p><p>要素收入分配理论：在其他生产要素数量不变的情况下，任一要素每增加一单位所带来的产品增量将是递减的，最后增加的一单位生产要素的生产率最低，被称之为边际生产率，由它决定各种生产要素所获得的报酬。</p><p>劳动者得到的报酬是否公平，正如丛林中动物们所获得的食物是否公平？竞争市场是根据劳动者的生产率来分配工资和利润的，而不是根据某个道德标准。</p><p>市场中是否有一只看不见的手，使得最优价值的人得到其应得得报酬？事实上，竞争得市场并不能保证收入和报酬必然会分配到那些最需要或最应得的人的手中，在市场经济下，收入和消费的分配不仅反映了劳动者的工作努力，聪明智慧恶技术娴熟，，同时也反映其初始继承的财富和其他各种因素。</p><p>收入分配平等性度量指标：洛伦兹曲线和基尼系数</p><p><img src="%5C%E5%9B%BE%E7%89%87%5C%E5%8D%9A%E5%AE%A2%5Clife%5CEco6.png" alt=""></p><p>洛伦兹曲线先将人口按照收入由高到低排序，然后计算收入最低的任意百分比人口所得到的收入百分比。将这样得到的人口累积百分比和收入累积百分比的对应关系描绘在图形上，得到的弯曲的曲线就是洛伦兹曲线。弯曲程度越大，收入分配程度就越不平等。</p><p>基尼系数是实际弯曲的收入分配曲线与绝对平等线之间的面积，数值越小，表示收入分配越趋向于平等。</p><p>收入分配不平等的原因：收入不平等是客观事实，主要有以下几个方面：历史原因决定的初始财产分配状态的不平等；来源于劳动力的差异；要素报酬率的不平等造成了分配的不平等。（特殊行业往往具有较高的报酬率）</p><p>政府决策：税收政策、社会福利政策可以调节收入水平，适当缓解收入分配的不平等。</p><h3 id="1-2-7-市场失灵和微观经济政策">1.2.7 市场失灵和微观经济政策</h3><p>政府之所以要参与经济活动，是由于现实的市场机制运行经常会背离帕累托最优，出现市场失灵，需要政府进行调节和干预，发挥”看得见的手“的功能，以弥补市场的不足，促进效率、公平和稳定。</p><ul><li><p>帕累托最优：任何改变都不可能使至少一个人的状态变好又不使任何人的状态变坏的资源配置状态</p></li><li><p>帕累托改进：一种变化，在没有任何人情况变坏的前提下，使得至少一个人的情况变得更好。</p></li></ul><p><strong>（1）市场失灵的原因</strong></p><ul><li><p>垄断：在垄断情况下，卖主通过提高产品价格和限制产量来选择最有力的价格</p></li><li><p>外部性：私人的经济活动对他人造成了影响而未将这些影响计入市场交易的价格和成本之中，消费者的过多消费或过少消费，生产者的生产过多或生产过少。</p></li><li><p>公共物品：不能有效提供社会正常活动所必不可少的公共物品（公共物品具有非竞争性和非排他性这两个基本特征）</p></li><li><p>信息不完全和不对称：信息和其他资源一样也是稀缺的，有价值的，要想获得足够的信息就必须支付足够的费用。</p></li></ul><p><strong>（2）政府干预的必要性</strong></p><p>由于存在市场失灵，政府作用在于解决市场自身所不能解决的问题，通过相关法律法规来抑制垄断行为；存在外部不经济现象，通过税收或者其他管制措施来限制外部不经济行为；公共物品无法通过市场机制来提供，政府通过合理机制来提供公共物品。</p><p>（<strong>3）政治失灵</strong></p><p>政府解决垄断问题的一种政策是公有制，即政府代替私人企业经营的自然垄断。但这种方式经常会带来一些失灵现象，主要原因在于产权不明晰、对管理人员缺乏必要的约束激励机制。企业成本上升，效率低下，对全社会福利造成影响。</p><p><strong>（4）公共物品</strong></p><ul><li><p>国防</p></li><li><p>基础研究</p></li><li><p>清洁的空气和水</p></li><li><p>拥挤的道路</p></li><li><p>动物物种</p></li></ul><p>特点是某人不进行购买而消费某种物品，由政府供给，政府通过征税的办法解决对公共物品只消费不购买的问题。</p><p><strong>（5）外部性</strong></p><p>外部性是指对他人产生有利或不利的影响而不需要他人对此支付报酬或进行补偿的活动。</p><p>如植树、种花、遵守交通规则、从事基础研究等；吸烟、半夜放摇滚、排放废气等。</p><p>当一个生产者采取的经济行动对他人产生了有利的影响，而自己却不能从中得到报酬，例如一个企业对其雇员进行培训，而这些雇员却转到其他企业工作。</p><p><strong>（6）不完全信息</strong></p><p>由于认知能力的限制，人们不可能知道在任何时候、任何地方发生的或将要发生的任何情况，而是指相对意义上的不完全，即市场经济本身不能够产生足够的信息并有效地配置他们。</p><p>不同的经济主体缺乏信息的程度是不同的：卖方一般比买方对产品的质量有更多的了解。</p><p>在市场中存在信息不完全的情况下，可能导致逆向选择和道德风险。当消费者掌握的市场信息不完全时，他们对商品的需求量就可能不随价格的下降而增加。逆向选择是在签订委托——代理合同前常见的隐蔽信息行为，大量出现在商品销售市场、保险市场、劳动力市场、借贷市场、旅游服务市场、古董字画等文化市场上。</p><p>道德风险是拥有信息多的一方以自己的信息优势来侵犯拥有信息少的乙方利益，来实现自己利益的可能性。</p><p><strong>（7）信号机制</strong></p><p>为传递私人信息发信号：有信息的一方仅仅为了获得信任而披露自己私人信息所采取的行动，如企业花钱做广告，学生发放简历。</p><h2 id="1-3-宏观经济">1.3 宏观经济</h2><p>宏观经济学是从经济体的角度出发，对经济整体运行和相关决策进行讨论，重点研究经济体总体收入水平为什么繁荣或者萧条，并随之发生的失业情况和总体价格水平的变动、总体收入水平增长速度？价格水平的变动问题？</p><p>总体目标</p><p>——保持可持续的经济增长：国内生产总值GDP、国民生产总值GNP、个人可支配收入DI</p><p>——保持总体价格稳定：消费者价格指数CPI、生产者价格指数PPI、GDP平减指数</p><p>——保持较低的失业率水平：劳动参与率与失业率</p><h3 id="1-3-1-国民经济核算">1.3.1 国民经济核算</h3><p><strong>（1）国内生产总值</strong></p><p>国内生产总值是最常用的对国家总体收入水平和经济整体运行状况的衡量指标</p><ul><li><p>概念：经济体在一定时期内所生产的所有最终产品（商品与服务）的市场价值</p></li><li><p>GDP测度的是最终产品的市场价值（相对于中间产品的）</p></li><li><p>GDP测度的是所生产的而不是首卖掉的最终产品的价值</p></li><li><p>GDP测度的是合法市场活动产生的市场价值，家务劳动、黑市交易等不计</p></li></ul><p>计算方式：收入法、生产法、支出法。其中，收入法、支出法是常用的两类GDP核算法。</p><p>收入法核算的国内生产总值：工资、利息和租金、公司税前利润、企业转移支付及企业间接税、资本折旧</p><p>支出法核算的国内生产总值：消费者——私人消费+企业——投资+政府——政府购买+国外部门——净出口</p><p>理论上，收入法与支出法得到的国内生产总值应该一致，但是由于资料来源和计算方法不同，实际结果并不完全相同，两者差额为统计误差。</p><ul><li><p>名义GDP是按照当年价格计算的全部最终产品的市场价值，实际GDP是用某一年（基年）的固定价格计算的全部最终产品的市场价值。</p></li><li><p>GDP平减指数：同一时期名义GDP与实际GDP之间的差异可以反映这一时期和基期相比整体价格水平的变动。名义GDP/实际GDP的比率。</p></li></ul><p><strong>（2）物价与失业水平的衡量</strong></p><p>衡量经济体整体价格水平最常用的两种价格指数是消费者价格指数CPI和GDP平减指数。</p><p>中国CPI指数是对城市居民消费者价格指数和农村居民消费者价格指数进行综合计算的结果。国家统计部门采用抽样调查方法抽选确定调查网点，按照“定人、定点、定时”的原则进行采集原始数据。</p><ul><li><p>通货膨胀率（Inflation Rate）：各类经济体整体价格水平的衡量指数计算整体价格水平的增长率</p></li><li><p>通货膨胀（Inflation）：整体价格水平上涨</p></li><li><p>通货紧缩（Deflation）：整体价格水平下降</p></li></ul><p>失业水平的衡量：成年人口中属于劳动者人数的百分比称为劳动力参与率</p><ul><li><p>劳动力者=就业者+失业者</p></li><li><p>劳动力参与=（劳动力者/成年总人口数）X100%</p></li></ul><p><strong>（3）国民收入基本公式</strong></p><ul><li>储蓄投资恒等式：储蓄=投资</li></ul><h3 id="1-3-2-国民收入决定理论">1.3.2 国民收入决定理论</h3><p>经济体的整体收入水平中，总收入的长期趋势称为经济增长，围绕长期趋势的反复波动称为经济周期波动。解释经济周期波动的主流理论分为凯恩斯主义和新古典主义，区别是对于短期价格变动的假设。</p><h3 id="1-3-3-宏观经济调控">1.3.3 宏观经济调控</h3><p>政府在宏观经济调控中会使用财政政策工具和货币政策工具。</p><p>宏观调控的目标：充分就业、经济增长、物价稳定、国际收支平衡</p><p><strong>（1）财政政策</strong></p><p>财政收入来自各种税收：财产税、所得税、货物税</p><p><strong>（2）财政赤字</strong></p><p>国家年度预算的支出超过了收入，出现赤字，通过两种方式补偿：增发货币和发行公债。债务问题会引发对政府的信任危机从而影响功能的正常运转。政府用税收来归还利息，用重新发债来弥补到期的债务本金。</p><h3 id="1-3-4-开放经济下的短期经济模型">1.3.4 开放经济下的短期经济模型</h3><p><strong>（1）国际收支</strong></p><p>一定时期内一国与他国之间进行贸易往来的系统记录。国际收支平衡表包括三个账户：经常账户（经常性或短期资金流入流出的情况）、资本和金融账户（直接投资、证券投资、其他投资）、储备资产（外汇、黄金、特备提款权）。</p><p><strong>（2）布雷顿森林体系</strong></p><p>战后以美元为中心的国际货币体系，各国对货币的兑换、国际收支的调节、国际储备资产的构成等问题共同确认的规则。</p><p>其本质是美元与黄金挂钩，其他国家货币与美元挂钩，实现固定汇率制度。</p><h2 id="2-当下的时代巨变">2 当下的时代巨变</h2><p><a href="https://mp.weixin.qq.com/s?__biz=MzUyNjY3NTY0NA==&amp;mid=2247489409&amp;idx=1&amp;sn=2dffb0d03617471e2c29e640b6b77ccd&amp;chksm=fa0a6c52cd7de544b66c9cb1f907e3c252d051ef88e071019e147dbaa576cb2d7960209e2ae2&amp;token=1012429314&amp;lang=zh_CN#rd">时代变革文章</a></p><h1>3 中日韩经济发展模式</h1><h2 id="3-1-日本经济史">3.1 日本经济史</h2><p>1953~1965年，在美国的协助下，进入了以制造业为核心的经济快速增长时期（制造中心如钢铁、化工而后是汽车制造、电子等）</p><p>1973年石油危机，日本制造业重心转移至利益较高的半导体、集成电路</p><p>1970~1980，日本经济增长为4%</p><h2 id="3-2-韩国经济史">3.2 韩国经济史</h2><ul><li><p>1948~朝鲜战争前：土地改革，自然资源国有，消灭封建土地所有制原则</p></li><li><p>战争破坏到美国援助：财政安定计划，以稳定物价为主</p></li><li><p>高速发展期（1961-1979年）：转安定计划为工业化政策，发展出口导向的外向型经济，取代进口替代政策，重点发展了劳动密集产业，并加强了基础设施的建设。</p></li><li><p>1979年，第二次石油危机</p></li><li><p>结构调整阶段（1980~1996）：1989年，出口和外国订单减少而陷入低迷。出口下降是结构性问题造成，随着经济规模的不断扩大和市场机制的不断完善，政府主导经济能力和效率不断下降，重化工政策使韩国经济结构失衡。</p></li><li><p>再起飞阶段（1997年至今）：在亚洲金融危机下，韩国政府对企业、金融、公共事业、劳动用工四个领域开始改革，将发展高科技提升为国家战略，第二次科技立国战略。大力倡导文化产业，形成韩流，打造为世界第五大文化强国。</p></li></ul><h2 id="3-3-中日韩">3.3 中日韩</h2><p>经济发展模式是一定时期内和一定条件下以经济增长为前提和基础的经济发展基本特点的总结概括，反映一国在一定时期内的经济发展状况。</p><p>作为后发优势国家，中日韩三国都行程了一套特有的发展模式</p><ul><li><p>日本的经济发展模式：政府主导型经济体制，1956年，日本政府制定了《经济自立五年计划》；1960年，日本制定了《国民收入倍增计划》；合理的产业政策的制定和实施。根据经济发展不同阶段执行不同的产业结构</p><p>——二战恢复期：倾斜性产业政策，以钢铁、煤炭、电力、造船四大产业为重点</p><p>——经济稳定增长期：调整能源及资源结构，由高能耗的资本密集型向低能耗的技术密集型产业转变</p><p>——经济萧条阶段：由技术密集型向知识密集型产业</p><p>依赖外部市场的外向型经济——贸易立国</p><p>重视技术引进与技术研发——科技兴国</p></li><li><p>韩国的经济发展模式：政府调控经济发展体制，韩国的产业政策、政企、银企的关系是日本的翻版。1962年实行五年计划，通过战略和政策对经济运行直接干预</p><p>出口导向型发展战略：充分利用国内外两种资源、两个市场带动，通过大量吸收外贸和国外先进技术，进口所需设备和原料，以出口贸易带动整个国民经济的发展，推动工业化进程。</p><p>调整产业结构：</p><p>——20世纪60年代，劳动密集型产业转移的重要承接地，韩国经济大力发展</p><p>——70年代后期，西方经济衰退，贸易保护加强，出口受阻，由劳动密集型产业向资本密集型产业升级，重点发展重化工业</p><p>——80年代，提出科技立国，将经济发展重心转移到技术密集型产业</p><p>重视引进外资和技术</p></li><li><p>中国的经济发展模式：计划经济体制、转轨经济体制和市场经济体制，行程了时代特征的经济发展模式。发挥国家主导的作用。1953年，开始进行“五年计划”；以加工贸易参与全球分工的外向型经济、吸引外资和引进技术相结合。</p></li><li><p>相似性：政府进行干预、产业结构调整、充分重视外向型经济发展。</p></li></ul><p>如果我们将中国处于改革的各个阶段与日本和韩国的类似阶段进行比较，就可以发展中国的改革不那么成功，按照美元计算，中国落后了日本40年，更是远远落后于韩国。</p><p>中国在未来能不能繁荣发展？与10年前相比，国家主导的发展优势的忠实信徒减少了，但是让门依旧存在，一种方法是评估中国的基本面，另一个是计算数字，</p><p>————</p><p>日本于1946年重建，韩国改革始于1962年，中国改革始于1979年。日本上世纪90年代房地产泡沫破灭后陷入长期低迷的状态，1970年日本迈入人口老龄化，1994年迈入深度老龄化</p><p>我国2021年步入深度老龄化，但是同等时期相比，日本的人均GDP要高过我们的三分之二。</p><p>日本已经躺在发达经济的摇篮里了，而我们还要努力去跨入高收入国家的门槛，还要避免陷入“中等收入陷阱”。</p><p>————</p><p>2022年开始进入老龄化的加速阶段，65岁以上人口占比14.9%，深度老龄化提速，相比德国老龄人口占比在1972年达到14%，36年后才突破20%，进入超老龄化阶段。</p><p>随着年轻人数量减少和城市化进程放缓，购房需求下降，房地产行业步入下行周期，拐点在2021年6越，我国以投资拉动主导的经济增长模式需要转型。</p><p>存在“未富先老“的现象，而西方国家普遍是”未老先富“。日本90年代的难题：房地产走弱、人口老龄化、社会债务负担加重。但是中国和日本的体制上差异巨大，中国人口多、地域广。</p><p>高质量增长是今后的必选题。</p><p>制造业工人薪酬的大幅提升也导致了出口竞争力的恶下降。</p><p>不少人担忧中国制造业外迁，从而导致中国走日本的产业空心化。中国与日本当时的情况不同在于中国虽然有围堵，但是后无追兵，越南？印度？</p><p>经济结构失衡、地缘政治摩擦，将加剧政治震荡。</p><p>生活水平提升，不代表经济大繁荣，我们仍在疲于挣钱，相比发达国家坐在咖啡店喝咖啡的时光，我们仍然差了好多。</p><p>近年来劳动力素质提升对劳动生产率的贡献变化很小，不存在显著的”工程师红利“效应。未来十年中国经济增速会继续下行，主要是因为代表长周期的建筑周期步入下行阶段，与日本90年代类似，即人口步入深度老龄化、房地产需求下降、经济规律不可抗拒。</p><p>中国经济不会出现断崖式下降，也不会出现长期停滞，因为政府早就严格限制了银行和各类机构参与房地产投资。</p><p>今后，可以继续通过产业政策，区域经济政策、财政、货币政策等来支持经济稳增长。</p><p>————</p><p>中国经济的两大特征：中国作为全球制造业大国的地位难以撼动，中国只有保持高水平开放和至少10%以上的全球出口份额才能避免制造业的产能过剩。</p><p>我国制造业几乎是完全竞争的，受管控产业或行业较少，故市场化程度更高，容易出现供给过剩；而服务业的行业管控过多，容易出现供给不足，如教育、医疗、文化娱乐等</p><p>我国劳动力成本上升，导致部分中低端产业外迁；全球经济走弱是长期趋势，不利于我国的出国增长。</p><p>2023年年初国家以恢复和扩大消费放在首要位置，核心目标是多渠道增加居民收入，尤其是中低收入群体的收入水平，从而改变需求收缩和预期转弱的局面。具体举措是从增量和存量调节两方面入手，增量是通过增加民生的财政支出，存量是调节收入分配体制改革。</p><p>总之，每个经济体在迈向现代化的进程中，都会出现人口老龄化、资本过剩、劳动力成本上升、出口增速回落、从投资向消费转型的过程。</p><p>转移夕阳产业，致力于培育新兴产业，避免空洞化现象。</p><p>中枢下移：日韩经济增速换挡的本质原因是经济到了潜在增长率下降的临界点：</p><ul><li><p>劳动：高速增长末期，人口总量增速放缓，人口红利接近尾声，城市化进程减速，工资水平快速提升</p></li><li><p>资本：高速增长期，土地、能源等要素价格大幅上涨</p></li><li><p>技术：技术模仿的发展模式遭遇瓶颈，不得不转向主动创新。</p></li></ul><p>产业结构调整：腾笼换鸟</p><ul><li><p>日本：钢铁、有色、化工转向汽车、家电、机械</p></li><li><p>韩国：轻工业转向电气、电子</p></li><li><p>未来：传统消费向新兴消费，实物消费向服务消费</p></li></ul><p>高新技术：加快追赶步伐，进一步抢占技术高地，攻克卡脖子技术，实现自产、自创、自升级</p><h1></h1>]]></content>
      
      
      <categories>
          
          <category> 生活 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 书单 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Adams仿真系统学习笔记（中级）</title>
      <link href="/posts/4.html"/>
      <url>/posts/4.html</url>
      
        <content type="html"><![CDATA[<h1>0 引言</h1><p>Adams应用于工业机械臂，需要依次完成</p><ul><li><p>连杆关节参数化建模，包括杆长、质量、惯量、质心位置等</p></li><li><p>关节运动学、动力学分析</p></li><li><p>目标轨迹输入逆运动学</p></li></ul><h1>1 连杆关节参数化建模</h1><h2 id="1-1-机器人学概述">1.1 机器人学概述</h2><p>关于关节建模，在机器人学中均有提及，可参考以下书籍（美、德、日），此处仅作总结整理。</p><ul><li><p><a href="https://pan.baidu.com/s/1M5UdasWfreWjs4h0mFfRjA?pwd=Ning">《机器人学导论》</a></p></li><li><p><a href="https://pan.baidu.com/s/1VB5EGJkjkBmOmfpkfycSpQ?pwd=Ning">《新版机器人技术手册》</a></p></li><li><p><a href="https://pan.baidu.com/s/1GKsq23GSDnMzw3zj7gIpPw?pwd=Ning">《机器人手册》</a></p></li><li><p><a href="https://pan.baidu.com/s/1uD4--GKNd8B7JkLvoUc8Aw?pwd=Ning">《现代机器人学》</a></p></li><li><p><a href="https://pan.baidu.com/s/1YxKepbeNgoj8BRbq0PK3bA?pwd=Ning">《现代机器人学-机构规划和控制》</a></p></li></ul><h3 id="1-1-1-导言">1.1.1 导言</h3><p>在日本JIS B0134-1998《工业用机械手用语》中按照机械结构形式对工业机器人进行了分类，包括多种坐标形式的机械臂，现在由于缩小体积和扩大工作空间的要求，以及结构零件和控制技术的提高，大多改用关节型机器人。</p><p>在众多关节拓扑中，有两种拓扑非常重要，分别是串联链式机构和全并联机构。本次设计以典型的六轴串联关节机械臂为例。</p><h3 id="1-1-2-位姿描述">1.1.2 位姿描述</h3><p>空间中刚体运动学可以看作物体位姿不同表示方法的对比研究：平移和旋转。为了进行数学 描述，引入欧几里得空间，在该空间中，一个物体相对于另一个物体的位置与姿态，可以表示为一个坐标系相对于另一个坐标系的位姿。</p><p>目前机器人的位姿表示方法主要有以下六种：</p><p>（1）齐次变换</p><p>（2）欧拉角/固定角</p><p>（3）四元数</p><p>（4）旋量变换</p><p>（5）矩阵指数参数</p><p>（6）普吕克坐标系</p><p>（7）标准/修正DH参数法</p><h2 id="1-2-DH参数">1.2 DH参数</h2><p>为了便于处理操作臂的复杂几何参数，首先需要在操作臂的每个连杆上分别固连一个连杆坐标系，然后再描述这些连杆坐标系之间的关系。DH参数是用于把操作臂关节变量作为自变量，描述操作臂末端执行器的位姿与基座之间的函数关系。</p><h3 id="1-2-1-连杆描述">1.2.1 连杆描述</h3><p><strong>（1）连杆编号</strong></p><p>从操作臂的固定基座开始为连杆进行编号，固定基座为连杆0，第一个可动连杆为连杆1，依次编号，最末端的连杆为连杆6.</p><p><img src="%5C%E5%9B%BE%E7%89%87%5C%E5%8D%9A%E5%AE%A2%5Cadams%5Cacm-photo%5CP1.png" alt="图1 连杆编号"></p><p>为了方便后面adams建模，此处对各连杆和关节进行命名</p><table><thead><tr><th>连杆序数</th><th>命名</th><th style="text-align:center">关节序数</th><th>命名</th></tr></thead><tbody><tr><td>连杆0</td><td>Base（基座）</td><td style="text-align:center"></td><td></td></tr><tr><td>连杆1</td><td>Jian（肩部）</td><td style="text-align:center">关节1</td><td>Swing(回转轴)</td></tr><tr><td>连杆2</td><td>Dabi（大臂）</td><td style="text-align:center">关节2</td><td>LowerArm(大臂)</td></tr><tr><td>连杆3</td><td>Zhou（肘部）</td><td style="text-align:center">关节3</td><td>UpperArm(小臂)</td></tr><tr><td>连杆4</td><td>Xiaobi（小臂）</td><td style="text-align:center">关节4</td><td>WristRotation（手腕回旋）</td></tr><tr><td>连杆5</td><td>Shouwan（手腕）</td><td style="text-align:center">关节5</td><td>WristBending（手腕弯曲）</td></tr><tr><td>连杆6</td><td>Moduan（末端执行器）</td><td style="text-align:center">关节6</td><td>WristTurning（手腕回转）</td></tr></tbody></table><p><strong>（2）连杆坐标系</strong></p><p>为了描述每个连杆与相邻坐标系之间的相对位置关系，需要在每个连杆上定义一个固连坐标系。</p><ul><li><p>坐标系编号：根据连杆编号对坐标系编号命名，连杆i上的坐标系为坐标系i。</p></li><li><p>坐标系原点：公垂线与关节轴的交点，具体的原点确定可参照下表</p><table><thead><tr><th>连杆序数</th><th>坐标系序数</th><th>原点位置</th></tr></thead><tbody><tr><td>连杆0</td><td>坐标系0</td><td>基座底面与地面的接触点</td></tr><tr><td>连杆1</td><td>坐标系1</td><td>1轴传动关节转动端与连杆2的连接面中心</td></tr><tr><td>连杆2</td><td>坐标系2</td><td>2轴传动关节转动端与连杆3的连接面中心</td></tr><tr><td>连杆3</td><td>坐标系3</td><td>3轴传动关节转动端与连杆4的连接面中心</td></tr><tr><td>连杆4</td><td>坐标系4</td><td>4轴传动关节转动端与连杆5的连接面中心</td></tr><tr><td>连杆5</td><td>坐标系5</td><td>5轴传动关节转动端与连杆6的连接面中心</td></tr><tr><td>连杆6</td><td>坐标系6</td><td>6轴传动关节转动端连接面顶部中心</td></tr></tbody></table></li><li><p>坐标系Z轴：Z轴与关节轴线重合（基坐标系与连杆1坐标系Z轴重合）</p></li><li><p>坐标系X轴：X轴朝向下一个关节/连杆；若连杆长度为0，X垂直于相邻两个Z轴的平面</p></li><li><p>坐标系Y轴：由右手定则决定</p></li></ul><p>根据以上规则，建立连杆坐标系，并按照基坐标系的方位建立坐标系的相对距离关系。此处需要说明SDH和MDH建系方式的区别<a href="https://en.wikipedia.org/wiki/Denavit%E2%80%93Hartenberg_parameters">Denavit–Hartenberg parameters - Wikipedia</a>。连杆1位于关节1和关节2之间，则：</p><ul><li><p>SDH：连杆1的坐标系建立在关节2上</p></li><li><p>MDH：连杆1的坐标系建立在关节1上</p></li></ul><p><img src="%5C%E5%9B%BE%E7%89%87%5C%E5%8D%9A%E5%AE%A2%5Cadams%5Cacm-photo%5CP2.png" alt="图2 建立坐标系"></p><p>对图中连杆偏距的变量做出描述和初步赋值。</p><table><thead><tr><th>变量序号</th><th>变量代号</th><th>变量描述</th><th>变量数值</th><th>变量单位</th></tr></thead><tbody><tr><td>1</td><td>L01z</td><td>基座安装面距离连杆1安装面Z距离</td><td>238.3</td><td>mm</td></tr><tr><td>2</td><td>L12x</td><td>连杆1安装面到关节2轴线X距离</td><td>10</td><td>mm</td></tr><tr><td>3</td><td>L12y</td><td>关节1轴线到连杆2安装面Y距离</td><td>0</td><td>mm</td></tr><tr><td>4</td><td>L12z</td><td>连杆1安装面到关节2轴线Z距离</td><td>380</td><td>mm</td></tr><tr><td>5</td><td>L23y</td><td>连杆2在2轴3轴安装面的Y距离</td><td>0</td><td>mm</td></tr><tr><td>6</td><td>L23z</td><td>关节2轴线距离关节3轴线Z距离</td><td>350</td><td>mm</td></tr><tr><td>7</td><td>L34x</td><td>关节3轴线距离关节4安装面X距离</td><td>106.6</td><td>mm</td></tr><tr><td>8</td><td>L34z</td><td>关节3轴线与关节4轴线Z距离</td><td>30</td><td>mm</td></tr><tr><td>9</td><td>L45x</td><td>关节4安装面到关节5轴线距离X</td><td>262.5</td><td>mm</td></tr><tr><td>10</td><td>L56x</td><td>关节5轴线距离关节六末端距离X</td><td>74.5</td><td>mm</td></tr><tr><td>11</td><td>L56y</td><td>关节6轴线到关节5安装面距离Y</td><td>0</td><td>mm</td></tr></tbody></table><h3 id="1-2-2-DH参数">1.2.2  DH参数</h3><p>机器人每个连杆都可以用四个运动学参数来描述，其中两个参数描述 连杆本身，两个参数描述连杆之间的连接关系，这种描述机构运动关系的规则叫做Denavit-Hartenberg参数。</p><p><strong>（1）连杆本身的描述</strong></p><p>连杆位于两个关节之间：</p><ul><li><p>两关节轴线的公垂线长度即连杆长度，用a表示</p></li><li><p>两关节轴相对夹角即连杆转角，用α表示</p></li></ul><p><strong>（2）连杆连接关系的描述</strong></p><p>关节位于两个连杆之间：</p><ul><li><p>两个相邻连杆公共轴线方向的距离即连杆偏距，用d表示</p></li><li><p>两相邻连杆绕公共轴线旋转的夹角，用θ表示</p></li></ul><p><strong>（3）DH参数</strong></p><p>按照上述坐标系的规定，DH参数可以定义如下：</p><ul><li><p>连杆长度a1：沿X1轴，从Z1移动到Z2的距离</p></li><li><p>连杆转角α1：绕X1轴，从Z1转动到Z2的角度</p></li><li><p>关节偏距d1：沿Z1轴，从X0移动到X1的距离</p></li><li><p>关节转角θ1：绕Z1轴，从X0转动到X1的角度</p></li></ul><p>本次采用的是MDH建系，故上图连杆的MDH参数描述总结如下表</p><table><thead><tr><th style="text-align:center">关节i</th><th style="text-align:center">$\alpha_{i-1}$（绕x轴）</th><th style="text-align:center">$a_{i-1}$（沿x轴）</th><th style="text-align:center">$\theta_{i}$（绕Z轴）</th><th style="text-align:center">$d_i$（沿Z轴）</th></tr></thead><tbody><tr><td style="text-align:center">1</td><td style="text-align:center">0</td><td style="text-align:center">0</td><td style="text-align:center">$\theta_1$</td><td style="text-align:center">L01z</td></tr><tr><td style="text-align:center">2</td><td style="text-align:center">90°</td><td style="text-align:center">L12x</td><td style="text-align:center">$\theta_2$</td><td style="text-align:center">L12y</td></tr><tr><td style="text-align:center">3</td><td style="text-align:center">0</td><td style="text-align:center">L23z</td><td style="text-align:center">$\theta_3$</td><td style="text-align:center">L23Y</td></tr><tr><td style="text-align:center">4</td><td style="text-align:center">90°</td><td style="text-align:center">L34z</td><td style="text-align:center">$\theta_4$</td><td style="text-align:center">L12Y+L23Y</td></tr><tr><td style="text-align:center">5</td><td style="text-align:center">-90°</td><td style="text-align:center">0</td><td style="text-align:center">$\theta_5$</td><td style="text-align:center">0</td></tr><tr><td style="text-align:center">6</td><td style="text-align:center">90°</td><td style="text-align:center">0</td><td style="text-align:center">$\theta_6$</td><td style="text-align:center">0</td></tr></tbody></table><p>注：MDH的表格中第2行，表示连杆2的坐标系2，建立在关节2的位置处，填写的是关节1和关节2轴线的公垂线、轴线夹角；关节2所连接的连杆1与连杆2的转角、连杆偏距。</p><h2 id="1-3-几何建模">1.3 几何建模</h2><h3 id="1-3-1-连杆变量建立">1.3.1 连杆变量建立</h3><p>按照1.2.1所列的变量，在adams中建立参数化变量：</p><h3 id="1-3-2-坐标系建立">1.3.2 坐标系建立</h3><h3 id="1-3-3-基座建模">1.3.3 基座建模</h3><p>基座采用cylinder建立，高度为L01Z，半径为L01Z，外观颜色为白色</p><p>adams中对刚体物体的质量特性由用户自定义、物体的几何外形和密度、物体几何和材料库来定义。对于系统复杂的结构建模，通常选择第一种方式——“质量特性用户自定义”，这种方式下物体的外形将于计算毫无关系，从而起到简化模型，降低模型规模，而且不影响计算结果。</p><p>在这种方式中，惯性坐标系的定义：惯性坐标系是计算惯性积的基准坐标系，惯性积的计算公式为：</p><p>$I_{xy}=\int(xy)dm,I_{yz}=\int(yz)dm,I_{zx}=\int(zx)dm$</p><p>当惯性积为零时，惯性坐标系又称为惯性主轴坐标系，这就是质心坐标系。刚体的质量对称轴或垂直于质量对称面的任意轴为惯性主轴，因此与全局坐标系不平行。任何刚体都至少存在一个惯性主轴坐标系。</p><p>Adams中构件的转动惯量就是相对于惯性主轴的转动惯量。</p>]]></content>
      
      
      <categories>
          
          <category> 机械 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> adams </tag>
            
            <tag> 多体动力学仿真 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>项目管理工具Redmine学习使用</title>
      <link href="/posts/f27b8f94.html"/>
      <url>/posts/f27b8f94.html</url>
      
        <content type="html"><![CDATA[<h1>0 前言</h1><p>无论是个人或者公司团队，项目管理是必不可少的能力，选用一套合适的工具及项目管理方法，对于效率的提升是大有裨益的。</p><p>Redmine是一款基于ROR框架开发的一套跨平台项目管理系统，底层是ruby+mysql+php写的，是web端应用程序，CS架构，通过网页的形式进行交互。</p><p>本文总结了自己采用Redmine搭建项目管理框架的过程及使用经验，以便于未来复盘。</p><h1>1 部署</h1><h2 id="1-1-安装主题">1.1 安装主题</h2><p><a href="https://redminecn.com/wikis/bitnami-redmine-installation">Bitnami Redmine 原生一键安装包下载 - Redmine 中文站</a></p><p>安装本地账密</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">账号：sonny</span><br><span class="line">密码：sonny2024</span><br></pre></td></tr></table></figure><p>注册账号：</p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">账号：Sonny</span><br><span class="line">邮箱：<span class="symbol">xybning@</span>gmail.com</span><br></pre></td></tr></table></figure><h2 id="1-2-更换主题">1.2 更换主题</h2><p>下载主题：<a href="https://www.redmine.org/projects/redmine/wiki/Theme_List">Theme List - Redmine</a></p><p>解压后复制到文件<code>D:\Bitnami\redmine-5.0.3-0\apps\redmine\htdocs\public\themes</code></p><p>然后重启redmine后，在界面上打开<code>administration/setting/display</code>中选择相应主题即可。</p><h2 id="1-3-安装插件">1.3 安装插件</h2><p>下载插件：</p><p>将解压后的文件安装<code>D:\Bitnami\redmine-5.0.3-0\apps\redmine\htdocs\plugins</code></p><h1>2 使用记录</h1><h2 id="2-1-Redmine可以干什么">2.1 Redmine可以干什么</h2><h3 id="2-1-1-功能">2.1.1 功能</h3><ul><li><p>多项目管理</p></li><li><p>问题跟踪与任务管理</p></li><li><p>甘特图和日历视图</p></li><li><p>文件和文档管理</p></li><li><p>时间跟踪</p></li><li><p>报告和统计</p></li><li><p>论坛和新闻</p></li><li><p>邮件通知</p></li></ul><h3 id="2-1-2-步骤">2.1.2 步骤</h3><ul><li><p>登录Remine，新建项目</p></li><li><p>打开新建的项目，开始工作</p></li></ul><p>关注几个小项目块的作用，包括：</p><ul><li><p>Gatt</p></li><li><p>wiki</p></li><li><p>files</p></li><li><p>document</p></li><li><p>issue</p></li></ul><h2 id="2-2-项目管理需要做什么">2.2 项目管理需要做什么</h2><h3 id="2-2-1-管理原则">2.2.1 管理原则</h3><p>管好流程+信息沟通</p><p>在有限的时间内，在约束的范围内，集合有限资源来完成项目目标</p><h3 id="2-2-2-管理内容">2.2.2 管理内容</h3><p>（1）项目整体管理——系统级</p><p>项目管理的主线和系统性——将项目管理过程中需要的各个过程进行有效综合。</p><p>工作内容：制定项目章程、制定项目管理计划、指导和管理项目工作、监督项目工作等。</p><p>（2）制定计划</p><ul><li><p>具体：不仅要给出时间节点、还要给出依据和来源</p></li><li><p>全面：识别关键资源和依赖，考虑研发之外其他环节</p></li><li><p>准确：尽早制定标准</p></li><li><p>共识：全员规划会，对其信息，达成共识，发邮件给相关人员正式通知</p></li><li><p>及时：及时调整变更，公开告知项目组所有成员，每一次进行计划调整，都要确保项目中每个人知道当前的计划是什么，调整计划需要怎样的决策过程，都需要谁参与决策。</p></li></ul><p>（3）报告分类</p><ul><li><p>紧急报告</p></li><li><p>常规汇报</p></li><li><p>数据汇报</p></li></ul><p>（4）复盘流程</p><ul><li><p>现场回顾项目的整体概况：目标达成情况、进度计划及变更情况、需求变更情况、质量报告等项目历程记录</p></li><li><p>与会人员永便签纸写下项目中做的不好、做的好的3个点</p></li><li><p>review大家的意见，共同发现问题，有针对性的展开讨论</p></li></ul><h3 id="2-2-3-术语">2.2.3 术语</h3><ul><li><p>WBS：Work Breakdown Structure，工作分解，把项目工作按照阶段可交付成果分解成较小的，更易于管理的组成部分的过程。</p></li><li><p>Gatt：通过条状图显示项目、进度，和其他时间相关的系统进展的内在关系随着时间进展的情况。甘特图以图示标明计划与实际完成情况的图表，通过活动列表和时间刻度表示出特定项目的顺序与持续时间。</p></li><li><p>复盘：象棋用语，说的是下完一盘棋后，把过程重新摆一遍，看哪里下的好，哪里下的不好，那些地方有不同甚至更好的下法。</p></li></ul><h3 id="2-2-4-管理方法">2.2.4 管理方法</h3><p>（1）沟通</p><p><img src="/%E5%9B%BE%E7%89%87/%E5%8D%9A%E5%AE%A2/source/GT.png" alt=""></p><p>（2）风险</p><p><img src="/%E5%9B%BE%E7%89%87/%E5%8D%9A%E5%AE%A2/source/FX.png" alt=""></p><p>（3）采购</p><p><img src="/%E5%9B%BE%E7%89%87/%E5%8D%9A%E5%AE%A2/source/CG.png" alt=""></p><p>（4）管理</p><p><img src="/%E5%9B%BE%E7%89%87/%E5%8D%9A%E5%AE%A2/source/gl.png" alt=""></p>]]></content>
      
      
      <categories>
          
          <category> 项目 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 资源 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>日语学习笔记（初级）</title>
      <link href="/posts/bf846ed6.html"/>
      <url>/posts/bf846ed6.html</url>
      
        <content type="html"><![CDATA[<h1>0 发音</h1><h2 id="0-1-五十音图">0.1 五十音图</h2><p>あ　い　う　え　お　　ア　イ　ウ　エ　オ</p><p>か　き　く　け　こ　　カ　キ　ク　ケ　コ</p><p>さ　し　す　せ　そ　　サ　シ　ス　せ　ソ</p><p>た　ち　つ　て　と　　タ　チ　ツ　テ　ト</p><p>な　に　ぬ　ね　の　　ナ　ニ　ヌ　ネ　ノ</p><p>ま　み　む　め　も　　マ　ミ　ム　メ　モ</p><p>ら　り　る　れ　ろ　　ラ　リ　ル　レ　ロ</p><p>は　ひ　ふ　へ　ほ　　ハ　ヒ　フ　ヘ　ホ</p><p>や　ゆ　よ　わ　を　　ヤ　ユ　ヨ　ワ　ヲ</p><p>ん　　　　　　　　　　ン</p><h2 id="0-2-长音">0.2 长音</h2><p>あ＋あ</p><p>い＋い</p><p>う＋う</p><p>え＋い　　え＋え</p><p>お＋う　　お＋お</p><h2 id="0-3-浊音">0.3 浊音</h2><p>がガ　ぎギ　ぐグ　げゲ　ごゴ</p><p>ざザ　じジ　ずズ　ぜゼ　ぞゾ</p><p>だダ　ぢヂ　づヅ　でデ　どド</p><p>ぱパ　ぴピ　ぷプ　ぺペ　ぽポ</p><p>ばバ　びビ　ぶブ　べベ　ぼボ</p><h2 id="0-4-拗音">0.4 拗音</h2><p>きゃキャ　きゅキュ　きょキョ</p><p>しゃシャ　しゅシュ　しょショ</p><p>ちゃチャ　ちゅチュ　ちょチョ</p><p>みゃミャ　みゅミュ　みょミョ</p><p>りゃリャ　りゅリュ　りょリョ</p><p>ひゃヒャ　ひゅヒュ　ひょヒョ</p><p>にゃニャ　にゅニュ　にょニョ</p><p>びゃビャ　びゅビュ　びょビョ</p><p>ぴゃピャ　ぴゅピュ　ぴょピョ</p><p>ぢゃヂャ　ぢゅヂュ　ぢょヂョ</p><p>ぎゃギャ　ぎゅギュ　ぎょギョ</p><p>じゃジャ　じゅジュ　じょジョ</p><h2 id="0-5-音读-训读">0.5 音读&amp;训读</h2><p>（1）音读：汉字汉语</p><p>（2）训读：汉字非汉语</p><h2 id="0-6-语调">0.6 语调</h2><p>（1）音调划分词与词的界限，区分词义</p><p>（2）原则：</p><ul><li>第一个音节和第二个音节的音高不同；</li><li>一个单词中音高降下来就不会再上去；</li></ul><p>（3）标记：</p><p>数字式/负数式、划线式、黑体式</p><p>DGGGGG: 0型（后接助词，高读）</p><p>DGDDD</p><p>DGGDD</p><p>DGGGD:</p><p>DGGGG:  5型（后接助词，低读）</p><h2 id="0-7-键盘打字">0.7 键盘打字</h2><p>（1）输入法切换：ALT+SHIFT</p><p>（2）大小写切换：Ctrl+Caps｜Shift+Caps</p><p>（3）打促音：tto っと</p><p>（4）打拗音：cya ちゃ</p><p>（5）打拨音：输入两个N键。</p><p>（6）打长音</p><p>平假名: 按照其本身的发音来输入</p><p>片假名: 为键盘上的横线键（减号键-）</p><p>（7）打小写假名：可以前面加个X，</p><p>っ　 XTU</p><p>ディ　DE XI##</p><h1>1 名词</h1><h2 id="1-1-概述">1.1 概述</h2><p>名词包含专有名词、物体名词、数量名词、时间名词、其他名词</p><h2 id="1-2-语法">1.2 语法</h2><h3 id="1-2-1-一般句式">1.2.1 一般句式</h3><p>李さん　は　中国人　です</p><p>あなた　は　小野さん　ですか</p><p>私は　日本人　では　ありません</p><p>私は　田中　じゃ　ありません</p><h3 id="1-2-2-表示从属">1.2.2 表示从属</h3><p>李さん　は　ＪＣ企画　の　社員　です</p><p>代词：</p><p>私（わたし）　僕（ぼく）　　わたしたち</p><p>あなた　　あのひと　あの方（かた）</p><p>彼（かれ）　　彼ら（かれ）</p><p>彼女（かのじょ）　彼女たち</p><p>皆さん</p><p>これ　それ　あれ　どれ</p><p>この　その　あの　どの</p><p>こちら　そちら　あちら　どちら</p><p>誰（だれ）　どなた</p><h2 id="1-3-词汇积累">1.3 词汇积累</h2><h3 id="1-3-1-人名">1.3.1 人名</h3><p>李秀麗　（り　しゅう　れい）</p><p>森 健太郎　（もり　けん　た　ろう）</p><p>吉田 英一　（よしだ　えいいち）</p><p>清水 大介　（しみず　だいすけ）</p><p>大田慎吾　（おおた　しんご）</p><p>长岛 武　（なかしま　たけし）</p><p>小野 绿　（おの　みどり）</p><p>李（り）　王（おう）　張（ちょう）　林（はやし）</p><p>デュポン　　スミス　　金（きん）　太郎（たろ）　中村（なかむら）</p><p>ジュンソン</p><h3 id="1-3-2-国家名称">1.3.2 国家名称</h3><p>中国（ちゅうごく）</p><p>日本（にほん）</p><p>韓国（かん<mark>こ</mark>く）</p><p>アメリカ</p><p>フランス</p><p>イギリス</p><p>イタリア</p><p>インド</p><p>オースト<mark>ラ</mark>リア</p><p>スペイン</p><p>タイ</p><p><mark>ブラジル</mark></p><p><mark>メキシコ</mark></p><p>ロシア</p><p><mark>ベトナム</mark></p><p>ドイツ</p><h3 id="1-3-3-大洲名称">1.3.3 大洲名称</h3><p>アジア</p><p>オーストラリア</p><p>ユーロッパ</p><p>アフリカ</p><p>北アメリカ</p><p>南アメリカ</p><h3 id="1-3-4-数量词">1.3.4  数量词</h3><p>れい　ぜろ</p><p>いち</p><p>に</p><p>さん</p><p>よん　　し</p><p>ご</p><p>ろく</p><p>なな　しち</p><p>はち</p><p>く　きゅう</p><p>じゅう</p><p>じゅういち</p><p>じゅうに</p><p>じゅうさん</p><p>じゅうよん</p><p>じゅうご</p><p>じゅうろく</p><p>じゅうなな</p><p>じゅうはち</p><p>じゅうく</p><p>にじゅう</p><p>さんじゅう</p><p>よんじゅう</p><p>ごじゅう</p><p>ろくじゅう</p><p>ななじゅう</p><p>はちじゅう</p><p>きゅうじゅう</p><p>百</p><p>二百</p><p>さんびゃく</p><p>よんひゃく</p><p>ごひゃく</p><p>ろっぴゃく</p><p>ななひゃく</p><p>はっぴゃく</p><p>きゅうひゃく</p><p>せん</p><p>にせん</p><p>さんぜん</p><p>よんせん</p><p>ごせん</p><p>ろくせん</p><p>ななせん</p><p>はっせん</p><p>きゅうせん</p><p>いちまん</p><p>じゅうまん</p><p>ひゃくまん</p><p>いっせんまん</p><p>一億（いちおく）</p><p>さんぶんのいち</p><p>れいてんいち</p><h3 id="1-3-5-时间词">1.3.5 时间词</h3><p>日曜日（にちようび）　月曜日（げつようび）　火曜日（かようび）</p><p>水曜日（すいようび）　木曜日（もくようび）　金曜日（きんようび）</p><p>土曜日(どようび)</p><p>一月（いちがつ）　二月（にがつ）　三月（さんがつ）　四月（よんがつ）</p><p>五月（ごがつ）　六月（ろくがつ）　七月（しちがつ）　八月（はちがつ）</p><p>九月（くがつ）　十月（じゅうがつ）　十一月（じゅういちがつ）</p><p>十二月（じゅうにがつ）</p><p>来月（らいげつ）　先月（せんげつ）</p><p>1日（ついたち）　二日（ふつか）　三日（みっか）　四日（よっか）</p><p>五日（いつか）　　六日（むいか）　七日（なのか）　八日（ようか）</p><p>九日（ここのか）　十日（とおか）　十四日（じゅうよっか）　二十日（はつか）</p><p>何日（なんにち）</p><p>おととい　昨日（きのう）　今日（きょう）　明日（あした）　明後日（あさって）　毎日（まいにち）</p><p>おととし　去年（きょねん）　今年（ことし）　来年（らいねん）　毎年（まいねん）</p><p>再来年（さらいねん）</p><p>先週（せんしゅう）　今週（こんしゅう）　来週（らいしゅう）</p><p>再来週（さらいしゅう）　毎週（まいしゅう）</p><p>夜（よる）　昼（ひる）　晩（ばん）　朝（あさ）　毎朝（まいあさ）　毎晩（まいばん）　夕べ（ゆうべ）</p><p>夕方（ゆうがた）　夜中（よなか）　午前（ごぜん）　午後（ごご）</p><p>今（いま）</p><p>誕生日（たんじょうび）　　こどもの日　　夏休み（なつやす）　冬休み（ふゆやす）</p><p>春節（しゅんせつ）　クリスマス</p><p>シーズン　季節（きせつ）　春（はる）　夏（なつ）　秋（あき）　冬（ふゆ）</p><p>天気（てんき）　晴れ（は）　曇り（くもり）　雨（あめ）　雪（ゆき）</p><p>東（ひがし）　西（にし）　南（みなみ）　北（きた）　右（みぎ）　左（ひだり）</p><p>上（うえ）　下（した）　中（なか）　前（まえ）　　後ろ（うし）</p><h3 id="1-3-6-亲属称呼">1.3.6 亲属称呼</h3><p>学生（がくせい）　大学生（だいがくせい）　中学生（ちゅうがくせい）　小学生（しょうがくせい）　高校生（こうこうせい）　留学生（りゅうがくせい）　研修生（けんしゅうせい）</p><p>教授(きょうじゅ)　　先生（せんせい）　先輩（せんぱい）　後輩（こうはい）</p><p>社員（しゃいん）　会社員（かいしゃいん）</p><p>店員（てんいん）　教員（きょういん）　教師（きょうし）</p><p>医者（いしゃ）　看護師（かんごし）　サラりーマン</p><p>家族（かぞく）</p><p>父（ちち）　おどおさん</p><p>母（はは）　おかあさん</p><p>祖父（そふ）　おじいさん</p><p>祖母（そぼ）　おぼあさん</p><p>妹（いもうと）　妹さん</p><p>弟（おとうと）　おとうとさん</p><p>姉妹（しまい）　兄弟（きょうだい）　両親（りょうしん）</p><p>おじさん　おばさん</p><p>息子（むすこ）　娘（むすめ）</p><p>ガールフレンド　　ボーイフレンド　恋人（こいびと）　知り合い（しりあい）</p><p>婚約者（こんやくしゃ）　一人っ子（ひとりっこ）</p><h3 id="1-3-7-家居用品">1.3.7 家居用品</h3><p>本（ほん）　かばん　ノート　鉛筆（えんぴつ）　傘（かさ）　靴（くつ）</p><p>かぎ　雑誌（ざっし）　ニュース　辞書（じしょ）　カメラ　デジカメ</p><p>テレビ　パソコン　ラジオ　いす　机（つくえ）　テーブル　　プール</p><p>電話（でんわ）　携帯電話（けいたいでんわ）　時計（とけい）　手帳（てちょう）</p><p>写真（しゃしん）　車（くるま）　自転車（じてんしゃ）　お土産（おみやげ）　名産品（めいさんひん）　シルク　ハンカチ</p><p>部屋（へや）　庭（にわ）　家（いえ）　居間（いま）　壁（かべ）</p><p>ベッド</p><p>猫（ねこ）　犬（いぬ）　鳥（とり）　豚（ぶた）</p><p>デパート　病院（びょういん）　銀行（ぎんこう）　郵便局（ゆうびんきょく）</p><p>図書館（としょかん）　マンション　ホテル　コンビニ　喫茶店（きっさてん）</p><p>本屋（ほんや）　レストラン　ビル　建物（たてもの）　売り場（うりば）</p><p>入口（いりぐち）　出口（でぐち）　事務所（じむしょ）　受付（うけつけ）</p><h3 id="2-形容词"># 2 形容词</h3><h2 id="2-1-概述">2.1 概述</h2><p>形容词常分为一类形容词（形容词）和二类形容词（形容动词）。一类形容词是以<code>い</code>结尾的单词。</p><h2 id="2-2-语法">2.2 语法</h2><h3 id="2-2-1-描述一件事物性质">2.2.1 描述一件事物性质</h3><h3 id="（1）一类形容词">（1）一类形容词</h3><p><strong>以<code>い</code>结尾，后加<code>です</code>，否定形式改<code>い</code>为<code>く</code>再加<code>ないです</code>或<code>ありません</code>。</strong></p><p><strong>过去式把<code>い</code>改为<code>かっだ</code>再加<code>です</code>，否定形式改<code>い</code>为<code>く</code>再加<code>なかっだ　です</code>或<code>ありませんでした</code>。</strong></p><p>このお茶は　熱い　です</p><p>この　スッペは　熱く　<mark>ないです（ありません）</mark></p><p>このお茶は　熱かっだ　です</p><p>このお茶は　熱く　<mark>なかっだ　です　（ありませんでした）</mark></p><p><strong>特殊：形容好的<code>いいです</code>在变成否定形式是用 <code>よくないです</code>或<code>よくありません</code>改为过去式时<code>よかったです</code>，过去否定式时为<code>よくなかったです</code>或<code>よく　ありませんでした</code></strong></p><h4 id="（2）二类形容词">（2）二类形容词</h4><p>不以<code>い</code>结尾，后加<code>です</code>，否定形式为<code>では　ありません</code>；</p><p>过去式把<code>です</code>改为<code>でした</code>，否定形式为<code>では　ありませんでした</code></p><p>其中，<code>では</code>一般说成<code>じゃ</code></p><p>京都の紅葉は　有名　です</p><p>京都の紅葉は　有名　では　ありません</p><p>京都の紅葉は　有名　でした</p><p>京都の紅葉は　有名　では　ありませんでした</p><p><strong>特殊：綺麗（きれい）、嫌い　有名</strong></p><h3 id="（3）问句">（3）问句</h3><p>どうですか</p><p>どうでしたか</p><h3 id="2-2-2-形容一个名词">2.2.2 形容一个名词</h3><h4 id="（1）一类形容词-2">（1）一类形容词</h4><p>広い　国</p><p>暖かくて　軽い　コート</p><p><strong>特殊：多和少不能用<code>多い</code>和<code>少ない</code>，而要换用<code>たくさんの</code>修饰</strong></p><p>省略用法：<code>広い　の</code></p><h4 id="（2）二类形容词-2">（2）二类形容词</h4><p>静か　な　町</p><p>省略用法：<code>静か　な　の </code></p><h4 id="（3）问句-2">（3）问句</h4><p>どんな町ですか</p><p>どんな人ですか</p><h3 id="2-2-3-形容词的比较级">2.2.3  形容词的比较级</h3><p>问题：询问两种事物当中哪一个更怎么样</p><p>李さん　と　森さん　と　どちら/どっち　が　若い　ですか</p><p>回答：もりさん　より　李さん　の　ほうが　若い　です</p><p>部屋　は　広い　ほうが　いいです</p><p>子供　は　元気な　ほうが　いいです</p><p>陈述句表达：XX和XX相比，更怎么样</p><p>李さん　は　森さん　より　若い　です</p><p>陈述句表达：XX不如XX 怎么样</p><p>森さん　は　李さん　ほど　若く　ないです</p><p>问题：询问三个以上事物中哪一个更怎么样</p><p>（哪个时间いつ、哪个地方どれ、哪个人だれ、哪个物　何）</p><p>どの　スポーツ　が　いちばん　おもしろい　ですか</p><p>回答：スポーツ　の　中で　サッカー　が　一番　おもしろい　です</p><p>日本で　一番　高い　山　は　富士山　です</p><h3 id="2-2-4-表达情感、擅长、喜好、想要等">2.2.4 表达情感、擅长、喜好、想要等</h3><p>小野さん　は　歌　が　好き/嫌い/怖い　です</p><p>私　は　コンピューター　が　でき/上手/下手/苦手/わかり　ません</p><p>私は　新しい　洋服　が　欲しいです</p><h3 id="2-2-5-表示并列的，“又XX又XX”">2.2.5  表示并列的，“又XX又XX”</h3><h4 id="（1）一类形容词-3">（1）一类形容词</h4><p>ホテルの部屋は　ひろくて　あかるい　です</p><h4 id="（2）二类形容词-3">（2）二类形容词</h4><p>簡単で便利です</p><p>この　公園　は　静かでひろいです</p><h3 id="2-2-6-表示变化">2.2.6 表示变化</h3><h4 id="（1）一类形容词-4">（1）一类形容词</h4><p>携帯電話　は　小さく　なります</p><p>ジュース　を　冷たく　します</p><h4 id="（2）二类形容词-4">（2）二类形容词</h4><p>もう　元気　に　なりました</p><p>部屋を　きれいに　して　ください</p><h3 id="2-2-7-简体形和敬体形">2.2.7 简体形和敬体形</h3><h4 id="（1）一类形容词-5">（1）一类形容词</h4><p>忙しいです　　忙しい</p><p>いそがしくないです　　忙しくない</p><p>忙しかったです　　いそがしかった</p><p>いそがしくなかったです　　忙しく　なかった</p><h4 id="（2）二类形容词-5">（2）二类形容词</h4><p>簡単です　　簡単だ</p><p>かんたんでは　ありません　　簡単では　ない</p><p>簡単でした　　簡単だった</p><p>簡単では　ありませんでした　　簡単では　なかった</p><h3 id="2-2-8-表示多种可能性">2.2.8 表示多种可能性</h3><p>飛行機のチケット　高かったり　安かったりです</p><p>この公園　は　時間に　よって　しずか　だったり　にぎゃかだったリです</p><h2 id="2-3-词汇">2.3 词汇</h2><h3 id="2-3-1-一类形容词">2.3.1 一类形容词</h3><p>新しい（あたら）　古い（ふる）　熱い（あつ）　冷たい（つめ）</p><p>高い（たか）　低い（ひく）　暑い（あつ）　寒い（さむ）</p><p>高い（たか）　安い（やす）　多い（おお）　少ない（すく）</p><p>難しい（むずか）　易しい（やさ）　広い（ひろ）　狭い（せま）</p><p>大きぃ（おお）　小さい（ちい）　遠い（とお）　近い（ちか）</p><p>いい　悪い（わる）　楽しい（たの）　つまらない　　おもしろい</p><p>まずい　　おいしい　苦い（にが）　　酸っぱい（す）　甘い（あま）</p><p>辛い（から）　塩辛い（しおから）　　素晴らしい（すば）</p><p>青い（あお）　　赤い（あか）　白い（しろ）　黒い（くろ）</p><p>暗い（くら）　明るい（あか） 忙しい（いそが）　可愛い（かわ）</p><p>汚い（きたな）　怖い（こわ）　<mark>痛い（いた）</mark>     若い（わか）</p><p>暖かい（あたた）　温かい（あたた）　涼しい（すず）　速い（はや）</p><p>長い（なが）　短い（みじか）　軽い（かる）　優しい（やさ）</p><p>細い（ほそ）　太い（ふと）　欲しい（ほ）　立派（りっぱ）</p><p>濃い（こ）　　薄い（うす）　早い（はや）　遅い（おそ）</p><p>おかしい　　すごい</p><h3 id="2-3-2-二类形容词">2.3.2 二类形容词</h3><p>綺麗（きれい）　有名（ゆうめい）　　にぎゃか　　静か（しず）</p><p>暇（ひま）　　親切（しんせつ）　好き（す）　　嫌い（きら）</p><p>便利（べんり）　不便（ふべん）　元気（げんき）　簡単（かんたん）</p><p>ハンサム　　上手（じょうず）　下手（へた）　苦手（にがて）</p><p>大好き（だいす）　大変（たいへん）　大丈夫（だいじょうぶ）　だめ</p><p>ユニーク　　安全（あんぜん）　派手（はで）　地味（じみ）　厳重（げんじゅう）</p><p>まじめ　　大切（たいせつ）　複雑（ふくざつ）　　シンプル　　本当（ほんとう）</p><p>急（きゅう）</p><h1>3 动词</h1><h2 id="3-1-概述">3.1 概述</h2><p>动词分为一类动词（五段活用动词）、二类动词（上一段活用动词、下一段活用动词）、三类动词（サ变动词、ｶ变动词）；</p><p>自动词、他动词</p><p>动词的基本形（终止形、连体形）、た形（连用形+た）、て形（连用形+て）、ば形、ない形（未然形+ない）、意志形（未然形+よう）、否定形、简体形、可能形、被动形、使役形式。</p><h2 id="3-2-语法">3.2 语法</h2><h3 id="3-2-1-基本形——ます型——た形——て形——ば形——ない形">3.2.1 基本形——ます型——た形——て形——ば形——ない形</h3><h4 id="（1）一类动词（五段活用）">（1）一类动词（五段活用）</h4><p>基本形：最后的发音为<code>う</code>段</p><p>ます型：将<code>う</code>段改为<code>い</code>段，加ます</p><p>て形：き—いて；ぎ—いで；びみに——んで；ちりい——って，し——して</p><p>ない形：将<code>う</code>段改为<code>あ</code>段`加ない（其中，い结尾的改为わ）</p><p>た形：て形的て改为た，で改为だ</p><p>書く　書きます</p><h4 id="（2）二类动词（一段活用）">（2）二类动词（一段活用）</h4><p>基本形：最后以<code>る</code>结尾，去掉<code>る</code>以<code>え</code>段或<code>い</code>段结尾</p><p>ます型：去掉<code>る</code>加<code>ます</code></p><p>て形：去掉<code>る</code>加<code>て</code></p><p>ない形：去掉<code>る</code>加ない</p><p>た形：て形的て改为た，で改为だ</p><p>食べる　たべます</p><h4 id="（3）三类动词">（3）三类动词</h4><p>基本形：来(く)る　する</p><p>て形：去掉<code>る</code>加`て</p><p>ない形：去掉<code>る</code>加ない</p><p>た形：て形的て改为た，で改为だ</p><h3 id="3-3-2-简体形和敬体形">3.3.2 简体形和敬体形</h3><p>敬体：ます型</p><p>简体形：其他的都属于简体形</p><p>来る　来ます</p><p>する　します</p><p>森さんは　毎日　働き　ます</p><p>森さんは　明日　休み　ません</p><p>森さんは　昨日　働き　ませんでした</p><p>森さんは　7時　に　起きま」」</p><h2 id="3-3-词汇">3.3 词汇</h2><h3 id="3-3-1-一类动词">3.3.1 一类动词</h3><h3 id="3-3-2-二类动词">3.3.2 二类动词</h3><h3 id="3-3-3-三类动词">3.3.3 三类动词</h3><h1>4 小句</h1><h2 id="4-1-概述">4.1 概述</h2><p>小菊分为疑问句小句、小句简体形、小句动词简体形、小句（一类形/二类形/名）、小句（动词基本形/ない形）、小句（动词た形/ない形）</p><h2 id="4-2-说话人的思考内容">4.2 说话人的思考内容</h2><h1>5 常用寒暄用语</h1><h2 id="5-1-日常用语">5.1 日常用语</h2><p>（1）你好</p><p>初次见面，请多关照：初めまして、どうぞ、よろしくお願いします</p><p>你好：こんにちは</p><p>早上好：おはよう/おはようございます</p><p>中午好</p><p>晚上好：こんばんは</p><p>晚安：　おやすみなさい</p><p>（2）再见</p><p>再见：さよなら</p><p>欢迎下次光临　いらしゃいません</p><p>辛苦了　お疲れ様でした</p><p>对不起：すみません</p><p>谢谢：ありがとうございます</p><h2 id="5-2-特殊场合">5.2 特殊场合</h2><p>（1）吃饭</p><p>我吃了：いただきます</p><p>我吃好了/谢谢款待：ごちそうさまでした</p><h1>6 其他词</h1><h2 id="6-1-副词">6.1 副词</h2><p>どうも</p><h2 id="6-2-连词">6.2 连词</h2>]]></content>
      
      
      <categories>
          
          <category> 语言 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 日语 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>软件工程学习笔记</title>
      <link href="/posts/5b5a394a.html"/>
      <url>/posts/5b5a394a.html</url>
      
        <content type="html"><![CDATA[<h1>0 前言</h1><p>为了开发LCM软件工具，减少优化迭代过程，增加专业性和高质量工作成果，学习了《高级软件工程》，并以LCM软件开发作为案例进行总结归纳，以清楚展现大型软件项目从设计到实现的整个开发过程。</p><p>行文以简约为核心。</p><h1>1</h1>]]></content>
      
      
      <categories>
          
          <category> 计算机 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 软件 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>robotic-arm</title>
      <link href="/posts/4a726944.html"/>
      <url>/posts/4a726944.html</url>
      
        <content type="html"><![CDATA[<h1>0 前言</h1><p>工业机械臂的技术目前已经基本封层，新鲜内容相对来说已经很少了，然则从业工业机器人行业一年半，对机械臂的整体技术仍模棱两可，故重新翻看《机器人学导论》，以其为机械臂从业做一个总结。</p><p>本次复习摒弃以前的翻看+笔记型式，更改为MATLAB工具封装的方式，并记录工具封装和理论结合的过程，减少需要记忆的内容和避免遗忘带来的反复学习。</p><p>行文风格仍以简约为主。</p><h1>1 绪论</h1><h2 id="1-1-机器人学知识体系">1.1 机器人学知识体系</h2><p>机器人学大致分为机械操作、移动、计算机视觉和人工智能四类，包括了机械工程——机械臂结构设计、数学方法——机械臂数学描述、控制理论——提供运动和力的设计方法、电气工程——实现力和运动的硬件控制、计算机——编程自动化。</p><h2 id="1-2-工业机器人发展年表">1.2 工业机器人发展年表</h2><p><img src="https://picx.zhimg.com/v2-b04afe53c79fba9082bf83430dd4b06a_720w.jpg?source=d16d100b" alt=""></p><p><img src="https://picx.zhimg.com/v2-550179b61288deb640a9648a4a2b320e_720w.jpg?source=d16d100b" alt=""></p><h2 id="1-3-工业机器人的主要应用">1.3 工业机器人的主要应用</h2><p><img src="https://picx.zhimg.com/v2-108e87946e5f9b59440cc90825e3ae3e_720w.jpg?source=d16d100b" alt=""></p><h2 id="1-4-工业机器人产业链">1.4 工业机器人产业链</h2><p><img src="https://picx.zhimg.com/v2-77373c8b070124d9841d7bbe4e36e3cf_720w.jpg?source=d16d100b" alt=""></p><h2 id="1-5-工业机器人产业发展阶段">1.5 工业机器人产业发展阶段</h2><p><img src="https://picx.zhimg.com/v2-490f790da9350d4f7895f063f78c46c9_720w.jpg?source=d16d100b" alt=""></p><h1>2 机器人模型建立</h1><h2 id="2-1-DH坐标系">2.1 DH坐标系</h2><p>常用的数学描述方法为DH坐标系，分为标准DH参数和改进DH参数，此两者的区分在于坐标系的位置略有不同。</p><p><img src="https://pic2.zhimg.com/v2-5b5755e95076abcec86bc91064b5bdf1_r.jpg" alt=""></p><p>为了通用性，建模采用改进DH参数法，其余建系方式通过增加转换函数进行兼用。</p><h3 id="2-1-建立坐标系">2.1 建立坐标系</h3>]]></content>
      
      
      <categories>
          
          <category> 机器人 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 工业机械臂 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>人形机器人综述</title>
      <link href="/posts/c28d8b9e.html"/>
      <url>/posts/c28d8b9e.html</url>
      
        <content type="html"><![CDATA[<h1>0 前言</h1><p>现在已经是2024年了，人形机器人在去年特斯拉的推动下掀起了一段高潮，然而不乏一些机构或者技术工作者仍以旁观者的姿态注视着人形机器人的发展，最大的根由是人形的技术瓶颈与市场应用。</p><p>本文学习的是日本著作《仿人机器人》于2006年的中译本，书中阐述了仿人机器人从诞生到当时的发展史、仿人机器人的运动学、ZMP和动力学、双足步态规划和全身运动模式的生成、动力学仿真等，涵盖了近10年的仿人机器人研究成果。</p><p>其中不乏一些定义、术语、公式等，按照教科书式的学习方式是最为忌讳的，很容易当下看懂用时生忘，故而采用MATLAB或者adams等工具及时将相关内容封装为工具，然后在对工具作相关说明，这样会更让人容易接受。</p><p>最后，行文力求简约。</p><h1>1 人形机器人的发展史</h1><h2 id="1-1-机器人的概念">1.1 机器人的概念</h2><p>· 具有脑、手、腿脚功能：靠手实现操作，靠腿脚实现移动，靠脑实现决策；</p><p>· 具有非接触性传感（五官功能）：用于识别外界环境；</p><p>· 具有平衡觉和固有觉的内部传感器，用于感知自身状态。</p><h2 id="1-2-人形形态的择取">1.2 人形形态的择取</h2><p>机器人的最佳形态取决于对机器人的功能需求。大众对于机器人的刚需是能够做人不愿意做的事情。</p><p>欲实现这一目标，首先人与机器人之间需要通信、教学，让机器人能够知道人不愿意做的事情是什么样子的，该怎么去做；其次，机器人故障时人能够迅速切换为人工作状态；最后，人与机器人能够共存。</p><p>书中提到人形的三个必要因素：能在人们所处的环境中工作、能试用人们所用的工具、具有人的形状。</p><h2 id="1-3-仿人机器人的发展">1.3 仿人机器人的发展</h2><ul><li><p>1973年，早稻田大学加藤一郎研究室开发 WABOT-1，能够通过视觉识别物体，通过听觉和语音合成与人交流，还可以用带触觉的双手对物体操作，能够用双足行走。</p></li><li><p>1985年，早稻田大学加藤一郎研究室开发WABOT-2，能够演奏钢琴</p></li><li><p>新纪元（稳定步行）——1996年，本田推出仿人机器人P2，搭载计算机和电池，是世界上首台能用双足稳定步行的仿人机器人。</p></li><li><p>1997年，本田发布仿人机器人P3</p></li><li><p>2000年，本田发布ASIMO，小型人形机器人。</p><p><img src="https://picx.zhimg.com/v2-6441e1dab17fc98dfe0ffbcfec7062fb_720w.jpg?source=d16d100b" alt=""></p><p>本章内容需要大量文献调研，做一篇文献综述——人形机器人的技术与应用综述，全面阐述人形机器人的机构学、控制学、算法学、传感学和应用发展。</p></li></ul><h1>2 人形运动学</h1><p>分析机器人连杆的位置和姿态与关节角之间的关系。</p><h2 id="2-1-位姿描述">2.1 位姿描述</h2><p>世界坐标系：机器人初始状态时正下方地面上的点，x轴向前，y轴向右，z轴向上。</p><p><img src="C:%5CUsers%5Csunni%5CAppData%5CRoaming%5Cmarktext%5Cimages%5C2024-01-18-14-32-59-image.png" alt=""></p><h1>3 人形运动控制</h1>]]></content>
      
      
      <categories>
          
          <category> 机器人 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 人形机器人 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>挽风的网站搭建记录</title>
      <link href="/posts/b5981e95.html"/>
      <url>/posts/b5981e95.html</url>
      
        <content type="html"><![CDATA[<h1>0 前言 <strong>📝</strong></h1><p>2023年后半年萌生了一个想法，想搭建一个自己的网站，把自己的技术、生活等都记录整理到里面。由于时间紧张，一直到24年年初才腾出时间来，故倾心付之。如果说大脑是自己的主库，那么这个网站就是自己的副库。</p><p>该网站基于Github托管，在Hexo框架下搭建，通过Github Action进行版本更新。由于网上的内容过于碎片化，故而在下文详细记录了自己搭建整个网站的过程，并随着自己的日常使用不断补充新内容，力求完善。</p><p>当网站崩了的那一刻，我才发现这篇文档是如此的重要。从前4章的基操之后，后文将进入时间线记录中，以备不时之需，并将文档阶段性存档，方便回滚。</p><h1>1 网站搭建总览图</h1><h2 id="1-1-搭建流程图">1.1 搭建流程图</h2><p>网站搭建需要Github托管，Hexo做框架，然后寻找相应的主题进行配置、魔改，前面几步可以在一天时间内完成，主要的功夫都会被魔改所占用。</p><img title="" src="file:///D:/Blog/source/_posts/image/Web.png" alt="" data-align="center"><h2 id="1-2-所需资源网站总览">1.2 所需资源网站总览</h2><p>Github网站： <a href="https://github.com/">https://github.com/</a></p><p>Git官网： <a href="https://git-scm.com/">https://git-scm.com/</a></p><p>腾讯云域名控制台网址：<a href="https://console.cloud.tencent.com/domain">登录 - 腾讯云</a></p><p>node.js下载地址：<a href="https://nodejs.org/en/">Node.js</a></p><p>VScode下载网址：<a href="https://code.visualstudio.com/Download">Download Visual Studio Code - Mac, Linux, Windows</a></p><p>marktext下载网址：<a href="https://github.com/marktext/marktext?tab=readme-ov-file#download-and-installation">GitHub - marktext/marktext: 📝A simple and elegant markdown editor, available for Linux, macOS and Windows.</a></p><p>butterfly主题官网：<a href="https://butterfly.js.org/">butterfly</a></p><p>和风天气： <a href="https://www.qweather.com/">https://www.qweather.com/</a></p><p>高德地图： <a href="https://lbs.amap.com/api/webservice/create-project-and-key">创建应用和 Key-Web服务 API | 高德地图API</a></p><h2 id="1-3-素材网站">1.3 素材网站</h2><h3 id="1-3-1-配色网站">1.3.1 配色网站</h3><p><a href="https://www.designgradients.com/">https://www.designgradients.com/</a></p><p><a href="https://webkul.github.io/coolhue/">Gradient Colors Collection Palette - CoolHue 2.0</a></p><p><a href="http://tool.c7sky.com/webcolor/#character_12">网页设计常用色彩搭配表 - 配色表 | 小影的工具箱</a></p><p><a href="https://color.adobe.com/zh/">https://color.adobe.com/zh/</a></p><h3 id="1-3-2-图标字体">1.3.2 图标字体</h3><p><a href="https://www.iconfont.cn/">https://www.iconfont.cn/</a></p><h3 id="1-3-3-图库素材">1.3.3 图库素材</h3><p><a href="https://bg-patterns.com/">https://bg-patterns.com/</a></p><p><a href="https://www.namecheap.com/logo-maker/">Free Logo Maker | Create a Custom Logo Design Online</a></p><p><a href="https://pngimg.com/">https://pngimg.com/</a></p><p><a href="https://www.clearpng.com/">https://www.clearpng.com/</a></p><p><a href="https://pixabay.com/">https://pixabay.com/</a></p><p><a href="https://www.pexels.com/zh-cn/">免费素材图片</a></p><p><a href="https://www.officeplus.cn/IMAGE/?tags=8768620A-B8C0-4B6A-A956-8C517952B9A3">微软官方图片素材免费下载- 热门图片素材完整下载- OfficePLUS (officeplus.cn)</a></p><p><a href="https://www.manypixels.co/gallery">Free to Use Clip Art Images &amp; Vector Illustrations | ManyPixels</a></p><p><a href="https://undraw.co/illustrations">Illustrations | unDraw</a></p><p><a href="https://www.bensound.com/">https://www.bensound.com/</a></p><p><a href="https://bigjpg.com/">https://bigjpg.com/</a></p><p><a href="https://wallpaperscraft.com/">https://wallpaperscraft.com/</a></p><p><a href="https://pic.netbian.com/">https://pic.netbian.com/</a></p><h1>2  Github准备</h1><h2 id="2-1-注册Github">2.1 注册Github</h2><p>Github网站： <a href="https://github.com/">https://github.com/</a></p><p>进入网站注册并绑定邮箱后，生成自己的账号（账号名称确定后就无法更改了），然后点击创建仓库，仓库名称为：“<a href="http://xn--Github+github-1p8vz072b.io">Github名称+github.io</a>”</p><h2 id="2-2-下载Git">2.2 下载Git</h2><p>Git官网： <a href="https://git-scm.com/">https://git-scm.com/</a></p><p>按照安装指示默认选项即可，最后完成后，可以右键，菜单中显示Git图标即完成安装。</p><p><img src="C:%5CUsers%5Csunni%5CAppData%5CRoaming%5Cmarktext%5Cimages%5C2024-01-12-20-54-46-image.png" alt=""></p><h2 id="2-3-Git与Github绑定">2.3 Git与Github绑定</h2><h3 id="1-SSH-协议">(1) SSH 协议</h3><p>Github与Git是由SSH协议来绑定并提交文件。SSH（Secure Shell,安全外壳协议）是建立在应用层基础上的安全协议。传统的网络服务程序如FTP、POP和Telnet等，在网络上用明文传送口令和数据，很容易受到“中间人攻击”（Man-in-the-middle attack），中间人会冒充真正的服务器接收你传给服务器的数据，然后再冒充你把数据传给真正的服务器，从而出现欺骗。</p><p>SSH协议可以把所有传输的数据进行加密，能否防止DNS欺骗和IP欺骗，而且传输的数据是经过压缩的，还可以加快传输的速度。</p><p>SSH主要由 传输层协议[SSH-TRANS]、用户认证协议【SSH-USERAUTH]和连接协议[SSSH-CONNECT]组成。传输层协议是提供强力的加密技术、密码主机认证及完整性保护；用户认证协议用于向服务器提供客户端用户鉴别功能。</p><p>SSH主要用于远程登录，可以口令登录和公钥登录。由于口令登录每次都必须输入密码比较麻烦，所以可以用公钥登录。用户将自己的公钥储存在远程主机上，登录时远程主机随机发送一段字符串，用户把自己的私钥加密后再发回来，远程主机用事先储存在公钥进行解密。</p><h3 id="2-公钥生成">(2) 公钥生成</h3><p>（1）先检测是否安装SSH，新建一个文件夹，在文件夹里面右键打开Git Bash，然后输入<code>ssh</code></p><p><img src="C:%5CUsers%5Csunni%5CAppData%5CRoaming%5Cmarktext%5Cimages%5C2024-01-12-21-23-03-image.png" alt=""></p><p>输入 ssh-keygen -t rsa</p><p>然后在提示的位置找到公钥id_rsa.pub，记事本打开后复制内容，然后去浏览器的Github主页中，从设置中找到SSH and GPG keys，再点击 New SSH key。</p><p><img src="C:%5CUsers%5Csunni%5CAppData%5CRoaming%5Cmarktext%5Cimages%5C2024-01-13-10-15-42-image.png" alt=""></p><p>将复制的内容粘贴到key中，标题可填写当前本地电脑名称（更换主机时便于区分），再点击Add SSH key即可。</p><p><img src="C:%5CUsers%5Csunni%5CAppData%5CRoaming%5Cmarktext%5Cimages%5C2024-01-13-10-16-52-image.png" alt=""></p><p>最后在Git Bash中输入<code>ssh -T git@github.com</code></p><h2 id="2-4-建立域名">2.4 建立域名</h2><p>在腾讯云注册的域名，腾讯云域名控制台网址：<a href="https://console.cloud.tencent.com/domain">登录 - 腾讯云</a></p><p>开始注册域名，输入自己想要的域名信息，点击查询，选择自己相中的后加入购物车</p><p><img src="C:%5CUsers%5Csunni%5CAppData%5CRoaming%5Cmarktext%5Cimages%5C2024-01-13-10-23-49-image.png" alt=""></p><p>选择好后点击右侧的立即购买，填入支付页。确认域名的价钱、期限后，创建信息模板，等待审核通过（5分钟左右）</p><p><img src="C:%5CUsers%5Csunni%5CAppData%5CRoaming%5Cmarktext%5Cimages%5C2024-01-13-10-25-15-image.png" alt=""></p><p>审核通过后即可支付，获取自己的域名。</p><p><img src="C:%5CUsers%5Csunni%5CAppData%5CRoaming%5Cmarktext%5Cimages%5C2024-01-13-10-27-00-5d80c8e31b52da1c17b28676a1580cf.png" alt=""></p><h1>3 Hexo准备</h1><h2 id="3-1-Nodejs">3.1 Nodejs</h2><p>node.js下载地址：<a href="https://nodejs.org/en/">Node.js</a></p><p>按照安装提示直接默认选项即可。安装完成后，<code>win+R</code>打开运行框，输入cmd，然后在命令提示符弹窗中输入 <code>node -v</code>和<code>npm -v</code></p><p><img src="C:%5CUsers%5Csunni%5CAppData%5CRoaming%5Cmarktext%5Cimages%5C2024-01-13-10-32-06-image.png" alt=""></p><p>由于需要经常安装模块供配置，所以需要设置npm在安装全局模块时的路径和环境变量，避免把下载的资源都占用到C盘中。</p><p>在安装后的nodejs中新建两个文件夹 node_cache、node_global，</p><p><img src="C:%5CUsers%5Csunni%5CAppData%5CRoaming%5Cmarktext%5Cimages%5C2024-01-13-10-34-00-image.png" alt=""></p><p>然后右键选择文件夹属性，更改访问权限，改成完全控制。</p><p><img src="C:%5CUsers%5Csunni%5CAppData%5CRoaming%5Cmarktext%5Cimages%5C2024-01-13-10-36-23-image.png" alt=""></p><p>打开cmd，输入以下命令：</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm config set prefix &quot;D:\nodejs\node_global&quot;</span><br><span class="line">npm config set cache &quot;D:\nodejs\node_cache&quot;</span><br></pre></td></tr></table></figure><p>打开环境变量，新建系统变量 NODE_PATH，如下</p><p><img src="C:%5CUsers%5Csunni%5CAppData%5CRoaming%5Cmarktext%5Cimages%5C2024-01-13-10-38-14-image.png" alt=""></p><p>然后编辑用户变量中的path，将npm的路径更改：</p><p><img src="C:%5CUsers%5Csunni%5CAppData%5CRoaming%5Cmarktext%5Cimages%5C2024-01-13-10-39-08-image.png" alt=""></p><p>最后在cmd中执行命令测试一下：</p><p><code> npm install webpack -g</code></p><p>查看webpack文件是否已经出现。</p><p><img src="C:%5CUsers%5Csunni%5CAppData%5CRoaming%5Cmarktext%5Cimages%5C2024-01-13-10-42-11-image.png" alt=""></p><h2 id="3-2-安装Hexo">3.2 安装Hexo</h2><p>在D盘新建一个文件夹，命名为“Blog”，在Blog文件夹中点击Git Bush Here，输入<code>npm install -g hexo-cli</code></p><p>安装完成后，输入<code>hexo init</code>初始化博客，然后输入<code>hexo g</code>静态部署，然后再输入<code>hexo s</code>可以在线查看。</p><p>查看网址：<code>http://localhost:4000</code></p><p>快捷键<code>ctrl+c</code>可以停止服务器。</p><p>新建完成后，Hexo所在文件夹的目录如下：</p><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">├── _config.yml  <span class="meta">#网站配置信息，在此配置部分参数</span></span><br><span class="line">├── package.json <span class="meta">#应用程序信息，默认安装markdown渲染引擎</span></span><br><span class="line">├── scaffolds<span class="meta">#模板文件夹，Hexo根据Scaffold来新建文章</span></span><br><span class="line">├── source <span class="meta">#存放用户资源的地方</span></span><br><span class="line"><span class="string">|   ├── _drafts</span></span><br><span class="line"><span class="string">|   └── _posts</span></span><br><span class="line">└── themes <span class="meta">#主题文件夹，根据主题生成静态页面</span></span><br></pre></td></tr></table></figure><p>下载安装Hexo的相关插件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-index --save</span><br><span class="line"><span class="comment"># 主页插件，最新版Hexo默认安装，可跳过</span></span><br><span class="line">npm install hexo-generator-archive --save</span><br><span class="line"><span class="comment"># 归档插件，最新版Hexo默认安装，可跳过</span></span><br><span class="line">npm install hexo-generator-category --save</span><br><span class="line"><span class="comment"># 分类插件，最新版Hexo默认安装，可跳过</span></span><br><span class="line">npm install hexo-generator-tag --save</span><br><span class="line"><span class="comment"># 标签插件，最新版Hexo默认安装，可跳过</span></span><br><span class="line">npm install hexo-server --save</span><br><span class="line"><span class="comment"># 服务插件，最新版Hexo默认安装，可跳过</span></span><br><span class="line">npm install hexo-renderer-marked --save</span><br><span class="line"><span class="comment"># markdown渲染支持插件，最新版Hexo默认安装，可跳过</span></span><br><span class="line">npm install hexo-renderer-stylus --save</span><br><span class="line"><span class="comment"># nib css支持插件，如无需求，可跳过</span></span><br><span class="line">npm install hexo-generator-feed --save</span><br><span class="line"><span class="comment"># RSS订阅支持插件，如无需求，可跳过</span></span><br><span class="line">npm install hexo-generator-sitemap --save</span><br><span class="line"><span class="comment"># sitemap生成插件，帮助搜索引擎抓取，如无需求，可跳过</span></span><br><span class="line">npm install hexo-admin --save</span><br><span class="line"><span class="comment"># 网页端hexo文档管理插件，如无需求，可跳过</span></span><br><span class="line">npm install hexo-deployer-git --save</span><br><span class="line"><span class="comment"># git部署插件，必须安装</span></span><br></pre></td></tr></table></figure><h2 id="3-3-将Hexo部署到Github">3.3 将Hexo部署到Github</h2><p>进入Blog文件夹，用记事本打开 _config.yml文件，下滑到文件底部，填上内容：</p><p><img src="https://pic3.zhimg.com/v2-7f9e09b1827fd9202088cc9d9b19880e_r.jpg" alt=""></p><p>注意，仓库地址是这个</p><p><img src="C:%5CUsers%5Csunni%5CAppData%5CRoaming%5Cmarktext%5Cimages%5C2024-01-13-10-47-16-image.png" alt=""></p><p>然后回到Blog文件夹，打开Git Bash，安装Git部署插件，输入：</p><p><code>npm install hexo-deployer-git --save</code></p><p>然后记住下面这三连操作：</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo clean   #清除缓存文件 db.json 和已生成的静态文件 public</span><br><span class="line">hexo g       #生成网站静态文件到默认设置的 public 文件夹(hexo generate 的缩写)</span><br><span class="line">hexo d       #自动生成网站静态文件，并部署到设定的仓库(hexo deploy 的缩写)</span><br></pre></td></tr></table></figure><p>完成以后，输入 <code>https://xxx.github.io</code>就可以打开网页了。</p><p>Hexo的常用命令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br><span class="line"><span class="comment">#清空缓存</span></span><br><span class="line">hexo generate</span><br><span class="line">hexo g <span class="comment">#简写</span></span><br><span class="line"><span class="comment">#重新编译</span></span><br><span class="line">hexo server</span><br><span class="line">hexo s <span class="comment">#简写</span></span><br><span class="line"><span class="comment">#打开本地访问</span></span><br><span class="line">hexo new &lt;layout&gt; <span class="string">&quot;文章title&quot;</span></span><br><span class="line"><span class="comment">#新建文章</span></span><br><span class="line">hexo deploy</span><br><span class="line">hexo d <span class="comment">#简写</span></span><br><span class="line"><span class="comment">#部署到云端</span></span><br></pre></td></tr></table></figure><h2 id="3-4-解析域名">3.4 解析域名</h2><p>现在虽然可以访问自己的网站，但是网址是Github提供的，为了启用自己的个性化域名，需要解析域名和绑定域名。</p><p>回到腾讯云-域名控制台：<a href="https://console.cloud.tencent.com/cns/detail/sonny2024.space/records">登录 - 腾讯云</a></p><p>点击解析，然后输入网址，自动生成两条解析记录。点击第二条的修改，更改为A，IPV4地址通过cmd命令，输入</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ping sonny1996.github.io</span><br></pre></td></tr></table></figure><p><img src="C:%5CUsers%5Csunni%5CAppData%5CRoaming%5Cmarktext%5Cimages%5C2024-01-13-10-50-21-image.png" alt=""></p><p>然后打开Blog的source文件夹，新建CNAME.txt文件，打开后写上自己的域名，保存后把\txt删掉。</p><p><img src="C:%5CUsers%5Csunni%5CAppData%5CRoaming%5Cmarktext%5Cimages%5C2024-01-13-10-54-15-image.png" alt=""></p><p>回到Blog文件夹，右键打开Git Bash，三连</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo g</span><br><span class="line">hexo d</span><br></pre></td></tr></table></figure><p>这时就可以用自己的域名打开博客网页了。</p><p>如果此时报错，按照提示输入相应的代码进行修复</p><p><img src="C:%5CUsers%5Csunni%5CAppData%5CRoaming%5Cmarktext%5Cimages%5C2024-02-09-12-28-52-image.png" alt=""></p><p><img src="C:%5CUsers%5Csunni%5CAppData%5CRoaming%5Cmarktext%5Cimages%5C2024-02-09-12-30-17-image.png" alt=""></p><h2 id="3-5-Vercel部署">3.5 Vercel部署</h2><p>Vercel是一个代码托管平台，首先需要创建一个Vercel账号，用Github账户关联，参考教程：<a href="https://www.fomal.cc/posts/4aa2d85f.html">Hexo博客搭建基础教程(二) | Fomalhaut🥝</a></p><h2 id="3-6-Github-Action">3.6 Github Action</h2><p><strong>（1）创建源代码仓库</strong></p><p>现已有静态博客页面存放仓库，类型为public</p><p>需要建立一个源代码仓库，类型为private</p><p>注：建立时勾选”readme file“</p><p><strong>（2）生成部署密钥</strong></p><p>在本地博客文件夹里，打开git bash，运行</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -f github-deploy-key</span><br></pre></td></tr></table></figure><p>一路回车至创建成功，本地文件夹中出现两个文件</p><p><strong>（3）配置部署密钥</strong></p><p>在公共仓库中，添加公共钥匙（HEXO_DEPLOY_PUB）</p><p>在私密仓库中，添加secrets文件，注意命名 （私钥命名需用下划线 <code>HEXO_DEPLOY_PRI</code>）</p><p><strong>（1）常量声明</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 在记事本中逐个记录，方便替换，以下为我的示例</span></span><br><span class="line">[Blogroot]: E:\MyWebt</span><br><span class="line"></span><br><span class="line">[SourceRepo]：Akilarlxh/Hexo-blog-source</span><br><span class="line"></span><br><span class="line">[SiteBlogRepo]</span><br><span class="line">  [GithubBlogRepo]：Akilarlxh.github.io</span><br><span class="line">  [GiteeBlogRepo]：akilar</span><br><span class="line">  [CodingBlogRepo]：akilar/akilar</span><br><span class="line"></span><br><span class="line">[SiteUsername]</span><br><span class="line">  [GithubUsername]：Akilarlxh</span><br><span class="line">  [GiteeUsername]：Akilar</span><br><span class="line">  [CodingUsername]：akilar</span><br><span class="line"></span><br><span class="line">[SiteToken]</span><br><span class="line">  [GithubToken]：15076c8eb9c874sad676bc9bfb13sadw86babf2</span><br><span class="line">  [GiteeToken]：f57acasdadgar4578603adas5d8w79bb</span><br><span class="line">  [CodingToken]：a4e45daf78as1f2670dcbbcfd5as7d8asd8cd66a77</span><br><span class="line"></span><br><span class="line">[GithubEmail]：akilarlxh@gmail.com</span><br><span class="line"></span><br><span class="line">[TokenUser]：RAxDiobbRi</span><br></pre></td></tr></table></figure><p><strong>（2）获取Token</strong></p><p>访问<a href="https://github.com/settings/tokens">Github-&gt;头像（右上角）-&gt;Settings-&gt;Developer Settings-&gt;Personal access tokens</a>-</p><p>选择<code>generate new token(classic)</code>,创建名称为Hexo-deploy，勾选repo和workflow，生成的Token（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）</p><p><strong>（3）创建存放源码的私有仓库</strong></p><p>在github上创建仓库，选择<code>private</code>属性，创建完成后把源码push到这里。</p><h1>4 网站配置</h1><h2 id="4-1-网站主题选择">4.1 网站主题选择</h2><p>首先给网站找个主题，我当前使用的是Butterfly主题。</p><h3 id="4-1-1-安装主题">4.1.1 安装主题</h3><p>首先确认主题的下载地址，然后打开Blog根文件夹，右键Git Bash，输入代码：</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/theme-next/hexo-theme-next themes/next</span><br><span class="line">git clone -b master https://github.com/jerryc127/hexo-theme-butterfly.git themes/butterfly</span><br></pre></td></tr></table></figure><p>上述版本为稳定版，如果要升级，可以在主题目录下运行<code>git pull</code></p><h3 id="4-1-2-Butterfly主题应用">4.1.2 Butterfly主题应用</h3><p>修改 Hexo 根目录下的 _config.yml，把主题改为 butterfly</p><p><code>theme: butterfly</code></p><h3 id="4-1-3-插件安装">4.1.3 插件安装</h3><p>需要安装pug以及stylus的渲染器</p><p><code>npm install hexo-renderer-pug hexo-renderer-stylus --save</code></p><h3 id="4-1-4-避免升级不便">4.1.4 避免升级不便</h3><p>在hexo的theme中的_config.yml 文件复制到根目录下，并且改名字为_config.butterfly.yml。</p><p><img src="C:%5CUsers%5Csunni%5CAppData%5CRoaming%5Cmarktext%5Cimages%5C2024-01-13-11-04-11-image.png" alt=""></p><p>Hexo会自动合并主题中的<code>_config.yml</code>和<code>_config.butterfly.yml</code>里的配置，如果存在同名配置，优先使用的是<code>_config.butterfly.yml</code>里的配置。同样的，如果使用了<code>_config.butterfly.ym</code>l配置，<code>theme</code>里的原文件将不再会有效果。</p><h2 id="4-2-网站根主题配置">4.2  网站根主题配置</h2><p>在根目录里面的<code>_config.yml</code>中修改</p><h4 id="（1）网站信息及网址信息更改">（1）网站信息及网址信息更改</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 网站信息</span></span><br><span class="line">title: 挽风</span><br><span class="line">subtitle: 一个钻研技术的文艺青年</span><br><span class="line">description: 机器人</span><br><span class="line">keywords: <span class="string">&#x27;&#x27;</span></span><br><span class="line">author: Sonny</span><br><span class="line">language: zh-CN</span><br><span class="line">timezone: Asia/Shanghai <span class="comment">#大陆只能写Asia/Shanghai</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 网址信息</span></span><br><span class="line">url: https://sonny2024.space/ <span class="comment">#网站网址信息</span></span><br><span class="line">permalink: pages/:category/:name.html <span class="comment">#文章链接格式</span></span><br><span class="line">permalink_defaults:</span><br><span class="line">pretty_urls:</span><br><span class="line">  trailing_index: <span class="literal">false</span> <span class="comment"># Set to false to remove trailing &#x27;index.html&#x27; from permalinks</span></span><br><span class="line">  trailing_html: <span class="literal">false</span> <span class="comment"># Set to false to remove trailing &#x27;.html&#x27; from permalinks</span></span><br></pre></td></tr></table></figure><h4 id="（2）永久链接生成">（2）永久链接生成</h4><p>参考教程：<a href="http://www.gocit.cn/posts/8.html">Hexo：hexo利用hexo-abbrlink插件生成永久链接 | Elvin</a></p><p>安装abbrlink插件：在根文件下打开bash，输入以下代码</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-abbrlink --save</span><br></pre></td></tr></table></figure><p>修改<code>_config.yml</code>配置文件</p><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">## permalink: :year/:month/:day/:title/</span><br><span class="line">permalink: posts/:abbrlink.html  ## 此处可以自己设置,也可以直接使用 :/abbrlink</span><br></pre></td></tr></table></figure><p>在<code>_config.yml</code>配置文件下增加以下配置</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># abbrlink config</span></span><br><span class="line">abbrlink:</span><br><span class="line">  alg: crc32      <span class="comment">#support crc16(default) and crc32 进制</span></span><br><span class="line">  rep: hex        <span class="comment">#support dec(default) and hex  算法</span></span><br><span class="line">  drafts: <span class="literal">false</span>   <span class="comment">#(true)Process draft,(false)Do not process draft. false(default) </span></span><br><span class="line">  <span class="comment">## Generate categories from directory-tree</span></span><br><span class="line">  <span class="comment">## depth: the max_depth of directory-tree you want to generate, should &gt; 0</span></span><br><span class="line">  auto_category:</span><br><span class="line">     <span class="built_in">enable</span>: <span class="literal">true</span>  <span class="comment">#true(default)</span></span><br><span class="line">     depth:        <span class="comment">#3(default)</span></span><br><span class="line">     over_write: <span class="literal">false</span> </span><br><span class="line">  auto_title: <span class="literal">false</span> <span class="comment">#enable auto title, it can auto fill the title by path</span></span><br><span class="line">  auto_date: <span class="literal">false</span> <span class="comment">#enable auto date, it can auto fill the date by time today</span></span><br><span class="line">  force: <span class="literal">false</span> <span class="comment">#enable force mode,in this mode, the plugin will ignore the cache, and calc the abbrlink for every post even it already had abbrlink.</span></span><br></pre></td></tr></table></figure><p>完成后，可以在每篇文章的footer里面添加<code>abbrlink: 1 #数字</code></p><h4 id="（3）数字公式的渲染">（3）数字公式的渲染</h4><p>下载<code>mathjax</code>插件：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-math --save</span><br></pre></td></tr></table></figure><p>在<code>_config.yml</code>配置文件下增加以下配置</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">math:</span><br><span class="line">  engine: <span class="string">&#x27;mathjax&#x27;</span></span><br><span class="line">  mathjax:</span><br><span class="line">    src: custom_mathjax_source</span><br><span class="line">    config:</span><br><span class="line">      <span class="comment"># MathJax config   </span></span><br></pre></td></tr></table></figure><p>在主题配置文件中将<code>mathjax</code>设置为true</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mathjax:</span><br><span class="line">  <span class="built_in">enable</span>: <span class="literal">true</span></span><br><span class="line">  per_page: <span class="literal">true</span></span><br></pre></td></tr></table></figure><h4 id="（4-）挂载音乐挂件">（4 ）挂载音乐挂件</h4><p>安装hexo-tag-aplayer插件，git执行：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save hexo-tag-aplayer</span><br></pre></td></tr></table></figure><p>在<code>_config.yml</code>配置文件下增加以下配置</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">aplayer:</span><br><span class="line">  meting: <span class="literal">true</span></span><br><span class="line">  asset_inject: <span class="literal">false</span></span><br></pre></td></tr></table></figure><p>在主题配置文件中修改：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Inject the css and script (aplayer/meting)</span></span><br><span class="line">aplayerInject:</span><br><span class="line">  <span class="built_in">enable</span>: <span class="literal">true</span></span><br><span class="line">  per_page: <span class="literal">true</span></span><br></pre></td></tr></table></figure><p>然后在博客文章中使用的话，可以在需要的位置插入以下内容：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% meting <span class="string">&quot;9094011425&quot;</span> <span class="string">&quot;netease&quot;</span> <span class="string">&quot;playlist&quot;</span> <span class="string">&quot;autoplay&quot;</span> <span class="string">&quot;mutex:false&quot;</span> <span class="string">&quot;listmaxheight:100px&quot;</span> <span class="string">&quot;preload:none&quot;</span> <span class="string">&quot;theme:#ad7a86&quot;</span>%&#125;</span><br></pre></td></tr></table></figure><p>其中，常用选项的配置如下：</p><p><a href="https://polar-bear.eu.org/2023/07/21/hexo-tag-aplayer-cha-jian/">Hexo添加全局吸底Aplayer音乐播放器教程 | polar-bear～Blog</a></p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">server</span>可选：</span><br><span class="line">netease tencent kugou xiami baidu</span><br><span class="line">netease（网易云音乐），tencent（QQ音乐），kugou（酷狗音乐），xiami（虾米音乐），baidu（百度音乐）</span><br><span class="line"><span class="keyword">type</span>可选：song（歌曲），playlist（歌单），album（专辑），<span class="keyword">search</span>（搜索关键字），artist（歌手）。添加单曲选的歌曲，歌单选择playlist。</span><br></pre></td></tr></table></figure><p>全局吸底Aplayer模式：</p><p>在主题配置文件中插入：</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">inject:</span><br><span class="line">  head:</span><br><span class="line">  bottom:</span><br><span class="line">    - &lt;div <span class="attribute">class</span>=<span class="string">&quot;aplayer&quot;</span> <span class="attribute">data-id</span>=<span class="string">&quot;8492133976&quot;</span> <span class="attribute">data-server</span>=<span class="string">&quot;netease&quot;</span> <span class="attribute">data-type</span>=<span class="string">&quot;playlist&quot;</span>  <span class="attribute">data-fixed</span>=<span class="string">&quot;true&quot;</span> <span class="attribute">data-theme</span>=<span class="string">&quot;#3F51B5&quot;</span>&gt;&lt;/div&gt;</span><br></pre></td></tr></table></figure><h4 id="（5）添加Algolia搜索引擎">（5）添加Algolia搜索引擎</h4><p>注册账号：<a href="https://dashboard.algolia.com/apps/N5DJY8OHI5/dashboard">Sign in | Algolia</a></p><p>创建新应用： <a href="https://zhuanlan.zhihu.com/p/667645314">https://zhuanlan.zhihu.com/p/667645314</a></p><p>安装Algolia插件：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-algoliasearch --save</span><br></pre></td></tr></table></figure><p>在<code>_config.yml</code>配置文件下增加以下配置</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># hexo-algoliasearch(可以匹配内容)</span></span><br><span class="line">algolia:</span><br><span class="line">  appId: IL09IAT89V</span><br><span class="line">  apiKey: fc7e04f5bb9ad5d83ce0715c4b0903f0</span><br><span class="line">  adminApiKey: 537da783a4d4d52a131bef51bf348040</span><br><span class="line">  chunkSize: 5000</span><br><span class="line">  indexName: Web</span><br><span class="line">  fields:</span><br><span class="line">    - content:strip:<span class="built_in">truncate</span>,0,500</span><br><span class="line">    - excerpt:strip</span><br><span class="line">    - gallery</span><br><span class="line">    - permalink</span><br><span class="line">    - photos</span><br><span class="line">    - slug</span><br><span class="line">    - tags</span><br><span class="line">    - title</span><br></pre></td></tr></table></figure><p>填写后执行语句上传索引信息</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo algolia</span><br></pre></td></tr></table></figure><p>在主题配置文件中修改：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Algolia search</span></span><br><span class="line">algolia_search:</span><br><span class="line">  <span class="built_in">enable</span>: <span class="literal">true</span></span><br><span class="line">  hits:</span><br><span class="line">    per_page: 10</span><br><span class="line">  labels:</span><br><span class="line">    input_placeholder: Search <span class="keyword">for</span> Posts</span><br><span class="line">    hits_empty: <span class="string">&quot;我们没有找到任何搜索结果: <span class="variable">$&#123;query&#125;</span>&quot;</span></span><br><span class="line">    hits_stats: <span class="string">&quot;找到<span class="variable">$&#123;hits&#125;</span>条结果（用时<span class="variable">$&#123;time&#125;</span> ms）&quot;</span></span><br></pre></td></tr></table></figure><h2 id="4-3-Butterfly主题配置">4.3 Butterfly主题配置</h2><h4 id="（1）学习网址">（1）学习网址</h4><p>Butterfly主题学习网址： <a href="https://butterfly.js.org/">https://butterfly.js.org/</a></p><h4 id="（2）Front-matter">（2）Front-matter</h4><p>在markdown文件最上方以<code>- - -</code>分割的区域，称为front-matter，Page和Post分别用于页面和文章页的配置。</p><figure class="highlight sqf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">Page 页面配置说明</span><br><span class="line"></span><br><span class="line">title： 必须，页面标题</span><br><span class="line"><span class="built_in">date</span>： 必须，页面创建日期</span><br><span class="line"><span class="built_in">type</span>： 必须，分类、标签、友情链接三个页面需要配置</span><br><span class="line">updated： 更新日期</span><br><span class="line">descripe： 页面描述</span><br><span class="line">keyword： 页面关键词</span><br><span class="line"><span class="built_in">comment</span>：页面评论</span><br><span class="line">top_img： 页面顶部图片</span><br><span class="line">mathjax:</span><br><span class="line">katex：</span><br><span class="line">aside： 显示侧边栏，默认为<span class="literal">true</span></span><br><span class="line">aplayer： 在需要页面加载aplayer</span><br><span class="line">highlight_shrink: 配置代码框是否展开</span><br><span class="line"><span class="built_in">random</span>：配置友情链接是否随机排序，默认为<span class="literal">false</span></span><br></pre></td></tr></table></figure><figure class="highlight vbnet"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">Post 文章页配置说明</span><br><span class="line"></span><br><span class="line"><span class="symbol">title:</span> 必须，文章标题</span><br><span class="line"><span class="type">date</span>： 必须，文章创建日期</span><br><span class="line">updated： 可选，文章更新日期</span><br><span class="line">tags：文章标签</span><br><span class="line"><span class="symbol">categories:</span> 文章分类</span><br><span class="line"><span class="symbol">keywords:</span> 文章关键词</span><br><span class="line"><span class="symbol">description:</span> 文章描述</span><br><span class="line"><span class="symbol">top_img:</span> 文章顶部图片</span><br><span class="line"><span class="symbol">cover:</span> 文章缩略图</span><br><span class="line"><span class="symbol">comments:</span>文章评论</span><br><span class="line"><span class="symbol">toc:</span>显示文章toc</span><br><span class="line"><span class="symbol">toc_number:</span>显示toc_number</span><br><span class="line"><span class="symbol">toc_style_simple:</span> 显示toc的简洁模式</span><br><span class="line"><span class="symbol">copyright:</span>显示文章版权模块，enable配置</span><br><span class="line"><span class="symbol">copyright_author:</span> 文章版权模块的文章作者</span><br><span class="line"><span class="symbol">copyright_author_href:</span> 文章版权模块的文章作者</span><br><span class="line"><span class="symbol">copyright_url:</span> 文章版权模块的文章链接</span><br><span class="line"><span class="symbol">copyright_info:</span>文章版权模块的版权声明</span><br><span class="line"><span class="symbol">mathjax:</span> 显示mathjax</span><br><span class="line"><span class="symbol">katex:</span>显示katex</span><br><span class="line"><span class="symbol">aplayer:</span> 配置音乐</span><br><span class="line"><span class="symbol">highlight_shrink:</span> 配置代码框是否展开</span><br><span class="line"><span class="symbol">aside:</span> 显示侧边栏，默认<span class="literal">true</span></span><br><span class="line"><span class="symbol">abcjs:</span> 加载abcjs</span><br></pre></td></tr></table></figure><h4 id="（3）导航栏设置">（3）导航栏设置</h4><p>在主题配置文件中进行更改</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># 导航栏設置</span><br><span class="line"># --------------------------------------</span><br><span class="line">nav:</span><br><span class="line">  logo: /图片/Home/<span class="number">2.</span>png</span><br><span class="line">  display_title: <span class="literal">true</span></span><br><span class="line">  fixed: <span class="literal">true</span> # fixed navigation bar</span><br></pre></td></tr></table></figure><h4 id="（4）菜单-目录">（4）菜单/目录</h4><p>在主题配置文件中进行更改</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"># Menu 目录</span><br><span class="line">menu:</span><br><span class="line">  首页: / || fa-solid fa-house-user #首页</span><br><span class="line">  技术||fa-solid fa-robot||hide: #技术专栏</span><br><span class="line">      机器人: /robot/ || fa-solid fa-robot</span><br><span class="line">      机械: /mechanics/ || fa-solid fa-screwdriver-wrench</span><br><span class="line">      电控: /electronics/ || fa-solid fa-bolt</span><br><span class="line">      算法: /computer/ || fa-solid fa-computer</span><br><span class="line">      语言: /language/ || fa-solid fa-globe</span><br><span class="line">  生活||fas fa-book-reader||hide:</span><br><span class="line">      运动: /sports/ || fa-solid fa-person-biking</span><br><span class="line">      阅读: /read/|| fa-solid fa-book</span><br><span class="line">      音乐: /musics/ || fa-solid fa-music</span><br><span class="line">      书画: /drawings/ || fa-solid fa-palette</span><br><span class="line">      日常: /dailylife/ || fa-solid fa-sun</span><br><span class="line">  资源||fas fa-archive: #资源列表</span><br><span class="line">      项目: /project/ || fa-solid fa-diagram-project</span><br><span class="line">      下载: /download/ || fa-solid fa-download</span><br><span class="line">  # Tags: /tags/ || fas fa-tags</span><br><span class="line">  # Categories: /categories/ || fas fa-folder-open</span><br><span class="line">  # List||fas fa-list:</span><br><span class="line">  #   Music: /music/ || fas fa-music</span><br><span class="line">  #   Movie: /movies/ || fas fa-video</span><br><span class="line">  # Link: /link/ || fas fa-link</span><br><span class="line">  关于: /about/ || fa-solid fa-mars</span><br></pre></td></tr></table></figure><p>注意：必须是 /XXX/，后面用||分开，注意空格，然后写图标名称</p><h4 id="（5）代码">（5）代码</h4><p>代码功能仅适用于Hexo自带的代码渲染，主要修改文章中代码的主题风格、代码块复制按钮、代码语言、代码展开与否、代码高度限制、代码换行等。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># Code <span class="title function_">Blocks</span> <span class="params">(代码相关)</span></span><br><span class="line"># --------------------------------------</span><br><span class="line">highlight_theme: light #  darker / pale night / light / ocean / mac / mac light / <span class="literal">false</span></span><br><span class="line">highlight_copy: <span class="literal">true</span> # copy button</span><br><span class="line">highlight_lang: <span class="literal">true</span> # show the code language</span><br><span class="line">highlight_shrink: <span class="literal">true</span> # <span class="literal">true</span>: shrink the code blocks / <span class="literal">false</span>: expand the code blocks | none: expand code blocks and hide the button</span><br><span class="line">highlight_height_limit: <span class="literal">false</span> # unit: px</span><br><span class="line">code_word_wrap: <span class="literal">false</span></span><br></pre></td></tr></table></figure><h4 id="（6）社交图标">（6）社交图标</h4><p>在主题配置文件中</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># Social <span class="title function_">Settings</span> <span class="params">(社交图标设置)</span></span><br><span class="line"># formal:</span><br><span class="line">#   icon: link || the description || color</span><br><span class="line">social:</span><br><span class="line">  fas fa-envelope: mailto:xbyning<span class="meta">@gmail</span>.com || 邮箱 || <span class="string">&#x27;#4a7dbe&#x27;</span></span><br><span class="line">  fa-brands fa-qq: http:<span class="comment">//wpa.qq.com/msgrd?v=3&amp;uin=1789285411&amp;site=qq&amp;menu=yes || QQ</span></span><br><span class="line">  fa-brands fa-zhihu: https:<span class="comment">//www.zhihu.com/people/sun-ning-ning-69 || 知乎</span></span><br></pre></td></tr></table></figure><h4 id="（7）头像">（7）头像</h4><p>在主题配置文件中</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># Avatar (头像)</span><br><span class="line">avatar:</span><br><span class="line">  img: /img/avatar.gif</span><br><span class="line">  effect: <span class="literal">false</span></span><br></pre></td></tr></table></figure><h4 id="（8）顶部图">（8）顶部图</h4><p>顶部图的配置在配置文件和各自配置文件中都可以进行，各自配置文件的优先级大于配置文件。</p><p>因此配置文件可以设置为通用型，在各自配置文件中做个性化处理。</p><p>其中首页的顶部图也需要设置</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Disable all banner image</span></span><br><span class="line">disable_top_img: <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The banner image of home page</span></span><br><span class="line">index_img: /img/background.jpg</span><br></pre></td></tr></table></figure><h4 id="9）文章封面">(9）文章封面</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">cover:</span><br><span class="line">  # display the cover or <span class="title function_">not</span> <span class="params">(是否显示文章封面)</span></span><br><span class="line">  index_enable: <span class="literal">true</span></span><br><span class="line">  aside_enable: <span class="literal">true</span></span><br><span class="line">  archives_enable: <span class="literal">true</span></span><br><span class="line">  # the position of cover in home <span class="title function_">page</span> <span class="params">(封面显示的位置)</span></span><br><span class="line">  # left/right/both</span><br><span class="line">  position: both</span><br><span class="line">  # When cover is not set, the <span class="keyword">default</span> cover is <span class="title function_">displayed</span> <span class="params">(当沒有设置cover时，默认的封面显示)</span></span><br><span class="line">  default_cover: /img/background.gif</span><br><span class="line">    # - https:<span class="comment">//i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg</span></span><br></pre></td></tr></table></figure><h4 id="（10）错误页面">（10）错误页面</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Replace Broken Images (替換无法显示的图片)</span></span><br><span class="line">error_img:</span><br><span class="line">  flink: /图片/模板/404_1.jpg</span><br><span class="line">  post_page: /图片/模板/friend_404.gif</span><br><span class="line"></span><br><span class="line"><span class="comment"># A simple 404 page</span></span><br><span class="line">error_404:</span><br><span class="line">  <span class="built_in">enable</span>: <span class="literal">true</span></span><br><span class="line">  subtitle: <span class="string">&quot;此页面不存在哦٩͡[๏̯͡๏]&quot;</span></span><br><span class="line">  <span class="comment"># https://i.loli.net/2020/05/19/aKOcLiyPl2JQdFD.png</span></span><br><span class="line">  background: /图片/模板/404.jpg</span><br></pre></td></tr></table></figure><h4 id="（11）页面meta显示">（11）页面meta显示</h4><p>修改主题配置文件</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">post_meta:</span><br><span class="line">  page: # Home Page</span><br><span class="line">    date_type: both # created or updated or both 主頁文章日期是創建日或者更新日或都顯示</span><br><span class="line">    date_format: date # date/relative 顯示日期還是相對日期</span><br><span class="line">    categories: <span class="literal">true</span> # <span class="literal">true</span> or <span class="literal">false</span> 主頁是否顯示分類</span><br><span class="line">    tags: <span class="literal">true</span> # <span class="literal">true</span> or <span class="literal">false</span> 主頁是否顯示標籤</span><br><span class="line">    label: <span class="literal">true</span> # <span class="literal">true</span> or <span class="literal">false</span> 顯示描述性文字</span><br><span class="line">  post:</span><br><span class="line">    date_type: both # created or updated or both 文章頁日期是創建日或者更新日或都顯示</span><br><span class="line">    date_format: date # date/relative 顯示日期還是相對日期</span><br><span class="line">    categories: <span class="literal">true</span> # <span class="literal">true</span> or <span class="literal">false</span> 文章頁是否顯示分類</span><br><span class="line">    tags: <span class="literal">true</span> # <span class="literal">true</span> or <span class="literal">false</span> 文章頁是否顯示標籤</span><br><span class="line">    label: <span class="literal">true</span> # <span class="literal">true</span> or <span class="literal">false</span> 顯示描述性文字</span><br></pre></td></tr></table></figure><h4 id="（12）文章打赏">（12）文章打赏</h4><p>在每篇文章结尾添加打赏按钮，相关二维码可以自行配置。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># Sponsor/reward</span><br><span class="line">reward:</span><br><span class="line">  enable: <span class="literal">true</span></span><br><span class="line">  text:</span><br><span class="line">  QR_code:</span><br><span class="line">      - img: /图片/Home/wechat.jpg</span><br><span class="line">        link:</span><br><span class="line">        text: 微信</span><br><span class="line">      - img: /图片/Home/alipay.jpg</span><br><span class="line">        link:</span><br><span class="line">        text: 支付宝</span><br></pre></td></tr></table></figure><h2 id="4-4-基本操作">4.4 基本操作</h2><h3 id="4-4-1-页面建立">4.4.1 页面建立</h3><p>要在Hexo创建页面，需要输入以下命令：</p><p><code>hexo new page &quot;机器人技术&quot;</code></p><h3 id="4-4-2-文章建立">4.4.2 文章建立</h3><h4 id="4-4-2-1-Markdown">4.4.2.1 Markdown</h4><p><strong>（1） 编辑器下载</strong></p><p>找了一个免费且好用的Markdown编辑器，叫做marktext，下载网址为：<a href="https://github.com/marktext/marktext?tab=readme-ov-file#download-and-installation">GitHub - marktext/marktext: 📝A simple and elegant markdown editor, available for Linux, macOS and Windows.</a></p><p><strong>（2）Markdown基本语法</strong></p><p>标题：<code># Heading One</code> <code>## Heading two</code></p><p>加粗：<code>**this text is bold**</code></p><p>段落：空白行（不能使用空格或制表符缩进段落）</p><p>换行：一行末尾添加两个及以上的空格，回车即可换行</p><p>斜体：<code>*this is Italic*</code></p><p>粗体+斜体：前后各三个星号</p><p>创建块引用：<code>&gt; 块引用</code></p><p>嵌套块引用：<code>&gt;&gt;</code></p><p>带有其他元素的块引用： <code>&gt; -</code></p><p>列表：1.</p><p>无序列表： -、<em>、+</em></p><p>代码块：四个空格或者一个制表符</p><p>代码： `两个反引号``</p><p>分割线：单独一行使用三个或多个星号、破折号或者下划线</p><p>链接语法： [超链接显示名]（超链接地址”title“）</p><p>网址和Email地址： &lt;&gt;</p><p>图片语法：使用！</p><figure class="highlight scheme"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="name">!</span>[<span class="name">沙漠中的岩石图片</span>](<span class="name">/assets/img/shiprock.jpg</span> <span class="string">&quot;Shiprock&quot;</span>)](<span class="name">https://markdown.com.cn</span>)</span><br></pre></td></tr></table></figure><p>查找帮助：@</p><p><strong>（3）Markdown扩展语法</strong></p><p>表格：</p><figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">|<span class="string"> Syntax      </span>|<span class="string"> Description </span>|</span><br><span class="line">|<span class="string"> ----------- </span>|<span class="string"> ----------- </span>|</span><br><span class="line">|<span class="string"> Header      </span>|<span class="string"> Title       </span>|</span><br><span class="line">|<span class="string"> Paragraph   </span>|<span class="string"> Text        </span>|</span><br></pre></td></tr></table></figure><p>对齐：在左侧、右侧或者两侧加冒号</p><p>围栏代码块：三个反引号</p><p>语法高亮：```matlab</p><p>脚注：[^1],然后在其他任何位置添加：[^1]: My footnote.</p><p>使用表情： <a href="https://emojipedia.org/">https://emojipedia.org/</a></p><h3 id="4-4-3-创建文章">4.4.3 创建文章</h3><p>在博客根目录下打开git bash，输入指令</p><pre><code>hexo new ”文章标题“ -p 路径/文件名</code></pre><p>然后找到新建好的.md文件，右键选择marktext打开，进行编辑即可。</p><p>将编辑好的文章通过三连发布到博客上。</p><h1>5 魔改日志</h1><h2 id="5-1-魔改素材">5.1 魔改素材</h2><h3 id="5-1-1-魔改教程搜集">5.1.1 魔改教程搜集</h3><p>几个很不错的博客案例：</p><p><a href="https://www.fomal.cc/">https://www.fomal.cc/</a></p><p><a href="https://fe32.top/">https://fe32.top/</a></p><h3 id="5-1-2-魔改所需素材">5.1.2 魔改所需素材</h3><p>图标素材网址：<a href="https://fontawesome.com/icons?from=io">Find Icons with the Perfect Look &amp; Feel | Font Awesome</a></p><p>图标素材网址：<a href="https://fontawesome.com.cn/faicons/#web-application">图标库 - FontAwesome 字体图标中文Icon</a></p><p>图片素材网址：<a href="https://pixabay.com/gifs/">6,000+ Free GIFs &amp; Stickers for Download - Pixabay</a></p><p>GIF素材网址：<a href="https://giphy.com/artists">Discover Freelance GIF Artists | GIPHY</a></p><p>副标题更改： <a href="https://akilar.top/posts/23fdf850/">糖果屋微调合集 | Akilarの糖果屋</a></p><h2 id="5-2-魔改内容">5.2 魔改内容</h2><p>参考来源：<a href="https://github.com/fomalhaut1998/hexo-theme-Fomalhaut">Fomalhaut-开源地址</a></p><h3 id="5-2-1-和风天气挂件">5.2.1 和风天气挂件</h3><p>登录和风天气官网： <a href="https://widget.qweather.com/">https://widget.qweather.com/</a></p><p><img src="C:%5CUsers%5Csunni%5CAppData%5CRoaming%5Cmarktext%5Cimages%5C2024-02-09-23-44-47-image.png" alt=""></p><p>输入插件名称：Web_Weather，点击生成代码</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;he-plugin-simple&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="variable constant_">WIDGET</span> = &#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="string">&quot;CONFIG&quot;</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="string">&quot;modules&quot;</span>: <span class="string">&quot;12034&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="string">&quot;background&quot;</span>: <span class="string">&quot;1&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="string">&quot;tmpColor&quot;</span>: <span class="string">&quot;FFFFFF&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="string">&quot;tmpSize&quot;</span>: <span class="string">&quot;16&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="string">&quot;cityColor&quot;</span>: <span class="string">&quot;FFFFFF&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="string">&quot;citySize&quot;</span>: <span class="string">&quot;16&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="string">&quot;aqiColor&quot;</span>: <span class="string">&quot;FFFFFF&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="string">&quot;aqiSize&quot;</span>: <span class="string">&quot;16&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="string">&quot;weatherIconSize&quot;</span>: <span class="string">&quot;24&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="string">&quot;alertIconSize&quot;</span>: <span class="string">&quot;18&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="string">&quot;padding&quot;</span>: <span class="string">&quot;10px 10px 10px 10px&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="string">&quot;shadow&quot;</span>: <span class="string">&quot;1&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="string">&quot;language&quot;</span>: <span class="string">&quot;auto&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="string">&quot;borderRadius&quot;</span>: <span class="string">&quot;5&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="string">&quot;fixed&quot;</span>: <span class="string">&quot;false&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="string">&quot;vertical&quot;</span>: <span class="string">&quot;top&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="string">&quot;horizontal&quot;</span>: <span class="string">&quot;left&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="string">&quot;key&quot;</span>: <span class="string">&quot;ffb8e9a7c4ee4f84a9741e81eac5575a&quot;</span></span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://widget.qweather.net/simple/static/js/he-simple-common.js?v=2.0&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>在主题文件中的source\js的目录下创建一个weather.js文件，将上述代码填入。</p><p>在主题配置文件<code>_config.butterfly.yml</code>的inject的bottom中引入js文件：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">- &lt;script src=<span class="string">&quot;https://widget.qweather.net/simple/static/js/he-simple-common.js?v=2.0&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line">- &lt;script src=<span class="string">&quot;/js/weather.js&quot;</span>&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>在nav.pug文件中添加代码</p><p><img src="C:%5CUsers%5Csunni%5CAppData%5CRoaming%5Cmarktext%5Cimages%5C2024-02-10-00-08-10-image.png" alt=""></p><p>最后，为了将组件挂在左侧一些，可以在head.styl中增加以下内容：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#none_space</span></span><br><span class="line">  flex:1 </span><br></pre></td></tr></table></figure><p><img src="C:%5CUsers%5Csunni%5CAppData%5CRoaming%5Cmarktext%5Cimages%5C2024-02-10-00-37-37-image.png" alt=""></p><h3 id="5-2-2-增加看板娘">5.2.2 增加看板娘</h3><p>在Hexo的根目录中打开Git bash，安装插件</p><p><code>npm install --save hexo-helper-live2d</code></p><p>下载模型</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save live2d-widget-model-koharu</span><br></pre></td></tr></table></figure><p>打开站点配置文件，复制以下内容</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Live2D</span></span><br><span class="line"><span class="comment">## https://github.com/EYHN/hexo-helper-live2d</span></span><br><span class="line"><span class="attr">live2d:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span> <span class="comment">#开关插件版看板娘</span></span><br><span class="line">  <span class="attr">scriptFrom:</span> <span class="string">local</span> <span class="comment"># 默认</span></span><br><span class="line">  <span class="attr">pluginRootPath:</span> <span class="string">live2dw/</span> <span class="comment"># 插件在站点上的根目录(相对路径)</span></span><br><span class="line">  <span class="attr">pluginJsPath:</span> <span class="string">lib/</span> <span class="comment"># 脚本文件相对与插件根目录路径</span></span><br><span class="line">  <span class="attr">pluginModelPath:</span> <span class="string">assets/</span> <span class="comment"># 模型文件相对与插件根目录路径</span></span><br><span class="line">  <span class="comment"># scriptFrom: jsdelivr # jsdelivr CDN</span></span><br><span class="line">  <span class="comment"># scriptFrom: unpkg # unpkg CDN</span></span><br><span class="line">  <span class="comment"># scriptFrom: https://npm.elemecdn.com/live2d-widget@3.x/lib/L2Dwidget.min.js # 你的自定义 url</span></span><br><span class="line">  <span class="attr">tagMode:</span> <span class="literal">false</span> <span class="comment"># 标签模式, 是否仅替换 live2d tag标签而非插入到所有页面中</span></span><br><span class="line">  <span class="attr">debug:</span> <span class="literal">false</span> <span class="comment"># 调试, 是否在控制台输出日志</span></span><br><span class="line">  <span class="attr">model:</span></span><br><span class="line">    <span class="attr">use:</span> <span class="string">live2d-widget-model-wanko</span> <span class="comment"># npm-module package name</span></span><br><span class="line">    <span class="comment"># use: wanko # 博客根目录/live2d_models/ 下的目录名</span></span><br><span class="line">    <span class="comment"># use: ./wives/wanko # 相对于博客根目录的路径</span></span><br><span class="line">    <span class="comment"># use: https://npm.elemecdn.com/live2d-widget-model-wanko@1.0.5/assets/wanko.model.json # 你的自定义 url</span></span><br><span class="line">  <span class="attr">display:</span></span><br><span class="line">    <span class="attr">position:</span> <span class="string">right</span> <span class="comment">#控制看板娘位置</span></span><br><span class="line">    <span class="attr">width:</span> <span class="number">150</span> <span class="comment">#控制看板娘大小</span></span><br><span class="line">    <span class="attr">height:</span> <span class="number">300</span> <span class="comment">#控制看板娘大小</span></span><br><span class="line">  <span class="attr">mobile:</span></span><br><span class="line">    <span class="attr">show:</span> <span class="literal">true</span> <span class="comment"># 手机中是否展示</span></span><br></pre></td></tr></table></figure><h3 id="5-2-3-网站恶搞标题">5.2.3  网站恶搞标题</h3><p>新建文件title.js</p><p><img src="C:%5CUsers%5Csunni%5CAppData%5CRoaming%5Cmarktext%5Cimages%5C2024-02-10-01-26-12-image.png" alt=""></p><p>在主题配置文件中引入该文件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">inject: </span><br><span class="line">  bottom: </span><br><span class="line">+    - &lt;script async src=<span class="string">&quot;/js/title.js&quot;</span>&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure><h3 id="5-2-4-昼夜切换特效">5.2.4  昼夜切换特效</h3><p>（1）在themes\butterfly\layout\includes\custom\文件夹中新建sun_moon.pug，填入代码：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">svg(aria-hidden=<span class="string">&#x27;true&#x27;</span>, style=<span class="string">&#x27;position:absolute; overflow:hidden; width:0; height:0&#x27;</span>)</span><br><span class="line">  symbol#icon-sun(viewBox=<span class="string">&#x27;0 0 1024 1024&#x27;</span>)</span><br><span class="line">    path(d=<span class="string">&#x27;M960 512l-128 128v192h-192l-128 128-128-128H192v-192l-128-128 128-128V192h192l128-128 128 128h192v192z&#x27;</span>, fill=<span class="string">&#x27;#FFD878&#x27;</span>, p-id=<span class="string">&#x27;8420&#x27;</span>)</span><br><span class="line">    path(d=<span class="string">&#x27;M736 512a224 224 0 1 0-448 0 224 224 0 1 0 448 0z&#x27;</span>, fill=<span class="string">&#x27;#FFE4A9&#x27;</span>, p-id=<span class="string">&#x27;8421&#x27;</span>)</span><br><span class="line">    path(d=<span class="string">&#x27;M512 109.248L626.752 224H800v173.248L914.752 512 800 626.752V800h-173.248L512 914.752 397.248 800H224v-173.248L109.248 512 224 397.248V224h173.248L512 109.248M512 64l-128 128H192v192l-128 128 128 128v192h192l128 128 128-128h192v-192l128-128-128-128V192h-192l-128-128z&#x27;</span>, fill=<span class="string">&#x27;#4D5152&#x27;</span>, p-id=<span class="string">&#x27;8422&#x27;</span>)</span><br><span class="line">    path(d=<span class="string">&#x27;M512 320c105.888 0 192 86.112 192 192s-86.112 192-192 192-192-86.112-192-192 86.112-192 192-192m0-32a224 224 0 1 0 0 448 224 224 0 0 0 0-448z&#x27;</span>, fill=<span class="string">&#x27;#4D5152&#x27;</span>, p-id=<span class="string">&#x27;8423&#x27;</span>)</span><br><span class="line">  symbol#icon-moon(viewBox=<span class="string">&#x27;0 0 1024 1024&#x27;</span>)</span><br><span class="line">    path(d=<span class="string">&#x27;M611.370667 167.082667a445.013333 445.013333 0 0 1-38.4 161.834666 477.824 477.824 0 0 1-244.736 244.394667 445.141333 445.141333 0 0 1-161.109334 38.058667 85.077333 85.077333 0 0 0-65.066666 135.722666A462.08 462.08 0 1 0 747.093333 102.058667a85.077333 85.077333 0 0 0-135.722666 65.024z&#x27;</span>, fill=<span class="string">&#x27;#FFB531&#x27;</span>, p-id=<span class="string">&#x27;11345&#x27;</span>)</span><br><span class="line">    path(d=<span class="string">&#x27;M329.728 274.133333l35.157333-35.157333a21.333333 21.333333 0 1 0-30.165333-30.165333l-35.157333 35.157333-35.114667-35.157333a21.333333 21.333333 0 0 0-30.165333 30.165333l35.114666 35.157333-35.114666 35.157334a21.333333 21.333333 0 1 0 30.165333 30.165333l35.114667-35.157333 35.157333 35.157333a21.333333 21.333333 0 1 0 30.165333-30.165333z&#x27;</span>, fill=<span class="string">&#x27;#030835&#x27;</span>, p-id=<span class="string">&#x27;11346&#x27;</span>)</span><br></pre></td></tr></table></figure><p>新建themes\butterfly\source\css\_layout\sun_moon.styl</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><span class="line">.Cuteen_DarkSky,</span><br><span class="line">.Cuteen_DarkSky:before</span><br><span class="line">  content <span class="string">&#x27;&#x27;</span></span><br><span class="line">  position fixed</span><br><span class="line">  left 0</span><br><span class="line">  right 0</span><br><span class="line">  top 0</span><br><span class="line">  bottom 0</span><br><span class="line">  z-index 88888888</span><br><span class="line"></span><br><span class="line">.Cuteen_DarkSky</span><br><span class="line">  background linear-gradient(to top, <span class="comment">#f8cd71 0, #5bfde9 80%)</span></span><br><span class="line">  &amp;:before</span><br><span class="line">    transition 2s ease all</span><br><span class="line">    opacity 0</span><br><span class="line">    background linear-gradient(to top, <span class="comment">#30cfd0 0, #330867 100%)</span></span><br><span class="line"></span><br><span class="line">.DarkMode</span><br><span class="line">  .Cuteen_DarkSky</span><br><span class="line">    &amp;:before</span><br><span class="line">      opacity 1</span><br><span class="line"></span><br><span class="line">.Cuteen_DarkPlanet</span><br><span class="line">  z-index 99999999</span><br><span class="line">  position fixed</span><br><span class="line">  left -50%</span><br><span class="line">  top -50%</span><br><span class="line">  width 200%</span><br><span class="line">  height 200%</span><br><span class="line">  -webkit-animation CuteenPlanetMove 2s cubic-bezier(0.7, 0, 0, 1)</span><br><span class="line">  animation CuteenPlanetMove 2s cubic-bezier(0.7, 0, 0, 1)</span><br><span class="line">  transform-origin center bottom</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">@-webkit-keyframes CuteenPlanetMove &#123;</span><br><span class="line">  0% &#123;</span><br><span class="line">    transform: rotate(0);</span><br><span class="line">  &#125;</span><br><span class="line">  to &#123;</span><br><span class="line">    transform: rotate(360deg);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">@keyframes CuteenPlanetMove &#123;</span><br><span class="line">  0% &#123;</span><br><span class="line">    transform: rotate(0);</span><br><span class="line">  &#125;</span><br><span class="line">  to &#123;</span><br><span class="line">    transform: rotate(360deg);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">.Cuteen_DarkPlanet</span><br><span class="line">  <span class="comment">#sun</span></span><br><span class="line">    position absolute</span><br><span class="line">    border-radius 100%</span><br><span class="line">    left 44%</span><br><span class="line">    top 30%</span><br><span class="line">    height 6rem</span><br><span class="line">    width 6rem</span><br><span class="line">    background <span class="comment">#ffee94</span></span><br><span class="line">    box-shadow 0 0 40px <span class="comment">#ffee94</span></span><br><span class="line">    // opacity 0</span><br><span class="line"></span><br><span class="line">  <span class="comment">#moon</span></span><br><span class="line">    position absolute</span><br><span class="line">    border-radius 100%</span><br><span class="line">    left 44%</span><br><span class="line">    top 30%</span><br><span class="line">    position absolute</span><br><span class="line">    border-radius 100%</span><br><span class="line">    height 6rem</span><br><span class="line">    width 6rem</span><br><span class="line">    box-shadow -1.8em 1.8em 0 0.2em <span class="comment">#fff</span></span><br><span class="line">    // opacity 1</span><br><span class="line"></span><br><span class="line">  // &amp;:after</span><br><span class="line">  //   position absolute</span><br><span class="line">  //   left 42%</span><br><span class="line">  //   top 30%</span><br><span class="line">  //   width 6rem</span><br><span class="line">  //   height 6rem</span><br><span class="line">  //   border-radius 50%</span><br><span class="line">  //   content <span class="string">&#x27;&#x27;</span></span><br><span class="line">  //   background <span class="comment">#ffef9e</span></span><br><span class="line">  //   box-shadow 0 0 30px <span class="comment">#ffef9e</span></span><br><span class="line"></span><br><span class="line">.search</span><br><span class="line">  span</span><br><span class="line">    display none</span><br><span class="line"></span><br><span class="line">.menus_item</span><br><span class="line">  a</span><br><span class="line">    text-decoration none!important</span><br><span class="line">//按钮相关，对侧栏按钮做过魔改的可以调整这里的数值</span><br><span class="line">// .icon-V</span><br><span class="line">//   padding 5px</span><br></pre></td></tr></table></figure><p>新建themes\butterfly\source\js\sun_moon.js</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">switchNightMode</span></span>() &#123;</span><br><span class="line">    document.querySelector(<span class="string">&#x27;body&#x27;</span>).insertAdjacentHTML(<span class="string">&#x27;beforeend&#x27;</span>, <span class="string">&#x27;&lt;div class=&quot;Cuteen_DarkSky&quot;&gt;&lt;div class=&quot;Cuteen_DarkPlanet&quot;&gt;&lt;div id=&quot;sun&quot;&gt;&lt;/div&gt;&lt;div id=&quot;moon&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&#x27;</span>),</span><br><span class="line">        setTimeout(<span class="function"><span class="title">function</span></span> () &#123;</span><br><span class="line">            document.querySelector(<span class="string">&#x27;body&#x27;</span>).classList.contains(<span class="string">&#x27;DarkMode&#x27;</span>) ? (document.querySelector(<span class="string">&#x27;body&#x27;</span>).classList.remove(<span class="string">&#x27;DarkMode&#x27;</span>), localStorage.setItem(<span class="string">&#x27;isDark&#x27;</span>, <span class="string">&#x27;0&#x27;</span>), document.getElementById(<span class="string">&#x27;modeicon&#x27;</span>).setAttribute(<span class="string">&#x27;xlink:href&#x27;</span>, <span class="string">&#x27;#icon-moon&#x27;</span>)) : (document.querySelector(<span class="string">&#x27;body&#x27;</span>).classList.add(<span class="string">&#x27;DarkMode&#x27;</span>), localStorage.setItem(<span class="string">&#x27;isDark&#x27;</span>, <span class="string">&#x27;1&#x27;</span>), document.getElementById(<span class="string">&#x27;modeicon&#x27;</span>).setAttribute(<span class="string">&#x27;xlink:href&#x27;</span>, <span class="string">&#x27;#icon-sun&#x27;</span>)),</span><br><span class="line">                setTimeout(<span class="function"><span class="title">function</span></span> () &#123;</span><br><span class="line">                    document.getElementsByClassName(<span class="string">&#x27;Cuteen_DarkSky&#x27;</span>)[0].style.transition = <span class="string">&#x27;opacity 3s&#x27;</span>;</span><br><span class="line">                    document.getElementsByClassName(<span class="string">&#x27;Cuteen_DarkSky&#x27;</span>)[0].style.opacity = <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">                    setTimeout(<span class="function"><span class="title">function</span></span> () &#123;</span><br><span class="line">                        document.getElementsByClassName(<span class="string">&#x27;Cuteen_DarkSky&#x27;</span>)[0].remove();</span><br><span class="line">                    &#125;, 1e3);</span><br><span class="line">                &#125;, 2e3)</span><br><span class="line">        &#125;)</span><br><span class="line">    const nowMode = document.documentElement.getAttribute(<span class="string">&#x27;data-theme&#x27;</span>) === <span class="string">&#x27;dark&#x27;</span> ? <span class="string">&#x27;dark&#x27;</span> : <span class="string">&#x27;light&#x27;</span></span><br><span class="line">    <span class="keyword">if</span> (nowMode === <span class="string">&#x27;light&#x27;</span>) &#123;</span><br><span class="line">        // 先设置太阳月亮透明度</span><br><span class="line">        document.getElementById(<span class="string">&quot;sun&quot;</span>).style.opacity = <span class="string">&quot;1&quot;</span>;</span><br><span class="line">        document.getElementById(<span class="string">&quot;moon&quot;</span>).style.opacity = <span class="string">&quot;0&quot;</span>;</span><br><span class="line">        setTimeout(<span class="function"><span class="title">function</span></span> () &#123;</span><br><span class="line">            document.getElementById(<span class="string">&quot;sun&quot;</span>).style.opacity = <span class="string">&quot;0&quot;</span>;</span><br><span class="line">            document.getElementById(<span class="string">&quot;moon&quot;</span>).style.opacity = <span class="string">&quot;1&quot;</span>;</span><br><span class="line">        &#125;, 1000);</span><br><span class="line"></span><br><span class="line">        activateDarkMode()</span><br><span class="line">        saveToLocal.<span class="built_in">set</span>(<span class="string">&#x27;theme&#x27;</span>, <span class="string">&#x27;dark&#x27;</span>, 2)</span><br><span class="line">        // GLOBAL_CONFIG.Snackbar !== undefined &amp;&amp; btf.snackbarShow(GLOBAL_CONFIG.Snackbar.day_to_night)</span><br><span class="line">        document.getElementById(<span class="string">&#x27;modeicon&#x27;</span>).setAttribute(<span class="string">&#x27;xlink:href&#x27;</span>, <span class="string">&#x27;#icon-sun&#x27;</span>)</span><br><span class="line">        // 延时弹窗提醒</span><br><span class="line">        setTimeout(() =&gt; &#123;</span><br><span class="line">            new Vue(&#123;</span><br><span class="line">                data: function () &#123;</span><br><span class="line">                    this.<span class="variable">$notify</span>(&#123;</span><br><span class="line">                        title: &quot;关灯啦🌙&quot;,</span><br><span class="line">                        message: &quot;当前已成功切换至夜间模式！&quot;,</span><br><span class="line">                        position: &#x27;top-left&#x27;,</span><br><span class="line">                        offset: <span class="number">50</span>,</span><br><span class="line">                        showClose: true,</span><br><span class="line">                        type: &quot;success&quot;,</span><br><span class="line">                        duration: <span class="number">5000</span></span><br><span class="line">                    &#125;);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;, <span class="number">2000</span>)</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        // 先设置太阳月亮透明度</span><br><span class="line">        document.getElementById(&quot;sun&quot;).style.opacity = &quot;<span class="number">0</span>&quot;;</span><br><span class="line">        document.getElementById(&quot;moon&quot;).style.opacity = &quot;<span class="number">1</span>&quot;;</span><br><span class="line">        setTimeout(function () &#123;</span><br><span class="line">            document.getElementById(&quot;sun&quot;).style.opacity = &quot;<span class="number">1</span>&quot;;</span><br><span class="line">            document.getElementById(&quot;moon&quot;).style.opacity = &quot;<span class="number">0</span>&quot;;</span><br><span class="line">        &#125;, <span class="number">1000</span>);</span><br><span class="line"></span><br><span class="line">        activateLightMode()</span><br><span class="line">        saveToLocal.set(&#x27;theme&#x27;, &#x27;light&#x27;, <span class="number">2</span>)</span><br><span class="line">        document.querySelector(&#x27;body&#x27;).classList.add(&#x27;DarkMode&#x27;), document.getElementById(&#x27;modeicon&#x27;).setAttribute(&#x27;xlink:href&#x27;, &#x27;#icon-moon&#x27;)</span><br><span class="line">        setTimeout(() =&gt; &#123;</span><br><span class="line">            new Vue(&#123;</span><br><span class="line">                data: function () &#123;</span><br><span class="line">                    this.<span class="variable">$notify</span>(&#123;</span><br><span class="line">                        title: &quot;开灯啦🌞&quot;,</span><br><span class="line">                        message: &quot;当前已成功切换至白天模式！&quot;,</span><br><span class="line">                        position: &#x27;top-left&#x27;,</span><br><span class="line">                        offset: <span class="number">50</span>,</span><br><span class="line">                        showClose: true,</span><br><span class="line">                        type: &quot;success&quot;,</span><br><span class="line">                        duration: <span class="number">5000</span></span><br><span class="line">                    &#125;);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;, <span class="number">2000</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    // handle some cases</span><br><span class="line">    typeof utterancesTheme === &#x27;function&#x27; &amp;&amp; utterancesTheme()</span><br><span class="line">    typeof FB === &#x27;object&#x27; &amp;&amp; window.loadFBComment()</span><br><span class="line">    window.DISQUS &amp;&amp; document.getElementById(&#x27;disqus_thread&#x27;).children.length &amp;&amp; setTimeout(() =&gt; window.disqusReset(), <span class="number">200</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>修改themes\butterfly\layout\includes\head.pug，在文末增加一行</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">include ./custom/sun_moon.pug</span><br></pre></td></tr></table></figure><p>修改themes\butterfly\layout\includes\rightside.pug中替换：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">  when <span class="string">&#x27;translate&#x27;</span></span><br><span class="line">    <span class="keyword">if</span> translate.enable</span><br><span class="line">      button#translateLink(<span class="built_in">type</span>=<span class="string">&quot;button&quot;</span> title=_p(<span class="string">&#x27;rightside.translate_title&#x27;</span>))= translate.default</span><br><span class="line">  when <span class="string">&#x27;darkmode&#x27;</span></span><br><span class="line">    <span class="keyword">if</span> darkmode.enable &amp;&amp; darkmode.button</span><br><span class="line">-     button#darkmode(<span class="built_in">type</span>=<span class="string">&quot;button&quot;</span> title=_p(<span class="string">&#x27;rightside.night_mode_title&#x27;</span>))</span><br><span class="line">-       i.fas.fa-adjust</span><br><span class="line">+     a.icon-V.hidden(onclick=<span class="string">&#x27;switchNightMode()&#x27;</span>,  title=_p(<span class="string">&#x27;rightside.night_mode_title&#x27;</span>))</span><br><span class="line">+       svg(width=<span class="string">&#x27;25&#x27;</span>, height=<span class="string">&#x27;25&#x27;</span>, viewBox=<span class="string">&#x27;0 0 1024 1024&#x27;</span>)</span><br><span class="line">+         use#modeicon(xlink:href=<span class="string">&#x27;#icon-moon&#x27;</span>)</span><br></pre></td></tr></table></figure><p>修改主题配置文件：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">inject:</span><br><span class="line">  bottom:</span><br><span class="line">+    - &lt;script src=<span class="string">&quot;/js/sun_moon.js&quot;</span> async&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure><h3 id="5-2-5-Violet留言板">5.2.5 Violet留言板</h3><p>在根目录下运行</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-butterfly-envelope --save</span><br></pre></td></tr></table></figure><p>在网站配置文件<code>_config.yml</code>添加以下配置项</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># envelope_comment</span></span><br><span class="line"><span class="comment"># see https://akilar.top/posts/e2d3c450/</span></span><br><span class="line"><span class="attr">envelope_comment:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span> <span class="comment">#控制开关</span></span><br><span class="line">  <span class="attr">custom_pic:</span>      </span><br><span class="line">    <span class="attr">cover:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-envelope/lib/violet.jpg</span> <span class="comment">#信笺头部图片</span></span><br><span class="line">    <span class="attr">line:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-envelope/lib/line.png</span> <span class="comment">#信笺底部图片</span></span><br><span class="line">    <span class="attr">beforeimg:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-envelope/lib/before.png</span> <span class="comment"># 信封前半部分</span></span><br><span class="line">    <span class="attr">afterimg:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-envelope/lib/after.png</span> <span class="comment"># 信封后半部分</span></span><br><span class="line">  <span class="attr">message:</span> <span class="comment">#信笺正文，多行文本，写法如下</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">有什么想问的？</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">有什么想说的？</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">有什么想吐槽的？</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">哪怕是有什么想吃的，都可以告诉我哦~</span></span><br><span class="line">  <span class="attr">bottom:</span> <span class="string">自动书记人偶竭诚为您服务！</span> <span class="comment">#仅支持单行文本</span></span><br><span class="line">  <span class="attr">height:</span> <span class="comment">#1050px，信封划出的高度</span></span><br><span class="line">  <span class="attr">path:</span> <span class="comment">#【可选】comments 的路径名称。默认为 comments，生成的页面为 comments/index.html</span></span><br><span class="line">  <span class="attr">front_matter:</span> <span class="comment">#【可选】comments页面的 front_matter 配置</span></span><br><span class="line">    <span class="attr">title:</span> <span class="string">留言板</span></span><br><span class="line">    <span class="attr">comments:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p>新建comments页面</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new page <span class="string">&quot;comments&quot;</span></span><br></pre></td></tr></table></figure><p>在source的comments文件夹下的index.md中编辑</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="built_in">link</span> rel=<span class="string">&quot;stylesheet&quot;</span> href=<span class="string">&quot;/css/commentsbar.css&quot;</span>/&gt;  </span><br><span class="line">  &lt;div <span class="built_in">id</span>=<span class="string">&quot;computer&quot;</span>&gt;  </span><br><span class="line">    &lt;div <span class="built_in">id</span>=<span class="string">&quot;maincontent&quot;</span>&gt;&lt;br&gt;  </span><br><span class="line">      &lt;div <span class="built_in">id</span>=<span class="string">&quot;form-wrap&quot;</span>&gt;&lt;img src=<span class="string">&quot;https://cdn.jsdelivr.net/gh/Akilarlxh/Valine-Admin@v1.0/source/img/before.png&quot;</span> <span class="built_in">id</span>=<span class="string">&quot;beforeimg&quot;</span>&gt;  </span><br><span class="line">        &lt;div <span class="built_in">id</span>=<span class="string">&quot;envelope&quot;</span>&gt;  </span><br><span class="line">          &lt;form&gt;  </span><br><span class="line">            &lt;div class=<span class="string">&quot;formmain&quot;</span>&gt;  </span><br><span class="line">              &lt;img class=<span class="string">&quot;headerimg&quot;</span> src=<span class="string">&quot;https://ae01.alicdn.com/kf/U5bb04af32be544c4b41206d9a42fcacfd.jpg&quot;</span>/&gt;  </span><br><span class="line">              &lt;div style=<span class="string">&quot;padding: 5px 20px;&quot;</span>&gt;  </span><br><span class="line">                &lt;center&gt;  </span><br><span class="line">                  &lt;h3 calss=<span class="string">&quot;title3&quot;</span>&gt;来自Akilar的留言:&lt;/h3&gt;  </span><br><span class="line">                &lt;/center&gt;  </span><br><span class="line">                &lt;center class=<span class="string">&quot;comments&quot;</span>&gt;  </span><br><span class="line">                  有什么想问的？&lt;br&gt;  </span><br><span class="line">                  有什么想说的？&lt;br&gt;  </span><br><span class="line">                  有什么想吐槽的？&lt;br&gt;  </span><br><span class="line">                  哪怕是有什么想吃的，都可以告诉我哦~&lt;br&gt;  </span><br><span class="line">                &lt;/center&gt;  </span><br><span class="line">                &lt;div class=<span class="string">&quot;bottomcontent&quot;</span>&gt;  </span><br><span class="line">                &lt;img class=<span class="string">&quot;bottomimg&quot;</span> src=<span class="string">&quot;https://ae01.alicdn.com/kf/U0968ee80fd5c4f05a02bdda9709b041eE.png&quot;</span>/&gt;  </span><br><span class="line">                &lt;/div&gt;  </span><br><span class="line">                &lt;p class=<span class="string">&quot;bottomhr&quot;</span>&gt;自动书记人偶竭诚为您服务！&lt;/p&gt;  </span><br><span class="line">              &lt;/div&gt;  </span><br><span class="line">            &lt;/div&gt;  </span><br><span class="line">          &lt;/form&gt;  </span><br><span class="line">        &lt;/div&gt;&lt;img <span class="built_in">id</span>=<span class="string">&quot;afterimg&quot;</span> src=<span class="string">&quot;https://cdn.jsdelivr.net/gh/Akilarlxh/Valine-Admin@v1.0/source/img/after.png&quot;</span>&gt;  </span><br><span class="line">      &lt;/div&gt;  </span><br><span class="line">    &lt;/div&gt;  </span><br><span class="line">  &lt;/div&gt;  </span><br><span class="line">  &lt;div <span class="built_in">id</span>=<span class="string">&quot;mobile&quot;</span>&gt;  </span><br><span class="line">    &lt;form&gt;  </span><br><span class="line">      &lt;div class=<span class="string">&quot;formmain&quot;</span>&gt;&lt;img class=<span class="string">&quot;headerimg&quot;</span> src=<span class="string">&quot;https://ae01.alicdn.com/kf/U5bb04af32be544c4b41206d9a42fcacfd.jpg&quot;</span> /&gt;  </span><br><span class="line">        &lt;div style=<span class="string">&quot;padding: 5px 20px;&quot;</span>&gt;  </span><br><span class="line">          &lt;center&gt;  </span><br><span class="line">            &lt;h3 class=<span class="string">&quot;title3&quot;</span>&gt;来自Akilar的留言:&lt;/h3&gt;  </span><br><span class="line">          &lt;/center&gt;  </span><br><span class="line">          &lt;center class=<span class="string">&quot;comments&quot;</span>&gt;  </span><br><span class="line">            有什么想问的？&lt;br&gt;  </span><br><span class="line">            有什么想说的？&lt;br&gt;  </span><br><span class="line">            有什么想吐槽的？&lt;br&gt;  </span><br><span class="line">            哪怕是有什么想吃的，都可以告诉我哦~&lt;br&gt;  </span><br><span class="line">          &lt;/center&gt;  </span><br><span class="line">          &lt;div class=<span class="string">&quot;bottomcontent&quot;</span>&gt;&lt;img src=<span class="string">&quot;https://ae01.alicdn.com/kf/U0968ee80fd5c4f05a02bdda9709b041eE.png&quot;</span> class=<span class="string">&quot;bottomhr&quot;</span>&gt;&lt;/div&gt;  </span><br><span class="line">          &lt;p class=<span class="string">&quot;bottomhr&quot;</span><span class="string">&quot;&gt;自动书记人偶竭诚为您服务！&lt;/p&gt;  </span></span><br><span class="line"><span class="string">        &lt;/div&gt;  </span></span><br><span class="line"><span class="string">      &lt;/div&gt;  </span></span><br><span class="line"><span class="string">    &lt;/form&gt;  </span></span><br><span class="line"><span class="string">  &lt;/div&gt;</span></span><br></pre></td></tr></table></figure><p>在前面加上type，并将语言包添加此项。</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">title</span>: 欢迎留言</span><br><span class="line"><span class="attribute">date</span>: <span class="number">2024</span>-<span class="number">02</span>-<span class="number">10</span> <span class="number">11</span>:<span class="number">11</span>:<span class="number">24</span></span><br><span class="line"><span class="attribute">type</span>: <span class="string">&quot;comments&quot;</span></span><br></pre></td></tr></table></figure><h3 id="5-2-6-一图流教程">5.2.6 一图流教程</h3><p>在source下新建一个css文件夹，存放自定义的css样式，新建一个custom.css，在里面写入代码：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">/* 页脚与头图透明 */</span><br><span class="line"><span class="comment">#footer &#123;</span></span><br><span class="line">  background: transparent !important;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">#page-header &#123;</span></span><br><span class="line">  background: transparent !important;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* 白天模式遮罩透明 */</span><br><span class="line"><span class="comment">#footer::before &#123;</span></span><br><span class="line">  background: transparent !important;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">#page-header::before &#123;</span></span><br><span class="line">  background: transparent !important;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* 夜间模式遮罩透明 */</span><br><span class="line">[data-theme=<span class="string">&quot;dark&quot;</span>] <span class="comment">#footer::before &#123;</span></span><br><span class="line">  background: transparent !important;</span><br><span class="line">&#125;</span><br><span class="line">[data-theme=<span class="string">&quot;dark&quot;</span>] <span class="comment">#page-header::before &#123;</span></span><br><span class="line">  background: transparent !important;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>在主题配置文件的inject中添加：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">inject:</span><br><span class="line">  <span class="built_in">head</span>:</span><br><span class="line">    - &lt;<span class="built_in">link</span> rel=<span class="string">&quot;stylesheet&quot;</span> href=<span class="string">&quot;/css/custom.css&quot;</span> media=<span class="string">&quot;defer&quot;</span> onload=<span class="string">&quot;this.media=&#x27;all&#x27;&quot;</span>&gt;</span><br></pre></td></tr></table></figure><p>将主题配置文件中的index_img和footer_bg配置项取消头顶与页脚图，在background的配置项中设置背景图</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">background: url(/img/background.jpg)</span><br></pre></td></tr></table></figure><h3 id="5-2-7-分类磁贴">5.2.7  分类磁贴</h3><p>安装插件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-butterfly-categories-card --save</span><br></pre></td></tr></table></figure><p>在theme文件夹中添加配置信息</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># hexo-butterfly-categories-card</span></span><br><span class="line"><span class="comment"># see https://akilar.top/posts/a9131002/</span></span><br><span class="line">categoryBar:</span><br><span class="line">  <span class="built_in">enable</span>: <span class="literal">true</span> <span class="comment"># 开关</span></span><br><span class="line">  priority: 5 <span class="comment">#过滤器优先权，数值越小执行越早</span></span><br><span class="line">  enable_page: / <span class="comment"># 应用页面</span></span><br><span class="line">  layout: <span class="comment"># 挂载容器类型</span></span><br><span class="line">    <span class="built_in">type</span>: <span class="built_in">id</span> <span class="comment"># 填写id或class</span></span><br><span class="line">    name: recent-posts</span><br><span class="line">    index: 0</span><br><span class="line">  column: odd <span class="comment"># odd：3列 | even：4列</span></span><br><span class="line">  row: 1 <span class="comment">#显示行数，默认两行，超过行数切换为滚动显示</span></span><br><span class="line">  message:</span><br><span class="line">    - descr: Ubuntu指南</span><br><span class="line">      cover: https://assets.akilar.top/image/cover1.webp</span><br><span class="line">    - descr: 玩转Win10</span><br><span class="line">      cover: https://assets.akilar.top/image/cover2.webp</span><br><span class="line">    - descr: 长篇小说连载</span><br><span class="line">      cover: https://assets.akilar.top/image/cover3.webp</span><br><span class="line">    - descr: 个人日记</span><br><span class="line">      cover: https://assets.akilar.top/image/cover4.webp</span><br><span class="line">    - descr: 诗词歌赋</span><br><span class="line">      cover: https://assets.akilar.top/image/cover5.webp</span><br><span class="line">    - descr: 杂谈教程</span><br><span class="line">      cover: https://assets.akilar.top/image/cover6.webp</span><br><span class="line">  custom_css: https://npm.elemecdn.com/hexo-butterfly-categories-card@1.0.0/lib/categorybar.css</span><br></pre></td></tr></table></figure><p>修改themes\butterfly\layout\index.pug</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">  extends includes/layout.pug</span><br><span class="line"></span><br><span class="line">  block content</span><br><span class="line">    include ./includes/mixins/post-ui.pug</span><br><span class="line">    <span class="comment">#recent-posts.recent-posts</span></span><br><span class="line">+     <span class="keyword">if</span> theme.categoryBar.<span class="built_in">enable</span></span><br><span class="line">+       .recent-post-item(style=<span class="string">&#x27;height:auto;width:100%;padding:0px;&#x27;</span>)</span><br><span class="line">+         <span class="comment">#categoryBar!= list_categories(site.categories,&#123;class: &#x27;categoryBar&#x27;,depth: 1&#125;)</span></span><br><span class="line">      +postUI</span><br><span class="line">      include includes/pagination.pug</span><br></pre></td></tr></table></figure><p>新建<code>[Blogroot]\themes\butterfly\source\css\_layout\categoryBar.styl</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> hexo-config(<span class="string">&#x27;categoryBar.enable&#x27;</span>)</span><br><span class="line">  <span class="comment">#categoryBar</span></span><br><span class="line">    width 100%!important</span><br><span class="line">  ul</span><br><span class="line">    &amp;.categoryBar-list</span><br><span class="line">      margin 5px 5px 0 5px!important</span><br><span class="line">      padding 0!important</span><br><span class="line"></span><br><span class="line">  li</span><br><span class="line">    &amp;.categoryBar-list-item</span><br><span class="line">      font-weight bold</span><br><span class="line">      display inline-block</span><br><span class="line">      height 180px!important</span><br><span class="line">      margin 5px .5% 0 .5%!important</span><br><span class="line">      background-image linear-gradient(rgba(0, 0, 0, 0.4) 25%, rgba(16, 16, 16, 0) 100%)</span><br><span class="line">      border-radius 10px</span><br><span class="line">      padding 25px 0 25px 25px!important</span><br><span class="line">      box-shadow rgba(50, 50, 50, 0.3)  50px 50px 50px 50px inset</span><br><span class="line">      overflow hidden</span><br><span class="line">      background-size 100%!important</span><br><span class="line">      background-position center!important</span><br><span class="line">      &amp;:hover</span><br><span class="line">        background-size 110%!important</span><br><span class="line">        box-shadow inset 500px 50px 50px 50px rgba(50,50,50, 0.6)</span><br><span class="line">        span</span><br><span class="line">          &amp;.categoryBar-list-count</span><br><span class="line">            &amp;::after</span><br><span class="line">              transition all .5s</span><br><span class="line">              transform translate(-100%, 0)</span><br><span class="line">  a</span><br><span class="line">    &amp;.categoryBar-list-link</span><br><span class="line">      color white!important</span><br><span class="line">      font-size 20px!important</span><br><span class="line">      &amp;::before</span><br><span class="line">        content <span class="string">&#x27;|&#x27;</span>!important</span><br><span class="line">        color white!important</span><br><span class="line">        font-size 20px!important</span><br><span class="line">      &amp;:after</span><br><span class="line">        content <span class="string">&#x27;&#x27;</span></span><br><span class="line">        position relative</span><br><span class="line">        width 0</span><br><span class="line">        bottom 0</span><br><span class="line">        display block</span><br><span class="line">        height 3px</span><br><span class="line">        border-radius 3px</span><br><span class="line">        background-color white</span><br><span class="line">      &amp;:hover</span><br><span class="line">        &amp;:after</span><br><span class="line">          width 90%</span><br><span class="line">          left 1%</span><br><span class="line">          transition all 0.5s</span><br><span class="line"></span><br><span class="line">  span</span><br><span class="line">    &amp;.categoryBar-list-count</span><br><span class="line">      display block!important</span><br><span class="line">      color white!important</span><br><span class="line">      font-size 20px!important</span><br><span class="line">      &amp;::before</span><br><span class="line">        content <span class="string">&#x27;\f02d&#x27;</span>!important</span><br><span class="line">        padding-right 15px!important</span><br><span class="line">        @extend .fontawesomeIcon</span><br><span class="line">      &amp;::after</span><br><span class="line">        padding 5px</span><br><span class="line">        display block!important</span><br><span class="line">        color white!important</span><br><span class="line">        font-size 20px!important</span><br><span class="line">        position relative</span><br><span class="line">        right -100%</span><br><span class="line">  covers = hexo-config(<span class="string">&#x27;categoryBar.cover&#x27;</span>)</span><br><span class="line">  <span class="keyword">for</span> cover,i <span class="keyword">in</span> covers</span><br><span class="line">    li.categoryBar-list-item:nth-child(&#123;i+1&#125;)</span><br><span class="line">      background unquote(cover)</span><br><span class="line">  descrs = hexo-config(<span class="string">&#x27;categoryBar.descr&#x27;</span>)</span><br><span class="line">  <span class="keyword">for</span> descr,i <span class="keyword">in</span> descrs</span><br><span class="line">    li.categoryBar-list-item:nth-child(&#123;i+1&#125;)&gt;span::after</span><br><span class="line">      content descr!important</span><br><span class="line">  <span class="keyword">if</span> hexo-config(<span class="string">&#x27;categoryBar.column&#x27;</span>) == <span class="string">&#x27;odd&#x27;</span></span><br><span class="line">    li</span><br><span class="line">      &amp;.categoryBar-list-item</span><br><span class="line">        width 32.3%!important</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> hexo-config(<span class="string">&#x27;categoryBar.column&#x27;</span>) == <span class="string">&#x27;even&#x27;</span></span><br><span class="line">    li</span><br><span class="line">      &amp;.categoryBar-list-item</span><br><span class="line">        width 24%!important</span><br><span class="line">  @media screen and (max-width: 650px)</span><br><span class="line">    li</span><br><span class="line">      &amp;.categoryBar-list-item</span><br><span class="line">        width 48%!important</span><br><span class="line">        height 150px!important</span><br><span class="line">        margin 5px 1% 0 1%!important</span><br><span class="line"></span><br><span class="line">  <span class="variable">$caterow</span> =  hexo-config(<span class="string">&#x27;categoryBar.row&#x27;</span>)?hexo-config(<span class="string">&#x27;categoryBar.row&#x27;</span>):2</span><br><span class="line">  .categoryBar-list</span><br><span class="line">    max-height 190px * <span class="variable">$caterow</span></span><br><span class="line">    overflow auto</span><br><span class="line">    &amp;::-webkit-scrollbar</span><br><span class="line">      width 0!important</span><br><span class="line">  @media screen and (max-width: 650px)</span><br><span class="line">    .categoryBar-list</span><br><span class="line">      max-height 160px * <span class="variable">$caterow</span></span><br></pre></td></tr></table></figure><h3 id="5-2-8-文章栏置顶">5.2.8 文章栏置顶</h3><p>安装插件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-butterfly-swiper --save</span><br></pre></td></tr></table></figure><p>添加配置信息</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># hexo-butterfly-swiper</span></span><br><span class="line"><span class="comment"># see https://akilar.top/posts/8e1264d1/</span></span><br><span class="line">swiper:</span><br><span class="line">  <span class="built_in">enable</span>: <span class="literal">true</span> <span class="comment"># 开关</span></span><br><span class="line">  priority: 5 <span class="comment">#过滤器优先权</span></span><br><span class="line">  enable_page: all <span class="comment"># 应用页面</span></span><br><span class="line">  timemode: <span class="built_in">date</span> <span class="comment">#date/updated</span></span><br><span class="line">  layout: <span class="comment"># 挂载容器类型</span></span><br><span class="line">    <span class="built_in">type</span>: <span class="built_in">id</span></span><br><span class="line">    name: recent-posts</span><br><span class="line">    index: 0</span><br><span class="line">  default_descr: 再怎么看我也不知道怎么描述它的啦！</span><br><span class="line">  swiper_css: https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.css <span class="comment">#swiper css依赖</span></span><br><span class="line">  swiper_js: https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.js <span class="comment">#swiper js依赖</span></span><br><span class="line">  custom_css: https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiperstyle.css <span class="comment"># 适配主题样式补丁</span></span><br><span class="line">  custom_js: https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper_init.js <span class="comment"># swiper初始化方法</span></span><br></pre></td></tr></table></figure><p>在文章页添加swiper_index配置项</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: 文章标题</span><br><span class="line">date: 创建日期</span><br><span class="line">updated: 更新日期</span><br><span class="line">cover: 文章封面</span><br><span class="line">description: 文章描述</span><br><span class="line"><span class="section">swiper<span class="emphasis">_index: 1 #置顶轮播图顺序，非负整数，数字越大越靠前</span></span></span><br><span class="line"><span class="emphasis"><span class="section">---</span></span></span><br></pre></td></tr></table></figure><h3 id="5-2-9-文章双栏">5.2.9 文章双栏</h3><p>安装插件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i hexo-butterfly-article-double-row --save</span><br></pre></td></tr></table></figure><p>新增网站根目录配置项</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">butterfly_article_double_row:</span><br><span class="line">  <span class="built_in">enable</span>: <span class="literal">true</span></span><br></pre></td></tr></table></figure><p>如果末页是奇数，会显得不舒服，需要在custom.css文件添加代码：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">/* 翻页按钮居中 */</span><br><span class="line"><span class="comment">#pagination &#123;</span></span><br><span class="line">  width: 100%;</span><br><span class="line">  margin: auto;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="5-2-10-外挂标签">5.2.10 外挂标签</h3><p>安装插件和渲染器</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-butterfly-tag-plugins-plus --save</span><br><span class="line">npm uninstall hexo-renderer-marked --save</span><br><span class="line">npm install hexo-renderer-kramed --save</span><br></pre></td></tr></table></figure><p>在站根点文件添加配置信息</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># tag-plugins-plus</span></span><br><span class="line"><span class="comment"># see https://akilar.top/posts/615e2dec/</span></span><br><span class="line">tag_plugins:</span><br><span class="line">  <span class="built_in">enable</span>: <span class="literal">true</span> <span class="comment"># 开关</span></span><br><span class="line">  priority: 5 <span class="comment">#过滤器优先权</span></span><br><span class="line">  issues: <span class="literal">false</span> <span class="comment">#issues标签依赖注入开关</span></span><br><span class="line">  <span class="built_in">link</span>:</span><br><span class="line">    placeholder: /img/link.png <span class="comment">#link_card标签默认的图标图片</span></span><br><span class="line">  CDN:</span><br><span class="line">    anima: https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/font-awesome-animation.min.css <span class="comment">#动画标签anima的依赖</span></span><br><span class="line">    jquery: https://npm.elemecdn.com/jquery@latest/dist/jquery.min.js <span class="comment">#issues标签依赖</span></span><br><span class="line">    issues: https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/issues.js <span class="comment">#issues标签依赖</span></span><br><span class="line">    iconfont: //at.alicdn.com/t/font_2032782_8d5kxvn09md.js <span class="comment">#参看https://akilar.top/posts/d2ebecef/</span></span><br><span class="line">    carousel: https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/carousel-touch.js</span><br><span class="line">    tag_plugins_css: https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/tag_plugins.css</span><br></pre></td></tr></table></figure><p>标签教程<a href="https://akilar.top/posts/615e2dec/">Tag Plugins Plus | Akilarの糖果屋</a></p><h3 id="5-2-11-打赏按钮投币彩蛋">5.2.11 打赏按钮投币彩蛋</h3><p>修改<code>[Blogroot]\themes\butterfly\layout\includes\post\reward.pug</code>,整体替换为以下内容</p><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">link<span class="params">(<span class="attr">rel</span>=&#x27;stylesheet&#x27; <span class="attr">href</span>=url_for(theme.CDN.coin_css)</span> media=<span class="string">&quot;defer&quot;</span> onload=<span class="string">&quot;this.media=&#x27;all&#x27;&quot;</span>)</span><br><span class="line"><span class="string">.post-reward</span></span><br><span class="line">  button.tip-button.reward-button</span><br><span class="line">    span.tip-button__text= _p<span class="params">(&#x27;donate&#x27;)</span></span><br><span class="line">    <span class="string">.coin-wrapper</span></span><br><span class="line">      <span class="string">.coin</span></span><br><span class="line">        <span class="string">.coin__middle</span></span><br><span class="line">        <span class="string">.coin__back</span></span><br><span class="line">        <span class="string">.coin__front</span></span><br><span class="line">    <span class="string">.reward-main</span></span><br><span class="line">      ul.reward-all</span><br><span class="line">        each item in theme.reward.QR_code</span><br><span class="line">          - var clickTo = <span class="params">(item.itemlist||item)</span><span class="string">.link</span> ? <span class="params">(item.itemlist||item)</span><span class="string">.link</span> : <span class="params">(item.itemlist||item)</span><span class="string">.img</span></span><br><span class="line">          li.reward-item</span><br><span class="line">            a<span class="params">(<span class="attr">href</span>=clickTo <span class="attr">target</span>=&#x27;_blank&#x27;)</span></span><br><span class="line">              img.post-qr-code-img<span class="params">(<span class="attr">src</span>=url_for((item.itemlist||item)</span><span class="string">.img</span>) alt=<span class="params">(item.itemlist||item)</span><span class="string">.text</span>)</span><br><span class="line">            <span class="string">.post-qr-code-desc=</span><span class="params">(item.itemlist||item)</span><span class="string">.text</span></span><br><span class="line"><span class="keyword">if</span> theme.reward.coinAudio</span><br><span class="line">  - var coinAudio = theme.reward.coinAudio ? url_for<span class="params">(theme.reward.coinAudio)</span> : &#x27;https:<span class="string">//npm.elemecdn.com/akilar-candyassets</span>@1.0.16/audio/coin.mp3&#x27;</span><br><span class="line">  audio<span class="comment">#coinAudio(src=coinAudio)</span></span><br><span class="line">script<span class="params">(defer <span class="attr">src</span>=url_for(theme.CDN.coin_js)</span>)</span><br></pre></td></tr></table></figure><p>新建\themes\butterfly\source\css\coin.css</p><h2 id="5-3-第二次魔改">5.3 第二次魔改</h2><h3 id="5-3-1-首页的飞机">5.3.1 首页的飞机</h3><p>在MyWeb\themes\butterfly\layout\includes\header新建<code>plane.pug</code>填入以下代码</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#drone</span></span><br><span class="line">  .container</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .trigger</span><br><span class="line">    .monitor</span><br><span class="line">      .opening</span><br><span class="line">        .camera.o-x</span><br><span class="line">          .camera.o-y</span><br><span class="line">            .camera.o-z</span><br><span class="line">              .awing</span><br><span class="line">                .stars</span><br><span class="line">                  .star</span><br><span class="line">                  .star</span><br><span class="line">                  .star</span><br><span class="line">                  .star</span><br><span class="line">                  .star</span><br><span class="line">                  .star</span><br><span class="line">                  .star</span><br><span class="line">                  .star</span><br><span class="line">                  .star</span><br><span class="line">                  .star</span><br><span class="line">                  .star</span><br><span class="line">                  .star</span><br><span class="line">                  .star</span><br><span class="line">                  .star</span><br><span class="line">                  .star</span><br><span class="line">                  .star</span><br><span class="line">                  .star</span><br><span class="line">                  .star</span><br><span class="line">                  .star</span><br><span class="line">                  .star</span><br><span class="line">                  .star</span><br><span class="line">                  .star</span><br><span class="line">                  .star</span><br><span class="line">                  .star</span><br><span class="line">                  .star</span><br><span class="line">                  .star</span><br><span class="line">                  .star</span><br><span class="line">                  .star</span><br><span class="line">                  .star</span><br><span class="line">                  .star</span><br><span class="line">                  .star</span><br><span class="line">                  .star</span><br><span class="line">                  .star</span><br><span class="line">                  .star</span><br><span class="line">                  .star</span><br><span class="line">                  .star</span><br><span class="line">                  .star</span><br><span class="line">                  .star</span><br><span class="line">                  .star</span><br><span class="line">                  .star</span><br><span class="line">                .fly.o-x</span><br><span class="line">                  .fly.o-y</span><br><span class="line">                    .fly.o-z</span><br><span class="line">                      .free_bounce</span><br><span class="line">                        .free_rotate</span><br><span class="line">                          .body</span><br><span class="line">                            .cockpit</span><br><span class="line">                              .under</span><br><span class="line">                              .back</span><br><span class="line">                              .left</span><br><span class="line">                              .right</span><br><span class="line">                              .edge_left</span><br><span class="line">                              .edge_right</span><br><span class="line">                              .boosts</span><br><span class="line">                                .boost</span><br><span class="line">                                .boost</span><br><span class="line">                                .boost</span><br><span class="line">                                .boost</span><br><span class="line">                                .boost</span><br><span class="line">                                .boost</span><br><span class="line">                                .boost</span><br><span class="line">                                .boost</span><br><span class="line">                                .boost</span><br><span class="line">                                .boost</span><br><span class="line">                                .boost</span><br><span class="line">                                .boost</span><br><span class="line">                                .boost</span><br><span class="line">                                .boost</span><br><span class="line">                                .boost</span><br><span class="line">                                .boost</span><br><span class="line">                                .boost</span><br><span class="line">                                .boost</span><br><span class="line">                                .boost</span><br><span class="line">                                .boost</span><br><span class="line">                                .boost</span><br><span class="line">                                .boost</span><br><span class="line">                                .boost</span><br><span class="line">                                .boost</span><br><span class="line">                                .boost</span><br><span class="line">                                .boost</span><br><span class="line">                                .boost</span><br><span class="line">                                .boost</span><br><span class="line">                                .boost</span><br><span class="line">                                .boost</span><br><span class="line">                            .wing_left</span><br><span class="line">                              .under</span><br><span class="line">                              .back</span><br><span class="line">                              .left</span><br><span class="line">                              .right</span><br><span class="line">                            .wing_right</span><br><span class="line">                              .under</span><br><span class="line">                              .back</span><br><span class="line">                              .left</span><br><span class="line">                              .right</span><br></pre></td></tr></table></figure><p>F:\MyWeb\themes\butterfly\layout\includes\header\index.pug中插入代码</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">header<span class="selector-id">#page-header</span>(class=`$&#123;isHomeClass+isFixedClass&#125;` style=bg_img)</span><br><span class="line">  !=<span class="built_in">partial</span>(<span class="string">&#x27;includes/header/nav&#x27;</span>, &#123;&#125;, &#123;cache: true&#125;)</span><br><span class="line">  <span class="keyword">if</span> top_img !== false</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">is_post</span>()</span><br><span class="line">      include ./post-info<span class="selector-class">.pug</span></span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> <span class="built_in">is_home</span>() </span><br><span class="line">      <span class="selector-id">#site-info</span></span><br><span class="line">        h1#site-title=site_title</span><br><span class="line">        <span class="keyword">if</span> theme<span class="selector-class">.subtitle</span><span class="selector-class">.enable</span></span><br><span class="line">          - <span class="selector-tag">var</span> loadSubJs = true</span><br><span class="line">          <span class="selector-id">#site-subtitle</span></span><br><span class="line">            span<span class="selector-id">#subtitle</span></span><br><span class="line">        <span class="built_in">if</span>(theme.social)</span><br><span class="line">          <span class="selector-id">#site_social_icons</span></span><br><span class="line">            !=<span class="built_in">partial</span>(<span class="string">&#x27;includes/header/social&#x27;</span>, &#123;&#125;, &#123;cache: true&#125;)</span><br><span class="line">      !=<span class="built_in">partial</span>(<span class="string">&#x27;includes/header/plane&#x27;</span>, &#123;&#125;, &#123;cache: true&#125;)</span><br><span class="line">      <span class="selector-id">#scroll-down</span></span><br><span class="line">        <span class="selector-tag">i</span><span class="selector-class">.fas</span><span class="selector-class">.fa-angle-down</span><span class="selector-class">.scroll-down-effects</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">      <span class="selector-id">#page-site-info</span></span><br><span class="line">        h1#site-title=site_title</span><br></pre></td></tr></table></figure><p>最后在theme文件中增加head引用</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">- &lt;link <span class="attribute">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attribute">href</span>=<span class="string">&quot;https://npm.elemecdn.com/ethan4116-blog/lib/css/plane_v2.css&quot;</span>&gt;</span><br></pre></td></tr></table></figure><h3 id="5-3-2-告示牌小人">5.3.2 告示牌小人</h3><p>在<code>Butterfly/layout/includes/widget/card_announcement.pug</code>下替换为以下代码</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> theme<span class="selector-class">.aside</span><span class="selector-class">.card_announcement</span><span class="selector-class">.enable</span></span><br><span class="line">  <span class="selector-class">.card-widget</span><span class="selector-class">.card-announcement</span></span><br><span class="line">    <span class="selector-class">.item-headline</span></span><br><span class="line">      <span class="selector-tag">i</span><span class="selector-class">.fas</span><span class="selector-class">.fa-bullhorn</span><span class="selector-class">.fa-shake</span></span><br><span class="line">      span= <span class="built_in">_p</span>(<span class="string">&#x27;aside.card_announcement&#x27;</span>)</span><br><span class="line">    .announcement_content!= theme<span class="selector-class">.aside</span><span class="selector-class">.card_announcement</span><span class="selector-class">.content</span></span><br><span class="line">  <span class="selector-class">.xpand</span>(style=<span class="string">&#x27;height:200px;&#x27;</span>)</span><br><span class="line">    <span class="selector-tag">canvas</span><span class="selector-class">.illo</span>(<span class="attribute">width</span>=<span class="string">&#x27;800&#x27;</span> height=<span class="string">&#x27;800&#x27;</span> style=<span class="string">&#x27;max-width: 200px; max-height: 200px; touch-action: none; width: 640px; height: 640px;&#x27;</span>)</span><br><span class="line"><span class="function"><span class="title">script</span><span class="params">(src=<span class="string">&#x27;https://cdn.jsdelivr.net/gh/xiaopengand/blogCdn@latest/xzxr/twopeople1.js&#x27;</span>)</span></span></span><br><span class="line"><span class="function"><span class="title">script</span><span class="params">(src=<span class="string">&#x27;https://cdn.jsdelivr.net/gh/xiaopengand/blogCdn@latest/xzxr/zdog.dist.js&#x27;</span>)</span></span></span><br><span class="line">script<span class="selector-id">#rendered-js</span>(<span class="attribute">src</span>=<span class="string">&#x27;https://cdn.jsdelivr.net/gh/xiaopengand/blogCdn@latest/xzxr/twopeople.js&#x27;</span>)</span><br><span class="line">style.</span><br><span class="line">  <span class="selector-class">.card-widget</span><span class="selector-class">.card-announcement</span> &#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">  <span class="attribute">justify-content</span>: center;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">    &#125;</span><br><span class="line">  <span class="selector-tag">canvas</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span> auto;</span><br><span class="line">  <span class="attribute">cursor</span>: move;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><h3 id="5-3-3-博客插入图片">5.3.3  博客插入图片</h3><p>安装插件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-asset-image --save</span><br></pre></td></tr></table></figure><p>在hexo的配置文件_config.yml中修改：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">post_asset_folder:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p>打开/node_modules/hexo-asset-image/index.js，内容更换为：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&#x27;use strict&#x27;</span>;</span><br><span class="line"><span class="keyword">var</span> cheerio = <span class="built_in">require</span>(<span class="string">&#x27;cheerio&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// http://stackoverflow.com/questions/14480345/how-to-get-the-nth-occurrence-in-a-string</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getPosition</span>(<span class="params">str, m, i</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> str.<span class="title function_">split</span>(m, i).<span class="title function_">join</span>(m).<span class="property">length</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> version = <span class="title class_">String</span>(hexo.<span class="property">version</span>).<span class="title function_">split</span>(<span class="string">&#x27;.&#x27;</span>);</span><br><span class="line">hexo.<span class="property">extend</span>.<span class="property">filter</span>.<span class="title function_">register</span>(<span class="string">&#x27;after_post_render&#x27;</span>, <span class="keyword">function</span>(<span class="params">data</span>)&#123;</span><br><span class="line">  <span class="keyword">var</span> config = hexo.<span class="property">config</span>;</span><br><span class="line">  <span class="keyword">if</span>(config.<span class="property">post_asset_folder</span>)&#123;</span><br><span class="line">        <span class="keyword">var</span> link = data.<span class="property">permalink</span>;</span><br><span class="line">    <span class="keyword">if</span>(version.<span class="property">length</span> &gt; <span class="number">0</span> &amp;&amp; <span class="title class_">Number</span>(version[<span class="number">0</span>]) == <span class="number">3</span>)</span><br><span class="line">       <span class="keyword">var</span> beginPos = <span class="title function_">getPosition</span>(link, <span class="string">&#x27;/&#x27;</span>, <span class="number">1</span>) + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">       <span class="keyword">var</span> beginPos = <span class="title function_">getPosition</span>(link, <span class="string">&#x27;/&#x27;</span>, <span class="number">3</span>) + <span class="number">1</span>;</span><br><span class="line">    <span class="comment">// In hexo 3.1.1, the permalink of &quot;about&quot; page is like &quot;.../about/index.html&quot;.</span></span><br><span class="line">    <span class="keyword">var</span> endPos = link.<span class="title function_">lastIndexOf</span>(<span class="string">&#x27;/&#x27;</span>) + <span class="number">1</span>;</span><br><span class="line">    link = link.<span class="title function_">substring</span>(beginPos, endPos);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> toprocess = [<span class="string">&#x27;excerpt&#x27;</span>, <span class="string">&#x27;more&#x27;</span>, <span class="string">&#x27;content&#x27;</span>];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; toprocess.<span class="property">length</span>; i++)&#123;</span><br><span class="line">      <span class="keyword">var</span> key = toprocess[i];</span><br><span class="line"></span><br><span class="line">      <span class="keyword">var</span> $ = cheerio.<span class="title function_">load</span>(data[key], &#123;</span><br><span class="line">        <span class="attr">ignoreWhitespace</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="attr">xmlMode</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="attr">lowerCaseTags</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="attr">decodeEntities</span>: <span class="literal">false</span></span><br><span class="line">      &#125;);</span><br><span class="line"></span><br><span class="line">      $(<span class="string">&#x27;img&#x27;</span>).<span class="title function_">each</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="keyword">if</span> ($(<span class="variable language_">this</span>).<span class="title function_">attr</span>(<span class="string">&#x27;src&#x27;</span>))&#123;</span><br><span class="line">            <span class="comment">// For windows style path, we replace &#x27;\&#x27; to &#x27;/&#x27;.</span></span><br><span class="line">            <span class="keyword">var</span> src = $(<span class="variable language_">this</span>).<span class="title function_">attr</span>(<span class="string">&#x27;src&#x27;</span>).<span class="title function_">replace</span>(<span class="string">&#x27;\\&#x27;</span>, <span class="string">&#x27;/&#x27;</span>);</span><br><span class="line">            <span class="keyword">if</span>(!<span class="regexp">/http[s]*.*|\/\/.*/</span>.<span class="title function_">test</span>(src) &amp;&amp;</span><br><span class="line">               !<span class="regexp">/^\s*\//</span>.<span class="title function_">test</span>(src)) &#123;</span><br><span class="line">              <span class="comment">// For &quot;about&quot; page, the first part of &quot;src&quot; can&#x27;t be removed.</span></span><br><span class="line">              <span class="comment">// In addition, to support multi-level local directory.</span></span><br><span class="line">              <span class="keyword">var</span> linkArray = link.<span class="title function_">split</span>(<span class="string">&#x27;/&#x27;</span>).<span class="title function_">filter</span>(<span class="keyword">function</span>(<span class="params">elem</span>)&#123;</span><br><span class="line">                <span class="keyword">return</span> elem != <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">              &#125;);</span><br><span class="line">              <span class="keyword">var</span> srcArray = src.<span class="title function_">split</span>(<span class="string">&#x27;/&#x27;</span>).<span class="title function_">filter</span>(<span class="keyword">function</span>(<span class="params">elem</span>)&#123;</span><br><span class="line">                <span class="keyword">return</span> elem != <span class="string">&#x27;&#x27;</span> &amp;&amp; elem != <span class="string">&#x27;.&#x27;</span>;</span><br><span class="line">              &#125;);</span><br><span class="line">              <span class="keyword">if</span>(srcArray.<span class="property">length</span> &gt; <span class="number">1</span>)</span><br><span class="line">                srcArray.<span class="title function_">shift</span>();</span><br><span class="line">              src = srcArray.<span class="title function_">join</span>(<span class="string">&#x27;/&#x27;</span>);</span><br><span class="line">              $(<span class="variable language_">this</span>).<span class="title function_">attr</span>(<span class="string">&#x27;src&#x27;</span>, config.<span class="property">root</span> + link + src);</span><br><span class="line">              <span class="variable language_">console</span>.<span class="property">info</span>&amp;&amp;<span class="variable language_">console</span>.<span class="title function_">info</span>(<span class="string">&quot;update link as:--&gt;&quot;</span>+config.<span class="property">root</span> + link + src);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="property">info</span>&amp;&amp;<span class="variable language_">console</span>.<span class="title function_">info</span>(<span class="string">&quot;no src attr, skipped...&quot;</span>);</span><br><span class="line">            <span class="variable language_">console</span>.<span class="property">info</span>&amp;&amp;<span class="variable language_">console</span>.<span class="title function_">info</span>($(<span class="variable language_">this</span>));</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">      data[key] = $.<span class="title function_">html</span>();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>最后在生成博客时就可以把要插入的图片复制到博客文章文件夹中，按照markdown格式书写：</p><p><code>![图片说明](head.jpeg)</code></p>]]></content>
      
      
      <categories>
          
          <category> 计算机 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 网站 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Adams仿真系统学习笔记（初级）</title>
      <link href="/posts/8f7b9796.html"/>
      <url>/posts/8f7b9796.html</url>
      
        <content type="html"><![CDATA[<h1>0 引言</h1><p>从事工业机械臂一年的时间，看到国内很多机械臂公司的设计大程度上仍属于逆向设计，即头部企业出现什么类品，就照猫画葫芦如法炮制一个。事实上，机械臂理论设计和仿真都相当成熟，打算搜寻资源制作一个Adams为主的参数化模型，用于六轴串联关节机械臂的开发设计。</p><p>为实现这一目标，需要复盘ADAMS的操作使用，故作此篇用于记录自己的复盘过程，同时也为想要学习adams的新人提供一些“前人足迹”，本文主要如下：</p><ul><li><p>简单机构的仿真流程及操作</p></li><li><p>Adams自定义菜单、编程和对话框</p></li><li><p>Adams优化设计研究</p></li></ul><p>本文参考书籍如下，点击可跳转下载电子书资源（仅供学习，请勿商用）</p><ul><li><p><a href="https://pan.baidu.com/s/1jR3t6rg0NQVgitHts7dEYw?pwd=hgsk">ADAMS在机械设计中的应用</a></p></li><li><p><a href="https://pan.baidu.com/s/1W-Zp4YkbnOcI6NHWbQFFEg?pwd=Ning">实用Adams的使用技巧</a></p></li><li><p><a href="https://pan.baidu.com/s/1p7jIahjvzRqwsW5kVSPg7g?pwd=Ning">MSC Adams多体动力学仿真基础与实例解析</a></p></li><li><p><a href="https://pan.baidu.com/s/1c5Wwll5SgommeSAyK8MscA?pwd=Ning">机械系统动力学分析及Adams应用教程</a></p></li><li><p><a href="https://pan.baidu.com/s/1rehMl2PE2Tg3T0hMBSesYg?pwd=Ning">虚拟样机技术与ADAMS应用实例教程_郭卫东</a></p></li></ul><p>本文参考论坛如下，点击可跳转下述论坛网站（仅作推荐，非广告宣传）</p><ul><li><p><a href="http://forum.simwe.com">仿真科技论坛</a></p></li><li><p><a href="https://www.jxcad.com.cn">机械CAD论坛</a></p></li></ul><h1>1 初遇 | Adams概述</h1><p>在机械系统设计中，虚拟样机的建立和仿真工作能给设计带来极大的便利，ADAMS既可以作为机械系统的<code>静力学、运动学和动力学</code>的仿真应用软件，也可以作为与<code>CAE、CAD</code>等机械设计软件联合仿真分析的开发工具。本篇以Adams2020版本为基础，总结第一次接触adams时的上手之旅。</p><p>附：<a href="https://mp.weixin.qq.com/s/aYLwrXmPtlaZJWgKBp4DbQ">Adams2020软件下载链接及安装步骤</a>（注：仅作学习使用，勿作他用）</p><h2 id="1-1-单摆案例">1.1 单摆案例</h2><p>本案例选自<a href="https://pan.baidu.com/s/1jR3t6rg0NQVgitHts7dEYw?pwd=hgsk">ADAMS在机械设计中的应用</a>案例1，详见图1</p><p><img src="%5C%E5%9B%BE%E7%89%87%5C%E5%8D%9A%E5%AE%A2%5Cadams%5CP1.png" alt="图1 圆锥摆例题"></p><p>教材步骤已经非常详细，不再重复，仅给出按照教材完成的案例文件: <a href="https://pan.baidu.com/s/10_1UvOmQIwIqu1pxeU9cLw?pwd=Ning">单摆Adams源文件</a></p><p>该案例学习点：</p><ul><li><p>建模仿真全过程：创建无质量绳、赋质量属性</p></li><li><p>后处理详细过程：查看动能、势能曲线、并且处理曲线</p></li></ul><h2 id="1-2-外伸梁案例">1.2  外伸梁案例</h2><p>本案例选自<a href="https://pan.baidu.com/s/1jR3t6rg0NQVgitHts7dEYw?pwd=hgsk">ADAMS在机械设计中的应用</a>案例3.2.2（P58），详见图2<br><img src="%5C%E5%9B%BE%E7%89%87%5C%E5%8D%9A%E5%AE%A2%5Cadams%5CP2.png" alt="图2 外伸梁案例"></p><p>依据教材所作的案例文件：<a href="https://pan.baidu.com/s/1DrbVq46-q3LPTwiwFbUz-Q?pwd=Ning">外伸梁Adams源文件</a></p><p>该案例学习点：</p><h3 id="（1）工作环境的设立方法">（1）工作环境的设立方法</h3><p>首先被分析对象总长为8m，最小点距为1m，因此工作栅格的总范围可设定为<code>8m，2m</code>，网格间距可设定为<code>1m，1m</code></p><p>其次，根据分析对象，图标的大小可设置为<code>0.5m</code>（常为网格间距/最小点距的二分之一）</p><h3 id="（2）表格编辑器的使用">（2）表格编辑器的使用</h3><p>当分析对象的点位比较多时，选择Table Editor来创建坐标点。该编辑器比较不智能，有一些细节需要注意：</p><ul><li><p>在新建前，选择好底部的point还是marker（marker可以指定方向）</p></li><li><p>新增一行时，点击右下角的“创建”可以创建新的空白行，在每一行填完数据后，需要<code>apply</code>，否则下次新增操作会弹窗<code>是否重新加载数据</code></p></li><li><p>如果要继续新建，需要选中末行或者想要插入一行的上一行的坐标最左边<code>Point n</code>那个单元格，然后再点击创建，如果鼠标未选中单元格而直接创建。默认将重新创建数据。</p></li><li><p>要删除某一个点，需要在界面的左侧的模型树里，找到点所在位置（比如我的附着在地面上），然后右键选择删除点，点表格中对应的点即可删除。</p></li></ul><h3 id="（3）坐标系的使用">（3）坐标系的使用</h3><p>坐标系的类别有三种：笛卡尔、柱、球坐标系。</p><ul><li><p>当部件的运动方向主要为横平竖直时，选用笛卡尔坐标系</p></li><li><p>当运动方向主要是在一个平面内做曲线运动时，用柱坐标系会简便一些</p></li><li><p>当运动方向主要在三维方向曲线运动时，用球坐标系。</p></li></ul><p>然后是坐标系的选择旋转序列，这部分设置的物理意义是因为建模时，要确定构件相对于地面坐标系的旋转轴、旋转角度和旋转顺序；</p><ul><li><p>旋转次序包含313、323、312、321、212、213、231、232、121、123、131、132总共十二个序列</p></li><li><p>刚体旋转时先确定刚体固定（body Fixed）还是空间固定（Space Fixed），前者是相对于刚体本身坐标系的轴旋转，而后者是相对于空间中固定的坐标系旋转</p></li><li><p><strong>在实际应用中，常规操作是选定<code>Space Fixed</code>，<code>3-1-3</code>次序，即：构件坐标系相对于地面坐标系Z轴旋转，再绕地面坐标系的X轴旋转，最后按照地面坐标系的Z轴旋转。这是构件在运动时构件坐标系相对于地面坐标系的方位变化，产生的欧拉角参数用于后续的计算。</strong></p></li></ul><h2 id="1-3-空间桁架案例">1.3 空间桁架案例</h2><p>本案例选自<a href="https://pan.baidu.com/s/1jR3t6rg0NQVgitHts7dEYw?pwd=hgsk">ADAMS在机械设计中的应用</a>案例3.2.4（P74），详见图3</p><p><img src="%5C%E5%9B%BE%E7%89%87%5C%E5%8D%9A%E5%AE%A2%5Cadams%5CP3.png" alt="图3 空间桁架案例"></p><p>依据教材所作的案例文件：<a href="https://pan.baidu.com/s/1FvAA5qk1F_qGl6Lm0Wi-sA?pwd=Ning">空间桁架Adams源文件</a></p><p>该案例学习点：</p><h3 id="（1）建模习惯">（1）建模习惯</h3><p>在每次新建模型时，要时刻注意重命名，对构件、关键坐标点、关节约束等命名以方便分辨。</p><h3 id="（2）参数化设计">（2）参数化设计</h3><p>参数化设计的通用步骤：设置设计变量 - &gt; 将变量与模型中的元素关联起来 - &gt;设计研究（单设计变量） 或 试验设计（多设计变量）。</p><p>在设计变量的设定中，需要注意变量的取值范围的设计：<code>Standard</code>设置变量的标准值，<code>Value Range By</code>设置设计变量的取值范围</p><ul><li><p>Absolute Min and Max Value：采用绝对值方式确定设计变量范围，例如标准值是3，变化范围为[-6,9]，那么对应的MIN和Max就是-6和9</p></li><li><p>Delta Relative to Value：采用相对值方式确定设计变量范围，例如标准值是3，变化范围为[-6,9]，那么对应的-Delat是-9，意思是从3开始朝负方向变化9，就是-6；同样的，+Delta是6，即从3开始往正方向变化6就是9.</p></li><li><p>Percent Relative to Value： 采用相对百分数的方式确定设计变量范围，例如标准值是3，变化范围为[-6,9]，那么对应的-Delta[%]为-300，及相对于标准值3朝负方向变化（300%*3=9）即为-6.</p></li></ul><p>其他复选框<code>Allow Optimization to ignore range</code>表示优化设计变量不受取值范围的限制；<code>List of allowed values</code>则可以列出在上述取值范围内可以取的具体值。</p><h2 id="1-4-凸轮机构的加速度分析">1.4 凸轮机构的加速度分析</h2><p>本案例选自<a href="https://pan.baidu.com/s/1jR3t6rg0NQVgitHts7dEYw?pwd=hgsk">ADAMS在机械设计中的应用</a>案例3.3.2（P89），详见图4</p><p><img src="%5C%E5%9B%BE%E7%89%87%5C%E5%8D%9A%E5%AE%A2%5Cadams%5CP4.png" alt="图4 凸轮机构"></p><p>依据教材所作的案例文件：<a href="https://pan.baidu.com/s/1uAoDyVDa2s6rUTWF4aK8-g?pwd=Ning">凸轮机构Adams源文件</a></p><p>该案例学习点：</p><h3 id="（1）建模">（1）建模</h3><ul><li><p>多段线建模：在选择多段线后，右键可以终止绘制</p></li><li><p>建立凸轮、推杆等模型时，可以选择二维图形绘制+实体拉伸建模</p></li><li><p>建立高副：<code>Edge</code>和<code>Curve</code></p></li></ul><h3 id="（2）点跟踪轨迹">（2）点跟踪轨迹</h3><p>选择Results-&gt;Review-&gt;点跟踪，选择动点，再选择动系，就可以绘制相对运动轨迹。</p><p>点跟踪轨迹需要多个点才能建立（至少需要四个点）</p><p>具体的操作可参考文档<a href="https://pan.baidu.com/s/1XcLmYwEw-WmZhK-9kkkO1A?pwd=Ning">Adams轨迹曲线的生成和导出</a></p><h2 id="1-5-板上滚子案例">1.5 板上滚子案例</h2><p>本案例选自<a href="https://pan.baidu.com/s/1jR3t6rg0NQVgitHts7dEYw?pwd=hgsk">ADAMS在机械设计中的应用</a>案例3.4.3（P89），详见图5</p><p><img src="%5C%E5%9B%BE%E7%89%87%5C%E5%8D%9A%E5%AE%A2%5Cadams%5CP5.png" alt="图5 板上滚子案例"></p><p>依据教材所作的案例文件：<a href="https://pan.baidu.com/s/1uekWW2gZKFSfK6WUE_IrMA?pwd=Ning">滚子Adams源文件</a></p><p>本案例学习点：</p><h3 id="接触力">接触力</h3><p>接触力分为两种类型，一种是时断时续的接触，构件的动能转化为材料的势能；另一种是连续的接触，两个构件始终接触，构件的弹性模量当作弹簧的刚度，阻尼当成能量损失。</p><p>两种计算接触力的方法：一种是补偿法<code>restitution</code>，另一种是冲击函数法<code>impact</code></p><p>，补偿法有两个参数，惩罚系数<code>Penalty</code>和补偿系数<code>Restitution</code>，惩罚系数越大，一个构件进入另一个构件的体积就越小，接触刚度就越大；接触力是惩罚系数与插入深度的乘积，如果惩罚系数过小，就不能模拟两个构件的真实接触情况，如果过大，就会计算出现问题，甚至不能收敛。</p><p>冲击函数法是根据impact函数来计算两个构件之间的接触力，接触力由两部分组成，一个是两个件之间的相互切入而产生的弹性力，二是由相对速度产生的阻尼力。需要输入接触刚度、指数、阻尼和切入深度，其中切入深度决定了何时阻尼达到最大值。</p><h1>2 初用 | Adams进阶</h1><p>在初学阶段，常用Adams对一般机械系统进行动力学分析，但是事实上在公司里常常只做一种特定的机械产品，此时就需要对Adams量身定制。此小节重点总结Adams编程的入门内容，涉及关键建模语句分析、循环体创建重复结构、完整程序、创建宏、创建对话框、创建自定义菜单等。</p><p>此部分内容详见<a href="https://pan.baidu.com/s/1jR3t6rg0NQVgitHts7dEYw?pwd=hgsk">ADAMS在机械设计中的应用</a>第6章(P236)</p><h2 id="2-1-编程建模">2.1 编程建模</h2><p>打开Adams/view，新建一个<code>Custom</code>模型，进入主界面后，按<code>F3</code>打开命令窗口，弹出的命令框会显示以下内容</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">Adams View Adams <span class="number">2020</span> (built Feb <span class="number">25</span> <span class="number">2020</span>)</span><br><span class="line">Graphics:  OpenGL</span><br><span class="line">Enter a command, <span class="string">&#x27;?&#x27;</span>, or <span class="string">&#x27;help&#x27;</span>.</span><br><span class="line">interface dialog_box display dialog_box_name = .gui.create_new_model_panel</span><br><span class="line">interface dialog_box undisplay dialog_box_name = .gui.new_start_session_panel</span><br><span class="line">interface dialog execute dialog=.gui.create_new_model_panel undisp=yes</span><br><span class="line"><span class="keyword">default</span> units len=mm mass=kg force=newton</span><br><span class="line">var <span class="built_in">set</span> var=.gui.create_new_model_panel.modelName str=<span class="string">&quot;Custom&quot;</span></span><br><span class="line"> <span class="keyword">if</span> cond=( !db_of_type_exists( <span class="string">&quot;.gui.create_new_model_panel.modelName&quot;</span>, <span class="string">&quot;model&quot;</span> ))</span><br><span class="line">model create model=Custom fit_to_view=no</span><br><span class="line">part attrib part_name=ground name_vis=off</span><br><span class="line">part modify rigid_body mass_properties part_name=ground material=.materials.steel</span><br><span class="line">force create body gravitational gravity=gravity &amp;</span><br><span class="line">          x_comp=<span class="number">0</span> y_comp=<span class="number">-9806.65</span> z_comp=<span class="number">0</span></span><br><span class="line">!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!</span><br><span class="line">interface cmd_window display=toggle</span><br></pre></td></tr></table></figure><p>以上程序是Adams/View启动后执行的一些初始化操作，其中有几个表达方式需要注意一下：</p><ul><li><p><code>interface dialog_box display dialog box_name </code>表示交互对话框名称</p></li><li><p><code>default units</code>默认单位，长度为<code>len</code>，质量为<code>mass</code>，力为<code>force</code></p></li><li><p><code>！！</code>是注释分割</p></li></ul><p>因为利用编程主要用于单一机械系统的系列化开发，因此重点在于建模、仿真步骤等方面的编程内容，以下进入正式学习。</p><h3 id="2-1-1-创建关键点">2.1.1 创建关键点</h3><p>在操作区，坐标原点处创建一个点，命令窗口显示内容如下：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!</span><br><span class="line">! CREATE POINT</span><br><span class="line">undo begin</span><br><span class="line">point create point = .Custom.ground.POINT_1 location=<span class="number">0.0</span>, <span class="number">0.0</span>, <span class="number">0.0</span> </span><br><span class="line">group modify group=SELECT_LIST object=.Custom.ground.POINT_1</span><br><span class="line">undo end</span><br><span class="line">!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!</span><br></pre></td></tr></table></figure><p>剖析：</p><ul><li><p><code>!!!</code>表示注释分割</p></li><li><p><code>！ Create Point</code>注释语句，表示以下内容为创建点</p></li><li><p><code>undo begin</code>和<code>undo end</code>把夹在中间的命令集合在一起</p></li><li><p><code>point creat</code> 是创建点，名称是<code>t = .Custom.ground.POIN</code>，位置是<code>on=0.0, 0.0,</code></p></li><li><p><code>group modify</code>这句意义不明，不知道是修改什么组，后面多创建几个再推测。</p></li></ul><p>试着在编程框下面输入，如图</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">point</span> create point = .Custom.ground.POINT_2 location=<span class="number">2</span>.<span class="number">0</span>,<span class="number">3</span>.<span class="number">0</span>,<span class="number">0</span>.<span class="number">0</span></span><br></pre></td></tr></table></figure><p><img src="%5C%E5%9B%BE%E7%89%87%5C%E5%8D%9A%E5%AE%A2%5Cadams%5CP6.png" alt="图6 输入框"></p><p>会发现多了一个点，故这句是创建点的核心语句。</p><h3 id="2-1-2-创建连杆">2.1.2 创建连杆</h3><p>借助2.1.1 所创建的两个点，在模型区绘制一个连杆，命令程序显示为</p><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!</span><br><span class="line">! CREATE LINK</span><br><span class="line">undo begin</span><br><span class="line">part create rigid_body name_and_position part_name=.Custom.PART_2 adams_id=<span class="number">2</span></span><br><span class="line">part modify rigid_body mass_properties part_name=.Custom.PART_2 material=.materials.steel</span><br><span class="line">part attributes part_name=.Custom.PART_2 color=RED name_vis=off</span><br><span class="line">marker create marker=.Custom.PART_2.MARKER_1 &amp;</span><br><span class="line">    adams_id=<span class="number">1</span> &amp;</span><br><span class="line">    location=(LOC_RELATIVE_TO(&#123;<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>&#125;, POINT_1)) &amp;</span><br><span class="line">    orientation=(ORI_ALONG_AXIS (.Custom.ground.POINT_1, .Custom.ground.POINT_2, <span class="string">&quot;X&quot;</span>))</span><br><span class="line">marker create marker=.Custom.PART_2.MARKER_2 &amp;</span><br><span class="line">    adams_id=<span class="number">2</span> &amp;</span><br><span class="line">    location=(LOC_RELATIVE_TO(&#123;<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>&#125;, POINT_2)) &amp;</span><br><span class="line">    orientation=(ORI_ALONG_AXIS (.Custom.ground.POINT_1, .Custom.ground.POINT_2, <span class="string">&quot;X&quot;</span>))</span><br><span class="line">geometry create shape link &amp;</span><br><span class="line">    link_name=.Custom.PART_2.LINK_3 &amp;</span><br><span class="line">    width=(<span class="number">0.3605551275</span>mm) &amp;</span><br><span class="line">    depth=(<span class="number">0.1802775638</span>mm) &amp;</span><br><span class="line">    i_marker=.Custom.PART_2.MARKER_1 &amp;</span><br><span class="line">    j_marker=.Custom.PART_2.MARKER_2</span><br><span class="line"><span class="keyword">group</span> modify <span class="keyword">group</span>=SELECT_LIST <span class="built_in">object</span>=.Custom.PART_2</span><br><span class="line">undo end</span><br><span class="line">!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!</span><br></pre></td></tr></table></figure><p>对该程序进行分析，除了注释和undo语句，创建连杆的语句包括名称、ID、材料属性、设置颜色、尺寸、起点和终点。其中注意语句</p><p><code>location=(LOC_RELATIVE_TO(&#123;0,0,0&#125;, POINT_1)</code>是指与Point1相对位置为0，即重合。</p><p>相应的，定义其方位的语句是</p><p><code>orientation=(ORI_ALONG_AXIS (.Custom.ground.POINT_1, .Custom.ground.POINT_2, &quot;X&quot;))</code>，含义是X轴方位为Point1朝向Point2.</p><p>因此，创建连杆的核心语句是</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">marker create marker=.Custom.PART_2.MARKER_1 &amp;</span><br><span class="line">    adams_id=<span class="number">1</span> &amp;</span><br><span class="line">    location=(LOC_RELATIVE_TO(&#123;<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>&#125;, POINT_1)) &amp;</span><br><span class="line">    orientation=(ORI_ALONG_AXIS (.Custom.ground.POINT_1, .Custom.ground.POINT_2, <span class="string">&quot;X&quot;</span>))</span><br><span class="line">marker create marker=.Custom.PART_2.MARKER_2 &amp;</span><br><span class="line">    adams_id=<span class="number">2</span> &amp;</span><br><span class="line">    location=(LOC_RELATIVE_TO(&#123;<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>&#125;, POINT_2)) &amp;</span><br><span class="line">    orientation=(ORI_ALONG_AXIS (.Custom.ground.POINT_1, .Custom.ground.POINT_2, <span class="string">&quot;X&quot;</span>))</span><br><span class="line">geometry create shape link &amp;</span><br><span class="line">    link_name=.Custom.PART_2.LINK_3 &amp;</span><br><span class="line">    width=(<span class="number">0.3605551275</span>mm) &amp;</span><br><span class="line">    depth=(<span class="number">0.1802775638</span>mm) &amp;</span><br><span class="line">    i_marker=.Custom.PART_2.MARKER_1 &amp;</span><br><span class="line">    j_marker=.Custom.PART_2.MARKER_2</span><br><span class="line">group modify group=SELECT_LIST object=.Custom.PART_2</span><br></pre></td></tr></table></figure><h3 id="2-1-3-建模总结">2.1.3 建模总结</h3><p>再创建球体、凸台等，查看命令</p><figure class="highlight erlang-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!</span><br><span class="line">! CREATE SPHERE</span><br><span class="line">undo begin</span><br><span class="line">part create rigid_body name_and_position part_name=.Custom.PART_3 adams_id=<span class="number">3</span></span><br><span class="line">part modify rigid_body mass_properties part_name=.Custom.PART_3 material=.materials.steel</span><br><span class="line">part attributes part_name=.Custom.PART_3 color=GREEN name_vis=off</span><br><span class="line">marker create marker=.Custom.PART_3.MARKER_3 &amp;</span><br><span class="line">    adams_id=<span class="number">3</span> &amp;</span><br><span class="line">    location=(LOC_RELATIVE_TO(&#123;<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>&#125;, POINT_2)) &amp;</span><br><span class="line">    orientation=<span class="number">0.0</span>, <span class="number">0.0</span>, <span class="number">0.0</span></span><br><span class="line">geometry create shape ellipsoid &amp;</span><br><span class="line">    ellipsoid_name=.Custom.PART_3.ELLIPSOID_4 &amp;</span><br><span class="line">    x_scale_factor=(<span class="number">2</span>*(<span class="number">10.0</span>cm)) &amp;</span><br><span class="line">    y_scale_factor=(<span class="number">2</span>*(<span class="number">10.0</span>cm)) &amp;</span><br><span class="line">    z_scale_factor=(<span class="number">2</span>*(<span class="number">10.0</span>cm)) &amp;</span><br><span class="line">    center_marker=.Custom.PART_3.MARKER_3</span><br><span class="line">group modify group=SELECT_LIST object=.Custom.PART_3</span><br><span class="line">undo end</span><br><span class="line">!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!</span><br></pre></td></tr></table></figure><figure class="highlight erlang-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!</span><br><span class="line">! CREATE FRUSTUM</span><br><span class="line">undo begin</span><br><span class="line">part create rigid_body name_and_position part_name=.Custom.PART_4 adams_id=<span class="number">4</span></span><br><span class="line">part modify rigid_body mass_properties part_name=.Custom.PART_4 material=.materials.steel</span><br><span class="line">part attributes part_name=.Custom.PART_4 color=MAIZE name_vis=off</span><br><span class="line">marker create marker=.Custom.PART_4.MARKER_4 &amp;</span><br><span class="line">    adams_id=<span class="number">4</span> &amp;</span><br><span class="line">    location=-<span class="number">200.0</span>, <span class="number">50.0</span>, <span class="number">0.0</span> &amp;</span><br><span class="line">    orientation=<span class="number">180.0</span>, <span class="number">90.0</span>, <span class="number">180.0</span></span><br><span class="line">geometry create shape frustum &amp;</span><br><span class="line">    frustum_name=.Custom.PART_4.FRUSTUM_5 &amp;</span><br><span class="line">    adams_id=<span class="number">5</span> &amp;</span><br><span class="line">    length=(<span class="number">150.0</span>mm) &amp;</span><br><span class="line">    top_radius=(<span class="number">9.375</span>mm) &amp;</span><br><span class="line">    bottom_radius=(<span class="number">18.75</span>mm) &amp;</span><br><span class="line">    angle=<span class="number">360.0</span>d &amp;</span><br><span class="line">    side_count_for_body=<span class="number">20</span> &amp;</span><br><span class="line">    segment_count_for_ends=<span class="number">20</span> &amp;</span><br><span class="line">    center_marker=.Custom.PART_4.MARKER_4</span><br><span class="line">group modify group=SELECT_LIST object=.Custom.PART_4</span><br><span class="line">undo end</span><br><span class="line">!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!</span><br></pre></td></tr></table></figure><p>由上可总结，创建模型的语句都以<code>undo begin</code>和<code>undo end</code>为开头与结尾。然后包含<code>part create</code>,<code>part modify</code>,<code>part attributes</code>,<code>marker create</code>,<code>geometry create</code>,<code>group modify</code>这几项。</p><h2 id="2-2-创建连接副">2.2 创建连接副</h2><p>连接副的程序命令如下，先创建两个坐标点，然后创建一个转动副。</p><figure class="highlight erlang-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!</span><br><span class="line">! CREATE REVOLUTE JOINT</span><br><span class="line">undo begin</span><br><span class="line">marker create marker=.Custom.PART_2.MARKER_7 &amp;</span><br><span class="line">    adams_id=<span class="number">7</span> &amp;</span><br><span class="line">    location=<span class="number">200.0</span>, <span class="number">0.0</span>, <span class="number">0.0</span> &amp;</span><br><span class="line">    orientation=<span class="number">0.0</span>, <span class="number">0.0</span>, <span class="number">0.0</span></span><br><span class="line">marker create marker=.Custom.PART_3.MARKER_8 &amp;</span><br><span class="line">    adams_id=<span class="number">8</span> &amp;</span><br><span class="line">    location=<span class="number">200.0</span>, <span class="number">0.0</span>, <span class="number">0.0</span> &amp;</span><br><span class="line">    orientation=<span class="number">0.0</span>, <span class="number">0.0</span>, <span class="number">0.0</span></span><br><span class="line">constraint create joint Revolute &amp;</span><br><span class="line">    joint_name=.Custom.JOINT_2 &amp;</span><br><span class="line">    adams_id=<span class="number">2</span> &amp;</span><br><span class="line">    i_marker_name=.Custom.PART_2.MARKER_7 &amp;</span><br><span class="line">    j_marker_name=.Custom.PART_3.MARKER_8 </span><br><span class="line">constraint attribute constraint_name=.Custom.JOINT_2 name_vis=off</span><br><span class="line">group modify group=SELECT_LIST object=.Custom.JOINT_2</span><br><span class="line">undo end</span><br><span class="line">!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!</span><br></pre></td></tr></table></figure><h2 id="2-3-创建集中力">2.3 创建集中力</h2><p>创建一个集中力，程序首先创建两个坐标点，然后再创建力</p><figure class="highlight erlang-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!</span><br><span class="line">! CREATE FORCE</span><br><span class="line">undo begin</span><br><span class="line">marker create marker=.Custom.PART_3.MARKER_9 &amp;</span><br><span class="line">    adams_id=<span class="number">9</span> &amp;</span><br><span class="line">    location=<span class="number">200.0</span>, <span class="number">100.0</span>, <span class="number">0.0</span> &amp;</span><br><span class="line">    orientation=<span class="number">180.0</span>, <span class="number">90.0</span>, <span class="number">180.0</span></span><br><span class="line">marker create marker=.Custom.ground.MARKER_10 &amp;</span><br><span class="line">    adams_id=<span class="number">10</span> &amp;</span><br><span class="line">    location=<span class="number">200.0</span>, <span class="number">100.0</span>, <span class="number">0.0</span> &amp;</span><br><span class="line">    orientation=<span class="number">180.0</span>, <span class="number">90.0</span>, <span class="number">180.0</span></span><br><span class="line">force create direct single_component_force &amp;</span><br><span class="line">      single_component_force_name=.Custom.SFORCE_1 &amp;</span><br><span class="line">      adams_id=<span class="number">1</span> &amp;</span><br><span class="line">      type_of_freedom=translational &amp;</span><br><span class="line">      action_only = on &amp;</span><br><span class="line">      i_marker_name=.Custom.PART_3.MARKER_9 &amp;</span><br><span class="line">      j_marker_name=.Custom.ground.MARKER_10 &amp;</span><br><span class="line">      function=<span class="string">&quot;0.34&quot;</span> &amp;</span><br><span class="line">   comments=<span class="string">&quot;&quot;</span></span><br><span class="line">mdi graphic_force object=.Custom.SFORCE_1 type=<span class="number">1</span></span><br><span class="line">group modify group=SELECT_LIST object=.Custom.SFORCE_1</span><br><span class="line">undo end</span><br><span class="line">!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!</span><br></pre></td></tr></table></figure><h2 id="2-4-程序小结">2.4 程序小结</h2><p>经过以上命令操作，可以看到都遵循了相同的语法格式，即：</p><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">关键字  参数<span class="operator">=</span>值</span><br></pre></td></tr></table></figure><p>还有一个<code>&amp;</code>标识，这个是续行标识符，意味着该命令没有结束，下一行继续该命令。</p><p>另外，程序常有<code>循环语句</code>和<code>条件语句</code>，adams/View中两种语句分别为：</p><ul><li><p>固定次数的循环语句 FOR/END</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> variable_name = XXX  <span class="attribute">start_value</span>=X <span class="attribute">end_value</span>=X</span><br><span class="line">    循环语句</span><br><span class="line">end</span><br></pre></td></tr></table></figure></li><li><p>条件循环语句 WHILE/END</p><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> condition=(表达式)</span><br><span class="line">    循环语句</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure></li><li><p>条件语句IF/ELSE/END</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">if <span class="keyword">condition</span><span class="operator">=</span>(表达式<span class="number">1</span>)</span><br><span class="line">    程序<span class="number">1</span></span><br><span class="line">elseif <span class="keyword">condition</span><span class="operator">=</span>(表达式<span class="number">2</span>)</span><br><span class="line">    程序<span class="number">2</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    程序<span class="number">3</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure></li></ul><h2 id="2-5-创建宏">2.5 创建宏</h2><p>首先在cmd文件中确认变量，并填写命令流</p><p><code>variable create  variable_name=InLayNum integer_value= $Laynum</code></p><p>然后在主菜单-&gt;Tools-&gt;Macro-&gt;Read中填入宏名、输入宏命令文件，按下ok</p><p>修改宏可以从主菜单-&gt;Tools-&gt;Edit-&gt;Modify得到数据库导航对话框</p><p>运行带参数的宏：主菜单-&gt;View-&gt;Command Window中输入</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">FoldMacro <span class="attribute">LayNum</span>=5</span><br></pre></td></tr></table></figure><p>即可执行创建的宏。</p><h2 id="2-6-创建对话框">2.6 创建对话框</h2><p>创建方式：主菜单-&gt;Tools-&gt;Dialog Box -&gt;Create打开对话框构造器</p><p>文本框预加载函数</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$_self</span>.<span class="attribute">preload_string</span>=<span class="string">&quot;<span class="variable">$_value</span>&quot;</span></span><br></pre></td></tr></table></figure><p>单击<code>OK</code>时执行以下命令</p><figure class="highlight smali"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">interface dialog<span class="built_in"> execute </span>dialog=$_parent undisp=yes</span><br><span class="line">FoldMMacro LayNum=(eval($_parent.field_1.preload_strings)</span><br></pre></td></tr></table></figure><p>单击<code>Apply</code>时执行以下命令</p><figure class="highlight smali"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">interface dialog<span class="built_in"> execute </span>dialog=$_parent undisp=no</span><br><span class="line">FoldMMacro LayNum=(eval($_parent.field_1.preload_strings)</span><br></pre></td></tr></table></figure><p>调试程序：Dialog-box Builder的Option中找到Test Box，在其前打勾，则新创建的对话框处于被调试状态。</p><h2 id="2-7-定义菜单">2.7 定义菜单</h2><p>定义菜单是为了在Adams/View的自带菜单基础上，在该菜单条的最后面添加<code>定制化菜单</code>，然后在菜单项下面添加子菜单，当用户选择执行时可以调用相应对话框进行建模设计。</p><p>菜单的修改在Tools-&gt;menu-&gt;modify中查看</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br></pre></td><td class="code"><pre><span class="line">MENU1  &amp;File</span><br><span class="line">     <span class="type">NAME</span>=file</span><br><span class="line">     HELP=<span class="keyword">Read</span> <span class="keyword">and</span> <span class="keyword">write</span> files, print model views, <span class="keyword">or</span> <span class="keyword">exit</span> Adams</span><br><span class="line">     BUTTON2  &amp;<span class="built_in">New</span> <span class="keyword">Database</span>::Ctrl+N</span><br><span class="line">            <span class="type">NAME</span>=<span class="built_in">new</span></span><br><span class="line">            HELP=<span class="keyword">Reset</span> <span class="keyword">Database</span> <span class="keyword">by</span> reading <span class="keyword">default</span> Adams <span class="keyword">View</span> Binary File <span class="keyword">from</span> <span class="keyword">current</span> <span class="keyword">or</span> installation directory</span><br><span class="line">            CMD=! <span class="keyword">Check</span> changed db now, so that we can suppress the confusing <span class="string">&#x27;continue with read&#x27;</span> later</span><br><span class="line">            CMD=! <span class="keyword">Do</span> <span class="keyword">not</span> <span class="keyword">do</span> anything <span class="keyword">before</span> DB_CHANGED() <span class="keyword">and</span> <span class="keyword">nothing</span> <span class="keyword">after</span> file bin <span class="keyword">read</span> so that DB_CHANGED() <span class="keyword">is</span> <span class="keyword">not</span> confused</span><br><span class="line">            CMD=<span class="keyword">if</span> cond=(eval(is_simulating()))</span><br><span class="line">            CMD=    aview toolkit <span class="built_in">warning</span> <span class="built_in">warning</span> = (eval(\&quot;A simulation is running. Stop it or allow it to finish before creating New Database.\&quot;))</span><br><span class="line">            CMD=    <span class="keyword">return</span></span><br><span class="line">            CMD=<span class="keyword">end</span></span><br><span class="line">            CMD=<span class="keyword">if</span> cond=( DB_CHANGED() &amp;&amp; db_default(.system_defaults, &quot;model&quot;) != (<span class="keyword">none</span>) )</span><br><span class="line">            CMD=   var <span class="keyword">set</span> var=.mdi.file_menu_tmp_name str=(eval(db_default (.system_defaults, &quot;model&quot;).name))</span><br><span class="line">            CMD=   <span class="keyword">if</span> cond=( DB_EXISTS(&quot;.mdi.LAST_DATABASE_NAME&quot;))</span><br><span class="line">            CMD=      <span class="keyword">if</span> cond=(!str_is_space(.mdi.LAST_DATABASE_NAME))</span><br><span class="line">            CMD=         var <span class="keyword">set</span> var=.mdi.file_menu_tmp_name str=(eval(.mdi.LAST_DATABASE_NAME))</span><br><span class="line">            CMD=      <span class="keyword">end</span></span><br><span class="line">            CMD=   <span class="keyword">end</span></span><br><span class="line">            CMD=   var <span class="keyword">set</span> var = .mdi.file_menu_status <span class="type">int</span> = (eval(alert(&quot;Warning&quot;, &quot;Database has changed. Do you want to save database as &#x27;&quot;//.mdi.file_menu_tmp_name//&quot;&#x27; before proceeding?&quot;,&quot;Yes&quot;,&quot;No&quot;, &quot;Cancel&quot;, <span class="number">1</span>)))</span><br><span class="line">            CMD=   <span class="keyword">if</span> cond=( .mdi.file_menu_status != <span class="number">3</span>  &amp;&amp; .mdi.file_menu_status != <span class="number">0</span>)</span><br><span class="line">            CMD=      <span class="keyword">if</span> cond=( .mdi.file_menu_status == <span class="number">1</span>)</span><br><span class="line">            CMD=         file binary <span class="keyword">write</span> file = (eval( .mdi.file_menu_tmp_name ))</span><br><span class="line">            CMD=      <span class="keyword">end</span></span><br><span class="line">            CMD=   <span class="keyword">end</span></span><br><span class="line">            CMD=<span class="keyword">else</span></span><br><span class="line">            CMD=   var <span class="keyword">set</span> var=.mdi.file_menu_status <span class="type">int</span>=<span class="number">-1</span></span><br><span class="line">            CMD=<span class="keyword">end</span></span><br><span class="line">            CMD=var <span class="keyword">set</span> var=.mdi.file_menu_tmp_name str=&quot;&quot;</span><br><span class="line">            CMD=var <span class="keyword">set</span> var=.mdi.mdi_aview_bin str=(eval(getenv(&quot;MDI_AVIEW_BIN&quot;)))</span><br><span class="line">            CMD=<span class="keyword">if</span> cond=( .mdi.file_menu_status != <span class="number">3</span> &amp;&amp; .mdi.file_menu_status != <span class="number">0</span>)</span><br><span class="line">            CMD=   <span class="keyword">if</span> cond=( file_exists( &quot;./aview.bin&quot; ) )</span><br><span class="line">            CMD=      var <span class="keyword">set</span> var = .mdi.file_menu_status <span class="type">int</span> = (eval(alert(&quot;Warning&quot;, &quot;A default database file &#x27;aview.bin&#x27; exists in the current working directory.&quot;,&quot;Read this local file&quot;,&quot;Use installation file&quot;, &quot;Cancel&quot;, <span class="number">1</span>)))</span><br><span class="line">            CMD=      <span class="keyword">if</span> cond=( .mdi.file_menu_status == <span class="number">1</span> )</span><br><span class="line">            CMD=         var <span class="keyword">set</span> var=.mdi.file_menu_tmp_name str=&quot;aview&quot;</span><br><span class="line">            CMD=      elseif cond=( .mdi.file_menu_status == <span class="number">2</span> )</span><br><span class="line">            CMD=         <span class="keyword">if</span> cond=(.mdi.mdi_aview_bin != &quot;&quot;)</span><br><span class="line">            CMD=            var <span class="keyword">set</span> var=.mdi.file_menu_tmp_name str=(eval(.mdi.mdi_aview_bin))</span><br><span class="line">            CMD=         <span class="keyword">else</span></span><br><span class="line">            CMD=            var <span class="keyword">set</span> var=.mdi.file_menu_tmp_name str=(eval( getenv( &quot;aview_bindir&quot; )//&quot;/aview.bin&quot; ))</span><br><span class="line">            CMD=         <span class="keyword">end</span></span><br><span class="line">            CMD=      <span class="keyword">else</span></span><br><span class="line">            CMD=         var <span class="keyword">set</span> var=.mdi.file_menu_tmp_name str=&quot;&quot;</span><br><span class="line">            CMD=      <span class="keyword">end</span></span><br><span class="line">            CMD=   <span class="keyword">else</span></span><br><span class="line">            CMD=      <span class="keyword">if</span> cond=(.mdi.mdi_aview_bin != &quot;&quot;)</span><br><span class="line">            CMD=         var <span class="keyword">set</span> var=.mdi.file_menu_tmp_name str=(eval(.mdi.mdi_aview_bin))</span><br><span class="line">            CMD=      <span class="keyword">else</span></span><br><span class="line">            CMD=         var <span class="keyword">set</span> var=.mdi.file_menu_tmp_name str=&quot;aview&quot;</span><br><span class="line">            CMD=      <span class="keyword">end</span></span><br><span class="line">            CMD=   <span class="keyword">end</span></span><br><span class="line">            CMD=<span class="keyword">end</span></span><br><span class="line">            CMD=<span class="keyword">if</span> cond=( .mdi.file_menu_tmp_name != &quot;&quot; )</span><br><span class="line">            CMD=   file bin <span class="keyword">read</span> file=(eval( .mdi.file_menu_tmp_name )) alert=<span class="keyword">no</span></span><br><span class="line">            CMD=   file com rea fil=aviewAS</span><br><span class="line">            CMD=   var <span class="keyword">set</span> var=.file_menu_status <span class="type">int</span>=(eval( HIDE_CMD_WINDOW() ))</span><br><span class="line">     BUTTON2  &amp;<span class="keyword">Open</span> <span class="keyword">Database</span>::Ctrl+O</span><br><span class="line">            <span class="type">NAME</span>=<span class="keyword">open</span></span><br><span class="line">            HELP=<span class="keyword">Open</span> a <span class="keyword">Database</span> File (Adams <span class="keyword">View</span> Binary File)</span><br><span class="line">            CMD=! <span class="keyword">Check</span> changed db now, so that we can suppress the confusing <span class="string">&#x27;continue with read&#x27;</span> later</span><br><span class="line">            CMD=! <span class="keyword">Do</span> <span class="keyword">not</span> <span class="keyword">do</span> anything <span class="keyword">before</span> DB_CHANGED() <span class="keyword">and</span> <span class="keyword">nothing</span> <span class="keyword">after</span> file bin <span class="keyword">read</span> so that DB_CHANGED() <span class="keyword">is</span> <span class="keyword">not</span> confused</span><br><span class="line">            CMD=<span class="keyword">if</span> cond=( DB_CHANGED() &amp;&amp; db_default(.system_defaults, &quot;model&quot;) != (<span class="keyword">none</span>) )</span><br><span class="line">            CMD=   var <span class="keyword">set</span> var=.mdi.file_menu_tmp_name str=(eval(db_default (.system_defaults, &quot;model&quot;).name))</span><br><span class="line">            CMD=   <span class="keyword">if</span> cond=( DB_EXISTS(&quot;.mdi.LAST_DATABASE_NAME&quot;))</span><br><span class="line">            CMD=      <span class="keyword">if</span> cond=(!str_is_space(.mdi.LAST_DATABASE_NAME))</span><br><span class="line">            CMD=         var <span class="keyword">set</span> var=.mdi.file_menu_tmp_name str=(eval(.mdi.LAST_DATABASE_NAME))</span><br><span class="line">            CMD=      <span class="keyword">end</span></span><br><span class="line">            CMD=   <span class="keyword">end</span></span><br><span class="line">            CMD=   var <span class="keyword">set</span> var = .mdi.file_menu_status &amp;</span><br><span class="line">            CMD=      <span class="type">int</span> = (eval(alert(&quot;Warning&quot;, &quot;Database has changed. Do you want to save database as &#x27;&quot;//.mdi.file_menu_tmp_name//&quot;&#x27; before proceeding?&quot;,&quot;Yes&quot;,&quot;No&quot;, &quot;Cancel&quot;, <span class="number">1</span>)))</span><br><span class="line">            CMD=   <span class="keyword">if</span> cond=( .mdi.file_menu_status != <span class="number">3</span>  &amp;&amp; .mdi.file_menu_status != <span class="number">0</span>)</span><br><span class="line">            CMD=      <span class="keyword">if</span> cond=( .mdi.file_menu_status == <span class="number">1</span> )</span><br><span class="line">            CMD=         file binary <span class="keyword">write</span> file = (eval( .mdi.file_menu_tmp_name ))</span><br><span class="line">            CMD=      <span class="keyword">end</span></span><br><span class="line">            CMD=   <span class="keyword">end</span></span><br><span class="line">            CMD=<span class="keyword">else</span></span><br><span class="line">            CMD=   var <span class="keyword">set</span> var=.mdi.file_menu_status <span class="type">int</span>=<span class="number">-1</span></span><br><span class="line">            CMD=<span class="keyword">end</span></span><br><span class="line">            CMD=<span class="keyword">if</span> cond=( .mdi.file_menu_status != <span class="number">3</span>  &amp;&amp; .mdi.file_menu_status != <span class="number">0</span>)</span><br><span class="line">            CMD=   file bin <span class="keyword">read</span> alert=<span class="keyword">no</span> file=?</span><br><span class="line">            CMD=<span class="keyword">end</span></span><br><span class="line">     BUTTON2  &amp;Save <span class="keyword">Database</span>::Ctrl+S</span><br><span class="line">            <span class="type">NAME</span>=save</span><br><span class="line">            HELP=Save <span class="keyword">Database</span> (Adams <span class="keyword">View</span> Binary File)</span><br><span class="line">            CMD=var <span class="keyword">set</span> var=.mdi.file_menu_tmp_name str=&quot;&quot;</span><br><span class="line">            CMD=<span class="keyword">if</span> cond=( DB_EXISTS(&quot;.mdi.LAST_DATABASE_NAME&quot;))</span><br><span class="line">            CMD=   <span class="keyword">if</span> cond=(!str_is_space(.mdi.LAST_DATABASE_NAME))</span><br><span class="line">            CMD=      var <span class="keyword">set</span> var=.mdi.file_menu_tmp_name str=(eval(.mdi.LAST_DATABASE_NAME))</span><br><span class="line">            CMD=   <span class="keyword">end</span></span><br><span class="line">            CMD=<span class="keyword">end</span></span><br><span class="line">            CMD=<span class="keyword">if</span> cond=( str_is_space( .mdi.file_menu_tmp_name ))</span><br><span class="line">            CMD=   <span class="keyword">if</span> cond=( DB_DEFAULT(.system_defaults, &quot;model&quot;) != (<span class="keyword">none</span>) )</span><br><span class="line">            CMD=      var <span class="keyword">set</span> var=.mdi.file_menu_tmp_name str=(eval(DB_DEFAULT(.system_defaults, &quot;model&quot;).name//&quot;.bin&quot;))</span><br><span class="line">            CMD=   <span class="keyword">end</span></span><br><span class="line">            CMD=<span class="keyword">end</span></span><br><span class="line">            CMD=<span class="keyword">if</span> cond=( !str_is_space(.mdi.file_menu_tmp_name) )</span><br><span class="line">            CMD=   ! Give <span class="keyword">info</span> about file <span class="type">name</span> <span class="keyword">and</span> opportunity <span class="keyword">to</span> cancel <span class="keyword">also</span> <span class="keyword">if</span> file doesn<span class="string">&#x27;t exist yet</span></span><br><span class="line"><span class="string">            CMD=   if cond=( ! file_exists( .mdi.file_menu_tmp_name ) )</span></span><br><span class="line"><span class="string">            CMD=      if cond=(eval(alert(&quot;Info&quot;, &quot;Saving current database as &#x27;</span>&quot;//.mdi.file_menu_tmp_name//&quot;<span class="string">&#x27;.&quot;,&quot;OK&quot;, &quot;Cancel&quot;,&quot;&quot;, 1) != 2))</span></span><br><span class="line"><span class="string">            CMD=         var set var=.mdi.LAST_DATABASE_NAME str=(eval(.mdi.file_menu_tmp_name))</span></span><br><span class="line"><span class="string">            CMD=         file binary write file=(eval(.mdi.file_menu_tmp_name ))</span></span><br><span class="line"><span class="string">            CMD=      end</span></span><br><span class="line"><span class="string">            CMD=   else</span></span><br><span class="line"><span class="string">            CMD=      var set var=.mdi.LAST_DATABASE_NAME str=(eval(.mdi.file_menu_tmp_name))</span></span><br><span class="line"><span class="string">            CMD=      file binary write file=(eval(.mdi.file_menu_tmp_name)) alert=yes</span></span><br><span class="line"><span class="string">            CMD=   end</span></span><br><span class="line"><span class="string">            CMD=else</span></span><br><span class="line"><span class="string">            CMD=   var set var = .mdi.file_menu_status &amp;</span></span><br><span class="line"><span class="string">            CMD=      int = (eval(alert(&quot;Error&quot;, &quot;No model exists. Create one first or use &#x27;</span>Save <span class="keyword">Database</span> <span class="keyword">As</span>..<span class="string">&#x27;&quot;,&quot;OK&quot;,&quot;&quot;, &quot;&quot;, 1)))</span></span><br><span class="line"><span class="string">            CMD=end</span></span><br><span class="line"><span class="string">     BUTTON2  Save Database &amp;As...</span></span><br><span class="line"><span class="string">            NAME=save_as</span></span><br><span class="line"><span class="string">            HELP=Save Database (Adams View Binary File) under a special name or using a special format</span></span><br><span class="line"><span class="string">            CMD=interface dialog display dialog=.gui.database_save_as</span></span><br><span class="line"><span class="string">     SEPARATOR2</span></span><br><span class="line"><span class="string">     BUTTON2  &amp;Import...</span></span><br><span class="line"><span class="string">            NAME=import</span></span><br><span class="line"><span class="string">            CMD=int dia dis dia=.gui.file_import</span></span><br><span class="line"><span class="string">     BUTTON2  &amp;Export...</span></span><br><span class="line"><span class="string">            CMD=int dia dis dia=.gui.file_export</span></span><br><span class="line"><span class="string">     SEPARATOR2</span></span><br><span class="line"><span class="string">     BUTTON2  &amp;Print...::Ctrl+P</span></span><br><span class="line"><span class="string">            NAME=print</span></span><br><span class="line"><span class="string">            HELP=Send page(s) to a printer or a postscript file.</span></span><br><span class="line"><span class="string">            CMD=if condition=(getenv(&quot;OS&quot;) == &quot;Windows_NT&quot;)</span></span><br><span class="line"><span class="string">            CMD=   hardcopy language=windows_native</span></span><br><span class="line"><span class="string">            CMD=else</span></span><br><span class="line"><span class="string">            CMD=   interface dialog display dialog=.gui.print_panel</span></span><br><span class="line"><span class="string">            CMD=end</span></span><br><span class="line"><span class="string">     SEPARATOR2</span></span><br><span class="line"><span class="string">     BUTTON2  Select &amp;Directory...</span></span><br><span class="line"><span class="string">            NAME=select_dir</span></span><br><span class="line"><span class="string">            HELP=Specify the current working directory</span></span><br><span class="line"><span class="string">            CMD=var set var=$_self.newdir str=(eval(SELECT_DIRECTORY(&quot;.&quot;)))</span></span><br><span class="line"><span class="string">            CMD=if cond=(!str_is_space($_self.newdir))</span></span><br><span class="line"><span class="string">            CMD=   var set var=$_self.success int=(eval(CHDIR($_self.newdir)))</span></span><br><span class="line"><span class="string">            CMD=   var del var=$_self.success</span></span><br><span class="line"><span class="string">            CMD=end</span></span><br><span class="line"><span class="string">            CMD=var del var=$_self.newdir</span></span><br><span class="line"><span class="string">     SEPARATOR2</span></span><br><span class="line"><span class="string">     BUTTON2  E&amp;xit::Ctrl+Q</span></span><br><span class="line"><span class="string">            NAME=exit</span></span><br><span class="line"><span class="string">            HELP=Exit the Adams Modeling and Simulation System</span></span><br><span class="line"><span class="string">            CMD=mdi exit_macro</span></span><br><span class="line"><span class="string">MENU1  &amp;Edit</span></span><br></pre></td></tr></table></figure><p>以菜单项<code>File</code>和<code>Edit</code>之间的代码来查看</p><p><code>MENU1 &amp;File</code>，说明这是一个菜单，<code>1</code>表示排在第一级，<code>&amp;</code>表示可以用快捷键进入，快捷键是<code>ALT+后面紧跟的字母</code>，<code>File</code>表示这个菜单的名字。</p><p><code>NAME=file</code>，内部调用程序的名字</p><p><code>HELP=XXX</code>，是菜单项的帮助文本</p><p><code>BUTTON2 &amp;New Database::Ctrl+N</code>表示第二级菜单命令按钮，快捷键是<code>Alt+N</code>或者<code>Ctrl+N</code></p><p><code>CMD=XXX</code>则是该按钮按下后执行的命令。</p><p>新建菜单只需要在该文件的最后按照上述菜单格式编写即可。</p><h1>3 优化设计</h1><p>本案例选自<a href="https://pan.baidu.com/s/1rehMl2PE2Tg3T0hMBSesYg?pwd=Ning">虚拟样机技术与ADAMS应用实例教程_郭卫东</a>第八章P276，案例如图所示</p><p><img src="%5C%E5%9B%BE%E7%89%87%5C%E5%8D%9A%E5%AE%A2%5Cadams%5CP7.png" alt="图7 优化设计案例"></p><p>本案例源代码已上传<a href="https://pan.baidu.com/s/1ZzT9tjKKlFxMjQ0PbaGjoA?pwd=Ning">下载链接</a>（仅保存建模仿真部分）</p><p>案例学习点：</p><p>（1）建模</p><p>在此次建模时，可以发现模型中几个构件在关节连接处是重合在一起的，这对结果可能会有一定的影响。</p><p>（2）装配后分析</p><p>对完成建模的模型进行<code>模型确认</code>，得到以下内容，确认无误。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">VERIFY MODEL: .Latch</span><br><span class="line"></span><br><span class="line">  <span class="number">-1</span> Gruebler <span class="title function_">Count</span> <span class="params">(approximate degrees of freedom)</span></span><br><span class="line">   4 Moving <span class="title function_">Parts</span> <span class="params">(not including ground)</span></span><br><span class="line">   1 Cylindrical Joints</span><br><span class="line">   4 Revolute Joints</span><br><span class="line">   1 Inplane Primitive_Joints</span><br><span class="line"></span><br><span class="line">   1 Degrees of Freedom <span class="keyword">for</span> .Latch</span><br><span class="line"></span><br><span class="line">There are 2 redundant constraint equations.</span><br><span class="line"></span><br><span class="line">   This constraint:                      unnecessarily removes this DOF:</span><br><span class="line"></span><br><span class="line">   .Latch.<span class="title function_">JOINT_2</span>  <span class="params">(Revolute Joint)</span>      Rotation Between Zi &amp; Yj</span><br><span class="line">   .Latch.<span class="title function_">JOINT_5</span>  <span class="params">(Cylindrical Joint)</span>   Rotation Between Zi &amp; Xj</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Model verified successfully</span><br></pre></td></tr></table></figure><p>（3）优化设计</p><p>首先导入<code>试验数据</code>，然后在后处理窗口中与仿真数据进行分析对比</p><p>然后创建设计变量，设定优化目标函数，开始优化</p><p>最后设计个性化对话框、个性化菜单等，将整个过程封装。</p>]]></content>
      
      
      <categories>
          
          <category> 机械 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> adams </tag>
            
            <tag> 多体动力学仿真 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
